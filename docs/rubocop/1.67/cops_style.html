<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Style :: RuboCop Docs</title>
    <link rel="canonical" href="https://docs.rubocop.org/rubocop/cops_style.html">
    <link rel="prev" href="cops_security.html">
    <link rel="next" href="v1_upgrade_notes.html">
    <meta name="generator" content="Antora 3.1.10">
    <link rel="stylesheet" href="../../_/css/site.css">
<link rel="stylesheet" href="../../_/css/site-extra.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3.3.3">
<style>:root{--docsearch-primary-color: #bd362f} </style>
<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-140153536-1"></script>
    <script>function gtag(){dataLayer.push(arguments)};window.dataLayer=window.dataLayer||[];gtag('js',new Date());gtag('config','UA-140153536-1')</script>
  </head>
  <body class="article">
<header class="header" role="banner">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <a href="https://rubocop.org">RuboCop</a>
        <span class="separator">//</span>
        <a href="https://docs.rubocop.org">Docs</a>
      </div>
      <div class="navbar-item">
        <div id="docsearch"></div>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href=index.html>Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Style Guides</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://rubystyle.guide">Ruby</a>
            <a class="navbar-item" href="https://rails.rubystyle.guide">Rails</a>
            <a class="navbar-item" href="https://rspec.rubystyle.guide">RSpec</a>
            <a class="navbar-item" href="https://minitest.rubystyle.guide">Minitest</a>
          </div>
        </div>
        <a class="navbar-item" href="https://www.rubydoc.info/gems/rubocop">API Docs</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Projects</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://github.com/rubocop/rubocop">RuboCop</a>
            <a class="navbar-item" href="https://github.com/rubocop/rubocop-ast">RuboCop AST</a>
            <a class="navbar-item" href="https://github.com/rubocop/rubocop-capybara">RuboCop Capybara</a>
            <a class="navbar-item" href="https://github.com/rubocop/rubocop-factory_bot">RuboCop factory_bot</a>
            <a class="navbar-item" href="https://github.com/rubocop/rubocop-minitest">RuboCop Minitest</a>
            <a class="navbar-item" href="https://github.com/rubocop/rubocop-performance">RuboCop Performance</a>
            <a class="navbar-item" href="https://github.com/rubocop/rubocop-rails">RuboCop Rails</a>
            <a class="navbar-item" href="https://github.com/rubocop/rubocop-rake">RuboCop Rake</a>
            <a class="navbar-item" href="https://github.com/rubocop/rubocop-rspec">RuboCop RSpec</a>
            <a class="navbar-item" href="https://github.com/rubocop/rubocop-rspec_rails">RuboCop RSpec Rails</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://github.com/rubocop">GitHub Org</a>
            <a class="navbar-item" href="https://gitter.im/bbatsov/rubocop">Chat (Gitter)</a>
            <a class="navbar-item" href="https://opencollective.com/rubocop">Open Collective</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="rubocop" data-version="1.67">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="index.html">RuboCop</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="index.html">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="installation.html">Installation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="compatibility.html">Compatibility</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Usage</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="usage/basic_usage.html">Basic Usage</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="usage/autocorrect.html">Autocorrect</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="usage/caching.html">Caching</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="usage/lsp.html">LSP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="usage/server.html">Server</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="usage/profiling.html">Profiling</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="cops.html">Cops</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="formatters.html">Formatters</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Cop Documentation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cops_bundler.html">Bundler</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cops_gemspec.html">Gemspec</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cops_layout.html">Layout</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cops_lint.html">Lint</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cops_metrics.html">Metrics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cops_migration.html">Migration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cops_naming.html">Naming</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cops_security.html">Security</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="cops_style.html">Style</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="v1_upgrade_notes.html">Upgrade Notes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="extensions.html">Extensions</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="integration_with_other_tools.html">Integration with Other Tools</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="automated_code_review.html">Automated Code Review</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="development.html">Development</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="contributing.html">Contributing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="support.html">Support</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="versioning.html">Versioning</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">About</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="about/history.html">History</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="about/team.html">Team</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="about/changelog.html">Changelog</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="about/logo.html">Logo</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="about/license.html">License</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">RuboCop</span>
    <span class="version">1.67</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <div class="title"><a href="../index.html">RuboCop</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../index.html">default</a>
        </li>
        <li class="version">
          <a href="../1.72/index.html">1.72</a>
        </li>
        <li class="version">
          <a href="../1.71/index.html">1.71</a>
        </li>
        <li class="version">
          <a href="../1.70/index.html">1.70</a>
        </li>
        <li class="version">
          <a href="../1.69/index.html">1.69</a>
        </li>
        <li class="version">
          <a href="../1.68/index.html">1.68</a>
        </li>
        <li class="version is-current">
          <a href="index.html">1.67</a>
        </li>
        <li class="version">
          <a href="../1.66/index.html">1.66</a>
        </li>
        <li class="version">
          <a href="../1.65/index.html">1.65</a>
        </li>
        <li class="version">
          <a href="../1.64/index.html">1.64</a>
        </li>
        <li class="version">
          <a href="../1.63/index.html">1.63</a>
        </li>
        <li class="version">
          <a href="../1.62/index.html">1.62</a>
        </li>
        <li class="version">
          <a href="../1.61/index.html">1.61</a>
        </li>
        <li class="version">
          <a href="../1.60/index.html">1.60</a>
        </li>
        <li class="version">
          <a href="../1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../rubocop-ast/index.html">RuboCop AST</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../rubocop-ast/index.html">master</a>
        </li>
        <li class="version">
          <a href="../../rubocop-ast/1.12/index.html">1.12</a>
        </li>
        <li class="version">
          <a href="../../rubocop-ast/1.11/index.html">1.11</a>
        </li>
        <li class="version">
          <a href="../../rubocop-ast/1.10/index.html">1.10</a>
        </li>
        <li class="version">
          <a href="../../rubocop-ast/1.9/index.html">1.9</a>
        </li>
        <li class="version">
          <a href="../../rubocop-ast/1.8/index.html">1.8</a>
        </li>
        <li class="version">
          <a href="../../rubocop-ast/1.7/index.html">1.7</a>
        </li>
        <li class="version">
          <a href="../../rubocop-ast/1.6/index.html">1.6</a>
        </li>
        <li class="version">
          <a href="../../rubocop-ast/1.5/index.html">1.5</a>
        </li>
        <li class="version">
          <a href="../../rubocop-ast/1.4/index.html">1.4</a>
        </li>
        <li class="version">
          <a href="../../rubocop-ast/1.3/index.html">1.3</a>
        </li>
        <li class="version">
          <a href="../../rubocop-ast/1.2/index.html">1.2</a>
        </li>
        <li class="version">
          <a href="../../rubocop-ast/1.1/index.html">1.1</a>
        </li>
        <li class="version">
          <a href="../../rubocop-ast/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../rubocop-capybara/index.html">RuboCop Capybara</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../rubocop-capybara/index.html">default</a>
        </li>
        <li class="version">
          <a href="../../rubocop-capybara/2.21/index.html">2.21</a>
        </li>
        <li class="version">
          <a href="../../rubocop-capybara/2.20/index.html">2.20</a>
        </li>
        <li class="version">
          <a href="../../rubocop-capybara/2.19/index.html">2.19</a>
        </li>
        <li class="version">
          <a href="../../rubocop-capybara/2.18/index.html">2.18</a>
        </li>
        <li class="version">
          <a href="../../rubocop-capybara/2.17/index.html">2.17</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../rubocop-factory_bot/index.html">RuboCop factory_bot</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../rubocop-factory_bot/index.html">default</a>
        </li>
        <li class="version">
          <a href="../../rubocop-factory_bot/2.26/index.html">2.26</a>
        </li>
        <li class="version">
          <a href="../../rubocop-factory_bot/2.25/index.html">2.25</a>
        </li>
        <li class="version">
          <a href="../../rubocop-factory_bot/2.24/index.html">2.24</a>
        </li>
        <li class="version">
          <a href="../../rubocop-factory_bot/2.23/index.html">2.23</a>
        </li>
        <li class="version">
          <a href="../../rubocop-factory_bot/2.22/index.html">2.22</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../rubocop-minitest/index.html">RuboCop Minitest</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../rubocop-minitest/index.html">default</a>
        </li>
        <li class="version">
          <a href="../../rubocop-minitest/0.36/index.html">0.36</a>
        </li>
        <li class="version">
          <a href="../../rubocop-minitest/0.35/index.html">0.35</a>
        </li>
        <li class="version">
          <a href="../../rubocop-minitest/0.34/index.html">0.34</a>
        </li>
        <li class="version">
          <a href="../../rubocop-minitest/0.33/index.html">0.33</a>
        </li>
        <li class="version">
          <a href="../../rubocop-minitest/0.32/index.html">0.32</a>
        </li>
        <li class="version">
          <a href="../../rubocop-minitest/0.31/index.html">0.31</a>
        </li>
        <li class="version">
          <a href="../../rubocop-minitest/0.30/index.html">0.30</a>
        </li>
        <li class="version">
          <a href="../../rubocop-minitest/0.29/index.html">0.29</a>
        </li>
        <li class="version">
          <a href="../../rubocop-minitest/0.28/index.html">0.28</a>
        </li>
        <li class="version">
          <a href="../../rubocop-minitest/0.27/index.html">0.27</a>
        </li>
        <li class="version">
          <a href="../../rubocop-minitest/0.26/index.html">0.26</a>
        </li>
        <li class="version">
          <a href="../../rubocop-minitest/0.25/index.html">0.25</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../rubocop-packaging/index.html">RuboCop Packaging</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../rubocop-packaging/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../rubocop-performance/index.html">RuboCop Performance</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../rubocop-performance/index.html">default</a>
        </li>
        <li class="version">
          <a href="../../rubocop-performance/1.23/index.html">1.23</a>
        </li>
        <li class="version">
          <a href="../../rubocop-performance/1.22/index.html">1.22</a>
        </li>
        <li class="version">
          <a href="../../rubocop-performance/1.21/index.html">1.21</a>
        </li>
        <li class="version">
          <a href="../../rubocop-performance/1.20/index.html">1.20</a>
        </li>
        <li class="version">
          <a href="../../rubocop-performance/1.19/index.html">1.19</a>
        </li>
        <li class="version">
          <a href="../../rubocop-performance/1.18/index.html">1.18</a>
        </li>
        <li class="version">
          <a href="../../rubocop-performance/1.17/index.html">1.17</a>
        </li>
        <li class="version">
          <a href="../../rubocop-performance/1.16/index.html">1.16</a>
        </li>
        <li class="version">
          <a href="../../rubocop-performance/1.15/index.html">1.15</a>
        </li>
        <li class="version">
          <a href="../../rubocop-performance/1.14/index.html">1.14</a>
        </li>
        <li class="version">
          <a href="../../rubocop-performance/1.13/index.html">1.13</a>
        </li>
        <li class="version">
          <a href="../../rubocop-performance/1.12/index.html">1.12</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../rubocop-rails/index.html">RuboCop Rails</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../rubocop-rails/index.html">default</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rails/2.29/index.html">2.29</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rails/2.28/index.html">2.28</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rails/2.27/index.html">2.27</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rails/2.26/index.html">2.26</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rails/2.25/index.html">2.25</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rails/2.24/index.html">2.24</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rails/2.23/index.html">2.23</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rails/2.22/index.html">2.22</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rails/2.21/index.html">2.21</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rails/2.20/index.html">2.20</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rails/2.19/index.html">2.19</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rails/2.18/index.html">2.18</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rails/2.17/index.html">2.17</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rails/2.16/index.html">2.16</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rails/2.15/index.html">2.15</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rails/2.14/index.html">2.14</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../rubocop-rspec/index.html">RuboCop RSpec</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../rubocop-rspec/index.html">default</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rspec/3.1/index.html">3.1</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rspec/3.0/index.html">3.0</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rspec/2.31/index.html">2.31</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rspec/2.30/index.html">2.30</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rspec/2.29/index.html">2.29</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rspec/2.28/index.html">2.28</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rspec/2.27/index.html">2.27</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rspec/2.26/index.html">2.26</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rspec/2.25/index.html">2.25</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rspec/1.44/index.html">1.44</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../rubocop-rspec_rails/index.html">RuboCop RSpec Rails</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../rubocop-rspec_rails/index.html">default</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rspec_rails/2.30/index.html">2.30</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rspec_rails/2.29/index.html">2.29</a>
        </li>
        <li class="version">
          <a href="../../rubocop-rspec_rails/2.28/index.html">2.28</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../1.72/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">RuboCop</a></li>
    <li>Cop Documentation</li>
    <li><a href="cops_style.html">Style</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">1.67</button>
  <div class="version-menu">
    <a class="version" href="../cops_style.html">default</a>
    <a class="version" href="../1.72/cops_style.html">1.72</a>
    <a class="version" href="../1.71/cops_style.html">1.71</a>
    <a class="version" href="../1.70/cops_style.html">1.70</a>
    <a class="version" href="../1.69/cops_style.html">1.69</a>
    <a class="version" href="../1.68/cops_style.html">1.68</a>
    <a class="version is-current" href="cops_style.html">1.67</a>
    <a class="version" href="../1.66/cops_style.html">1.66</a>
    <a class="version" href="../1.65/cops_style.html">1.65</a>
    <a class="version" href="../1.64/cops_style.html">1.64</a>
    <a class="version" href="../1.63/cops_style.html">1.63</a>
    <a class="version" href="../1.62/cops_style.html">1.62</a>
    <a class="version" href="../1.61/cops_style.html">1.61</a>
    <a class="version" href="../1.60/cops_style.html">1.60</a>
    <a class="version" href="../1.0/cops_style.html">1.0</a>
  </div>
</div>
<div class="edit-this-page"><a href="https://github.com/rubocop/rubocop/blob/v1.67.0/docs/modules/ROOT/pages/cops_style.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Style</h1>
<div class="sect1">
<h2 id="styleaccessmodifierdeclarations"><a class="anchor" href="#styleaccessmodifierdeclarations"></a>Style/AccessModifierDeclarations</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.57</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.81</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Access modifiers should be declared to apply to a group of methods
or inline before each method, depending on configuration.
EnforcedStyle config covers only method definitions.
Applications of visibility methods to symbols can be controlled
using AllowModifiersOnSymbols config.
Also, the visibility of <code>attr*</code> methods can be controlled using
AllowModifiersOnAttrs config.</p>
</div>
<div class="paragraph">
<p>In Ruby 3.0, <code>attr*</code> methods now return an array of defined method names
as symbols. So we can write the modifier and <code>attr*</code> in inline style.
AllowModifiersOnAttrs config allows <code>attr*</code> methods to be written in
inline style without modifying applications that have been maintained
for a long time in group style. Furthermore, developers who are not very
familiar with Ruby may know that the modifier applies to <code>def</code>, but they
may not know that it also applies to <code>attr*</code> methods. It would be easier
to understand if we could write <code>attr*</code> methods in inline style.</p>
</div>
<div class="sect2">
<h3 id="safety-styleaccessmodifierdeclarations"><a class="anchor" href="#safety-styleaccessmodifierdeclarations"></a>Safety</h3>
<div class="paragraph">
<p>Autocorrection is not safe, because the visibility of dynamically
defined methods can vary depending on the state determined by
the group access modifier.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleaccessmodifierdeclarations"><a class="anchor" href="#examples-styleaccessmodifierdeclarations"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-group-_default_-styleaccessmodifierdeclarations"><a class="anchor" href="#enforcedstyle_-group-_default_-styleaccessmodifierdeclarations"></a>EnforcedStyle: group (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class Foo

  private def bar; end
  private def baz; end

end

# good
class Foo

  private

  def bar; end
  def baz; end

end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-inline-styleaccessmodifierdeclarations"><a class="anchor" href="#enforcedstyle_-inline-styleaccessmodifierdeclarations"></a>EnforcedStyle: inline</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class Foo

  private

  def bar; end
  def baz; end

end

# good
class Foo

  private def bar; end
  private def baz; end

end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowmodifiersonsymbols_-true-_default_-styleaccessmodifierdeclarations"><a class="anchor" href="#allowmodifiersonsymbols_-true-_default_-styleaccessmodifierdeclarations"></a>AllowModifiersOnSymbols: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
class Foo

  private :bar, :baz
  private *%i[qux quux]
  private *METHOD_NAMES

end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowmodifiersonsymbols_-false-styleaccessmodifierdeclarations"><a class="anchor" href="#allowmodifiersonsymbols_-false-styleaccessmodifierdeclarations"></a>AllowModifiersOnSymbols: false</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class Foo

  private :bar, :baz
  private *%i[qux quux]
  private *METHOD_NAMES

end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowmodifiersonattrs_-true-_default_-styleaccessmodifierdeclarations"><a class="anchor" href="#allowmodifiersonattrs_-true-_default_-styleaccessmodifierdeclarations"></a>AllowModifiersOnAttrs: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
class Foo

  public attr_reader :bar
  protected attr_writer :baz
  private attr_accessor :qux
  private attr :quux

  def public_method; end

  private

  def private_method; end

end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowmodifiersonattrs_-false-styleaccessmodifierdeclarations"><a class="anchor" href="#allowmodifiersonattrs_-false-styleaccessmodifierdeclarations"></a>AllowModifiersOnAttrs: false</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class Foo

  public attr_reader :bar
  protected attr_writer :baz
  private attr_accessor :qux
  private attr :quux

end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleaccessmodifierdeclarations"><a class="anchor" href="#configurable-attributes-styleaccessmodifierdeclarations"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>group</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>inline</code>, <code>group</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowModifiersOnSymbols</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowModifiersOnAttrs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleaccessorgrouping"><a class="anchor" href="#styleaccessorgrouping"></a>Style/AccessorGrouping</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.87</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for grouping of accessors in <code>class</code> and <code>module</code> bodies.
By default it enforces accessors to be placed in grouped declarations,
but it can be configured to enforce separating them in multiple declarations.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If there is a method call before the accessor method it is always allowed
as it might be intended like Sorbet.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If there is a RBS::Inline annotation comment just after the accessor method
it is always allowed.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-styleaccessorgrouping"><a class="anchor" href="#examples-styleaccessorgrouping"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-grouped-_default_-styleaccessorgrouping"><a class="anchor" href="#enforcedstyle_-grouped-_default_-styleaccessorgrouping"></a>EnforcedStyle: grouped (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class Foo
  attr_reader :bar
  attr_reader :bax
  attr_reader :baz
end

# good
class Foo
  attr_reader :bar, :bax, :baz
end

# good
class Foo
  # may be intended comment for bar.
  attr_reader :bar

  sig { returns(String) }
  attr_reader :bax

  may_be_intended_annotation :baz
  attr_reader :baz
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-separated-styleaccessorgrouping"><a class="anchor" href="#enforcedstyle_-separated-styleaccessorgrouping"></a>EnforcedStyle: separated</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class Foo
  attr_reader :bar, :baz
end

# good
class Foo
  attr_reader :bar
  attr_reader :baz
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleaccessorgrouping"><a class="anchor" href="#configurable-attributes-styleaccessorgrouping"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>grouped</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>separated</code>, <code>grouped</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylealias"><a class="anchor" href="#stylealias"></a>Style/Alias</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.36</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the use of either <code>#alias</code> or <code>#alias_method</code>
depending on configuration.
It also flags uses of <code>alias :symbol</code> rather than <code>alias bareword</code>.</p>
</div>
<div class="paragraph">
<p>However, it will always enforce <code>method_alias</code> when used <code>alias</code>
in an instance method definition and in a singleton method definition.
If used in a block, always enforce <code>alias_method</code>
unless it is an <code>instance_eval</code> block.</p>
</div>
<div class="sect2">
<h3 id="examples-stylealias"><a class="anchor" href="#examples-stylealias"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-prefer_alias-_default_-stylealias"><a class="anchor" href="#enforcedstyle_-prefer_alias-_default_-stylealias"></a>EnforcedStyle: prefer_alias (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
alias_method :bar, :foo
alias :bar :foo

# good
alias bar foo</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-prefer_alias_method-stylealias"><a class="anchor" href="#enforcedstyle_-prefer_alias_method-stylealias"></a>EnforcedStyle: prefer_alias_method</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
alias :bar :foo
alias bar foo

# good
alias_method :bar, :foo</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylealias"><a class="anchor" href="#configurable-attributes-stylealias"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>prefer_alias</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>prefer_alias</code>, <code>prefer_alias_method</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylealias"><a class="anchor" href="#references-stylealias"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#alias-method-lexically" class="bare">https://rubystyle.guide#alias-method-lexically</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleandor"><a class="anchor" href="#styleandor"></a>Style/AndOr</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.21</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of <code>and</code> and <code>or</code>, and suggests using <code>&amp;&amp;</code> and
<code>||</code> instead. It can be configured to check only in conditions or in
all contexts.</p>
</div>
<div class="sect2">
<h3 id="safety-styleandor"><a class="anchor" href="#safety-styleandor"></a>Safety</h3>
<div class="paragraph">
<p>Autocorrection is unsafe because there is a different operator precedence
between logical operators (<code>&amp;&amp;</code> and <code>||</code>) and semantic operators (<code>and</code> and <code>or</code>),
and that might change the behavior.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleandor"><a class="anchor" href="#examples-styleandor"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-conditionals-_default_-styleandor"><a class="anchor" href="#enforcedstyle_-conditionals-_default_-styleandor"></a>EnforcedStyle: conditionals (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if foo and bar
end

# good
foo.save &amp;&amp; return

# good
foo.save and return

# good
if foo &amp;&amp; bar
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-always-styleandor"><a class="anchor" href="#enforcedstyle_-always-styleandor"></a>EnforcedStyle: always</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo.save and return

# bad
if foo and bar
end

# good
foo.save &amp;&amp; return

# good
if foo &amp;&amp; bar
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleandor"><a class="anchor" href="#configurable-attributes-styleandor"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>conditionals</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>always</code>, <code>conditionals</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-styleandor"><a class="anchor" href="#references-styleandor"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-and-or-or" class="bare">https://rubystyle.guide#no-and-or-or</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleargumentsforwarding"><a class="anchor" href="#styleargumentsforwarding"></a>Style/ArgumentsForwarding</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Required Ruby version: 2.7
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.58</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In Ruby 2.7, arguments forwarding has been added.</p>
</div>
<div class="paragraph">
<p>This cop identifies places where <code>do_something(*args, &amp;block)</code>
can be replaced by <code>do_something(&#8230;&#8203;)</code>.</p>
</div>
<div class="paragraph">
<p>In Ruby 3.1, anonymous block forwarding has been added.</p>
</div>
<div class="paragraph">
<p>This cop identifies places where <code>do_something(&amp;block)</code> can be replaced
by <code>do_something(&amp;)</code>; if desired, this functionality can be disabled
by setting <code>UseAnonymousForwarding: false</code>.</p>
</div>
<div class="paragraph">
<p>In Ruby 3.2, anonymous args/kwargs forwarding has been added.</p>
</div>
<div class="paragraph">
<p>This cop also identifies places where <code>use_args(<strong>args)</code>/<code>use_kwargs(<strong>kwargs)</code> can be
replaced by <code>use_args(</strong>)</code>/<code>use_kwargs(</strong>)</code>; if desired, this functionality can be disabled
by setting <code>UseAnonymousForwarding: false</code>.</p>
</div>
<div class="paragraph">
<p>And this cop has <code>RedundantRestArgumentNames</code>, <code>RedundantKeywordRestArgumentNames</code>,
and <code>RedundantBlockArgumentNames</code> options. This configuration is a list of redundant names
that are sufficient for anonymizing meaningless naming.</p>
</div>
<div class="paragraph">
<p>Meaningless names that are commonly used can be anonymized by default:
e.g., <code><strong>args</code>, <code></strong>*options</code>, <code>&amp;block</code>, and so on.</p>
</div>
<div class="paragraph">
<p>Names not on this list are likely to be meaningful and are allowed by default.</p>
</div>
<div class="paragraph">
<p>This cop handles not only method forwarding but also forwarding to <code>super</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-styleargumentsforwarding"><a class="anchor" href="#examples-styleargumentsforwarding"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def foo(*args, &amp;block)
  bar(*args, &amp;block)
end

# bad
def foo(*args, **kwargs, &amp;block)
  bar(*args, **kwargs, &amp;block)
end

# good
def foo(...)
  bar(...)
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="useanonymousforwarding_-true-_default_-only-relevant-for-ruby-__-3_2_-styleargumentsforwarding"><a class="anchor" href="#useanonymousforwarding_-true-_default_-only-relevant-for-ruby-__-3_2_-styleargumentsforwarding"></a>UseAnonymousForwarding: true (default, only relevant for Ruby &gt;= 3.2)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def foo(*args, **kwargs, &amp;block)
  args_only(*args)
  kwargs_only(**kwargs)
  block_only(&amp;block)
end

# good
def foo(*, **, &amp;)
  args_only(*)
  kwargs_only(**)
  block_only(&amp;)
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="useanonymousforwarding_-false-_only-relevant-for-ruby-__-3_2_-styleargumentsforwarding"><a class="anchor" href="#useanonymousforwarding_-false-_only-relevant-for-ruby-__-3_2_-styleargumentsforwarding"></a>UseAnonymousForwarding: false (only relevant for Ruby &gt;= 3.2)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
def foo(*args, **kwargs, &amp;block)
  args_only(*args)
  kwargs_only(**kwargs)
  block_only(&amp;block)
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowonlyrestargument_-true-_default_-only-relevant-for-ruby-_-3_2_-styleargumentsforwarding"><a class="anchor" href="#allowonlyrestargument_-true-_default_-only-relevant-for-ruby-_-3_2_-styleargumentsforwarding"></a>AllowOnlyRestArgument: true (default, only relevant for Ruby &lt; 3.2)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
def foo(*args)
  bar(*args)
end

def foo(**kwargs)
  bar(**kwargs)
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowonlyrestargument_-false-_only-relevant-for-ruby-_-3_2_-styleargumentsforwarding"><a class="anchor" href="#allowonlyrestargument_-false-_only-relevant-for-ruby-_-3_2_-styleargumentsforwarding"></a>AllowOnlyRestArgument: false (only relevant for Ruby &lt; 3.2)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
# The following code can replace the arguments with `...`,
# but it will change the behavior. Because `...` forwards block also.
def foo(*args)
  bar(*args)
end

def foo(**kwargs)
  bar(**kwargs)
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="redundantrestargumentnames_-__args__-_arguments__-_default_-styleargumentsforwarding"><a class="anchor" href="#redundantrestargumentnames_-__args__-_arguments__-_default_-styleargumentsforwarding"></a>RedundantRestArgumentNames: ['args', 'arguments'] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def foo(*args)
  bar(*args)
end

# good
def foo(*)
  bar(*)
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="redundantkeywordrestargumentnames_-__kwargs__-_options__-_opts__-_default_-styleargumentsforwarding"><a class="anchor" href="#redundantkeywordrestargumentnames_-__kwargs__-_options__-_opts__-_default_-styleargumentsforwarding"></a>RedundantKeywordRestArgumentNames: ['kwargs', 'options', 'opts'] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def foo(**kwargs)
  bar(**kwargs)
end

# good
def foo(**)
  bar(**)
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="redundantblockargumentnames_-__blk__-_block__-_proc__-_default_-styleargumentsforwarding"><a class="anchor" href="#redundantblockargumentnames_-__blk__-_block__-_proc__-_default_-styleargumentsforwarding"></a>RedundantBlockArgumentNames: ['blk', 'block', 'proc'] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad - But it is good with `EnforcedStyle: explicit` set for `Naming/BlockForwarding`.
def foo(&amp;block)
  bar(&amp;block)
end

# good
def foo(&amp;)
  bar(&amp;)
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleargumentsforwarding"><a class="anchor" href="#configurable-attributes-styleargumentsforwarding"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowOnlyRestArgument</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UseAnonymousForwarding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RedundantRestArgumentNames</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>args</code>, <code>arguments</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RedundantKeywordRestArgumentNames</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>kwargs</code>, <code>options</code>, <code>opts</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RedundantBlockArgumentNames</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>blk</code>, <code>block</code>, <code>proc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-styleargumentsforwarding"><a class="anchor" href="#references-styleargumentsforwarding"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#arguments-forwarding" class="bare">https://rubystyle.guide#arguments-forwarding</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylearraycoercion"><a class="anchor" href="#stylearraycoercion"></a>Style/ArrayCoercion</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.88</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the use of <code>Array()</code> instead of explicit <code>Array</code> check or <code>[*var]</code>.</p>
</div>
<div class="paragraph">
<p>The cop is disabled by default due to safety concerns.</p>
</div>
<div class="sect2">
<h3 id="safety-stylearraycoercion"><a class="anchor" href="#safety-stylearraycoercion"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because a false positive may occur if
the argument of <code>Array()</code> is (or could be) nil or depending
on how the argument is handled by <code>Array()</code> (which can be
different than just wrapping the argument in an array).</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">[nil]             #=&gt; [nil]
Array(nil)        #=&gt; []

[{a: 'b'}]        #= [{a: 'b'}]
Array({a: 'b'})   #=&gt; [[:a, 'b']]

[Time.now]        #=&gt; [#&lt;Time ...&gt;]
Array(Time.now)   #=&gt; [14, 16, 14, 16, 9, 2021, 4, 259, true, "EDT"]</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylearraycoercion"><a class="anchor" href="#examples-stylearraycoercion"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
paths = [paths] unless paths.is_a?(Array)
paths.each { |path| do_something(path) }

# bad (always creates a new Array instance)
[*paths].each { |path| do_something(path) }

# good (and a bit more readable)
Array(paths).each { |path| do_something(path) }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylearraycoercion"><a class="anchor" href="#references-stylearraycoercion"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#array-coercion" class="bare">https://rubystyle.guide#array-coercion</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylearrayfirstlast"><a class="anchor" href="#stylearrayfirstlast"></a>Style/ArrayFirstLast</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.58</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Identifies usages of <code>arr[0]</code> and <code>arr[-1]</code> and suggests to change
them to use <code>arr.first</code> and <code>arr.last</code> instead.</p>
</div>
<div class="paragraph">
<p>The cop is disabled by default due to safety concerns.</p>
</div>
<div class="sect2">
<h3 id="safety-stylearrayfirstlast"><a class="anchor" href="#safety-stylearrayfirstlast"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because <code>[0]</code> or <code>[-1]</code> can be called on a Hash,
which returns a value for <code>0</code> or <code>-1</code> key, but changing these to use
<code>.first</code> or <code>.last</code> will return first/last tuple instead. Also, String
does not implement <code>first</code>/<code>last</code> methods.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylearrayfirstlast"><a class="anchor" href="#examples-stylearrayfirstlast"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
arr[0]
arr[-1]

# good
arr.first
arr.last
arr[0] = 2
arr[0][-2]</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylearrayfirstlast"><a class="anchor" href="#references-stylearrayfirstlast"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p>#first-and-last</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylearrayintersect"><a class="anchor" href="#stylearrayintersect"></a>Style/ArrayIntersect</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Required Ruby version: 3.1
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.40</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In Ruby 3.1, <code>Array#intersect?</code> has been added.</p>
</div>
<div class="paragraph">
<p>This cop identifies places where <code>(array1 &amp; array2).any?</code>
can be replaced by <code>array1.intersect?(array2)</code>.</p>
</div>
<div class="paragraph">
<p>The <code>array1.intersect?(array2)</code> method is faster than
<code>(array1 &amp; array2).any?</code> and is more readable.</p>
</div>
<div class="paragraph">
<p>In cases like the following, compatibility is not ensured,
so it will not be detected when using block argument.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">([1] &amp; [1,2]).any? { |x| false }    # =&gt; false
[1].intersect?([1,2]) { |x| false } # =&gt; true</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="safety-stylearrayintersect"><a class="anchor" href="#safety-stylearrayintersect"></a>Safety</h3>
<div class="paragraph">
<p>This cop cannot guarantee that <code>array1</code> and <code>array2</code> are
actually arrays while method <code>intersect?</code> is for arrays only.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylearrayintersect"><a class="anchor" href="#examples-stylearrayintersect"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
(array1 &amp; array2).any?
(array1 &amp; array2).empty?

# good
array1.intersect?(array2)
!array1.intersect?(array2)</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allcops_activesupportextensionsenabled_-false-_default_-stylearrayintersect"><a class="anchor" href="#allcops_activesupportextensionsenabled_-false-_default_-stylearrayintersect"></a>AllCops:ActiveSupportExtensionsEnabled: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
(array1 &amp; array2).present?
(array1 &amp; array2).blank?</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allcops_activesupportextensionsenabled_-true-stylearrayintersect"><a class="anchor" href="#allcops_activesupportextensionsenabled_-true-stylearrayintersect"></a>AllCops:ActiveSupportExtensionsEnabled: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
(array1 &amp; array2).present?
(array1 &amp; array2).blank?

# good
array1.intersect?(array2)
!array1.intersect?(array2)</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylearrayjoin"><a class="anchor" href="#stylearrayjoin"></a>Style/ArrayJoin</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.31</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of "*" as a substitute for <em>join</em>.</p>
</div>
<div class="paragraph">
<p>Not all cases can reliably checked, due to Ruby&#8217;s dynamic
types, so we consider only cases when the first argument is an
array literal or the second is a string literal.</p>
</div>
<div class="sect2">
<h3 id="examples-stylearrayjoin"><a class="anchor" href="#examples-stylearrayjoin"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
%w(foo bar baz) * ","

# good
%w(foo bar baz).join(",")</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylearrayjoin"><a class="anchor" href="#references-stylearrayjoin"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#array-join" class="bare">https://rubystyle.guide#array-join</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleasciicomments"><a class="anchor" href="#styleasciicomments"></a>Style/AsciiComments</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.21</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for non-ascii (non-English) characters
in comments. You could set an array of allowed non-ascii chars in
<code>AllowedChars</code> attribute (copyright notice "©" by default).</p>
</div>
<div class="sect2">
<h3 id="examples-styleasciicomments"><a class="anchor" href="#examples-styleasciicomments"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
# Translates from English to 日本語。

# good
# Translates from English to Japanese</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleasciicomments"><a class="anchor" href="#configurable-attributes-styleasciicomments"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedChars</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>©</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-styleasciicomments"><a class="anchor" href="#references-styleasciicomments"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#english-comments" class="bare">https://rubystyle.guide#english-comments</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleattr"><a class="anchor" href="#styleattr"></a>Style/Attr</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.12</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of Module#attr.</p>
</div>
<div class="sect2">
<h3 id="examples-styleattr"><a class="anchor" href="#examples-styleattr"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad - creates a single attribute accessor (deprecated in Ruby 1.9)
attr :something, true
attr :one, :two, :three # behaves as attr_reader

# good
attr_accessor :something
attr_reader :one, :two, :three</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleattr"><a class="anchor" href="#references-styleattr"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#attr" class="bare">https://rubystyle.guide#attr</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleautoresourcecleanup"><a class="anchor" href="#styleautoresourcecleanup"></a>Style/AutoResourceCleanup</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for cases when you could use a block
accepting version of a method that does automatic
resource cleanup.</p>
</div>
<div class="sect2">
<h3 id="examples-styleautoresourcecleanup"><a class="anchor" href="#examples-styleautoresourcecleanup"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
f = File.open('file')

# good
File.open('file') do |f|
  # ...
end

# bad
f = Tempfile.open('temp')

# good
Tempfile.open('temp') do |f|
  # ...
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylebarepercentliterals"><a class="anchor" href="#stylebarepercentliterals"></a>Style/BarePercentLiterals</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks if usage of %() or %Q() matches configuration.</p>
</div>
<div class="sect2">
<h3 id="examples-stylebarepercentliterals"><a class="anchor" href="#examples-stylebarepercentliterals"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-bare_percent-_default_-stylebarepercentliterals"><a class="anchor" href="#enforcedstyle_-bare_percent-_default_-stylebarepercentliterals"></a>EnforcedStyle: bare_percent (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
%Q(He said: "#{greeting}")
%q{She said: 'Hi'}

# good
%(He said: "#{greeting}")
%{She said: 'Hi'}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-percent_q-stylebarepercentliterals"><a class="anchor" href="#enforcedstyle_-percent_q-stylebarepercentliterals"></a>EnforcedStyle: percent_q</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
%|He said: "#{greeting}"|
%/She said: 'Hi'/

# good
%Q|He said: "#{greeting}"|
%q/She said: 'Hi'/</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylebarepercentliterals"><a class="anchor" href="#configurable-attributes-stylebarepercentliterals"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bare_percent</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>percent_q</code>, <code>bare_percent</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylebarepercentliterals"><a class="anchor" href="#references-stylebarepercentliterals"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#percent-q-shorthand" class="bare">https://rubystyle.guide#percent-q-shorthand</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylebeginblock"><a class="anchor" href="#stylebeginblock"></a>Style/BeginBlock</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for BEGIN blocks.</p>
</div>
<div class="sect2">
<h3 id="examples-stylebeginblock"><a class="anchor" href="#examples-stylebeginblock"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
BEGIN { test }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylebeginblock"><a class="anchor" href="#references-stylebeginblock"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-BEGIN-blocks" class="bare">https://rubystyle.guide#no-BEGIN-blocks</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylebisectedattraccessor"><a class="anchor" href="#stylebisectedattraccessor"></a>Style/BisectedAttrAccessor</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.87</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for places where <code>attr_reader</code> and <code>attr_writer</code>
for the same method can be combined into single <code>attr_accessor</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-stylebisectedattraccessor"><a class="anchor" href="#examples-stylebisectedattraccessor"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class Foo
  attr_reader :bar
  attr_writer :bar
end

# good
class Foo
  attr_accessor :bar
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleblockcomments"><a class="anchor" href="#styleblockcomments"></a>Style/BlockComments</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.23</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for uses of block comments (=begin&#8230;&#8203;=end).</p>
</div>
<div class="sect2">
<h3 id="examples-styleblockcomments"><a class="anchor" href="#examples-styleblockcomments"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
=begin
Multiple lines
of comments...
=end

# good
# Multiple lines
# of comments...</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleblockcomments"><a class="anchor" href="#references-styleblockcomments"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-block-comments" class="bare">https://rubystyle.guide#no-block-comments</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleblockdelimiters"><a class="anchor" href="#styleblockdelimiters"></a>Style/BlockDelimiters</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.35</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Check for uses of braces or do/end around single line or
multi-line blocks.</p>
</div>
<div class="paragraph">
<p>Methods that can be either procedural or functional and cannot be
categorised from their usage alone is ignored.
<code>lambda</code>, <code>proc</code>, and <code>it</code> are their defaults.
Additional methods can be added to the <code>AllowedMethods</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-styleblockdelimiters"><a class="anchor" href="#examples-styleblockdelimiters"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-line_count_based-_default_-styleblockdelimiters"><a class="anchor" href="#enforcedstyle_-line_count_based-_default_-styleblockdelimiters"></a>EnforcedStyle: line_count_based (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad - single line block
items.each do |item| item / 5 end

# good - single line block
items.each { |item| item / 5 }

# bad - multi-line block
things.map { |thing|
  something = thing.some_method
  process(something)
}

# good - multi-line block
things.map do |thing|
  something = thing.some_method
  process(something)
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-semantic-styleblockdelimiters"><a class="anchor" href="#enforcedstyle_-semantic-styleblockdelimiters"></a>EnforcedStyle: semantic</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># Prefer `do...end` over `{...}` for procedural blocks.

# return value is used/assigned
# bad
foo = map do |x|
  x
end
puts (map do |x|
  x
end)

# return value is not used out of scope
# good
map do |x|
  x
end

# Prefer `{...}` over `do...end` for functional blocks.

# return value is not used out of scope
# bad
each { |x|
  x
}

# return value is used/assigned
# good
foo = map { |x|
  x
}
map { |x|
  x
}.inspect

# The AllowBracesOnProceduralOneLiners option is allowed unless the
# EnforcedStyle is set to `semantic`. If so:

# If the AllowBracesOnProceduralOneLiners option is unspecified, or
# set to `false` or any other falsey value, then semantic purity is
# maintained, so one-line procedural blocks must use do-end, not
# braces.

# bad
collection.each { |element| puts element }

# good
collection.each do |element| puts element end

# If the AllowBracesOnProceduralOneLiners option is set to `true`, or
# any other truthy value, then one-line procedural blocks may use
# either style. (There is no setting for requiring braces on them.)

# good
collection.each { |element| puts element }

# also good
collection.each do |element| puts element end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-braces_for_chaining-styleblockdelimiters"><a class="anchor" href="#enforcedstyle_-braces_for_chaining-styleblockdelimiters"></a>EnforcedStyle: braces_for_chaining</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
words.each do |word|
  word.flip.flop
end.join("-")

# good
words.each { |word|
  word.flip.flop
}.join("-")</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-always_braces-styleblockdelimiters"><a class="anchor" href="#enforcedstyle_-always_braces-styleblockdelimiters"></a>EnforcedStyle: always_braces</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
words.each do |word|
  word.flip.flop
end

# good
words.each { |word|
  word.flip.flop
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="bracesrequiredmethods_-__sig__-styleblockdelimiters"><a class="anchor" href="#bracesrequiredmethods_-__sig__-styleblockdelimiters"></a>BracesRequiredMethods: ['sig']</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># Methods listed in the BracesRequiredMethods list, such as 'sig'
# in this example, will require `{...}` braces. This option takes
# precedence over all other configurations except AllowedMethods.

# bad
sig do
  params(
    foo: string,
  ).void
end
def bar(foo)
  puts foo
end

# good
sig {
  params(
    foo: string,
  ).void
}
def bar(foo)
  puts foo
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowedmethods_-__lambda__-_proc__-_it_-_-_default_-styleblockdelimiters"><a class="anchor" href="#allowedmethods_-__lambda__-_proc__-_it_-_-_default_-styleblockdelimiters"></a>AllowedMethods: ['lambda', 'proc', 'it' ] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
foo = lambda do |x|
  puts "Hello, #{x}"
end

foo = lambda do |x|
  x * 100
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowedpatterns_-__-_default_-styleblockdelimiters"><a class="anchor" href="#allowedpatterns_-__-_default_-styleblockdelimiters"></a>AllowedPatterns: [] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
things.map { |thing|
  something = thing.some_method
  process(something)
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowedpatterns_-__map__-styleblockdelimiters"><a class="anchor" href="#allowedpatterns_-__map__-styleblockdelimiters"></a>AllowedPatterns: ['map']</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
things.map { |thing|
  something = thing.some_method
  process(something)
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleblockdelimiters"><a class="anchor" href="#configurable-attributes-styleblockdelimiters"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>line_count_based</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>line_count_based</code>, <code>semantic</code>, <code>braces_for_chaining</code>, <code>always_braces</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ProceduralMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>benchmark</code>, <code>bm</code>, <code>bmbm</code>, <code>create</code>, <code>each_with_object</code>, <code>measure</code>, <code>new</code>, <code>realtime</code>, <code>tap</code>, <code>with_object</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FunctionalMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>let</code>, <code>let!</code>, <code>subject</code>, <code>watch</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lambda</code>, <code>proc</code>, <code>it</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedPatterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowBracesOnProceduralOneLiners</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BracesRequiredMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-styleblockdelimiters"><a class="anchor" href="#references-styleblockdelimiters"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#single-line-blocks" class="bare">https://rubystyle.guide#single-line-blocks</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylecaseequality"><a class="anchor" href="#stylecaseequality"></a>Style/CaseEquality</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.89</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If <code>AllowOnSelfClass</code> option is enabled, the cop will ignore violations when the receiver of
the case equality operator is <code>self.class</code>. Note intermediate variables are not accepted.</p>
</div>
<div class="sect2">
<h3 id="examples-stylecaseequality"><a class="anchor" href="#examples-stylecaseequality"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
(1..100) === 7
/something/ === some_string

# good
something.is_a?(Array)
(1..100).include?(7)
/something/.match?(some_string)</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowonconstant_-false-_default_-stylecaseequality"><a class="anchor" href="#allowonconstant_-false-_default_-stylecaseequality"></a>AllowOnConstant: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
Array === something</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowonconstant_-true-stylecaseequality"><a class="anchor" href="#allowonconstant_-true-stylecaseequality"></a>AllowOnConstant: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
Array === something</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowonselfclass_-false-_default_-stylecaseequality"><a class="anchor" href="#allowonselfclass_-false-_default_-stylecaseequality"></a>AllowOnSelfClass: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
self.class === something</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowonselfclass_-true-stylecaseequality"><a class="anchor" href="#allowonselfclass_-true-stylecaseequality"></a>AllowOnSelfClass: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
self.class === something</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylecaseequality"><a class="anchor" href="#configurable-attributes-stylecaseequality"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowOnConstant</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowOnSelfClass</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylecaseequality"><a class="anchor" href="#references-stylecaseequality"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-case-equality" class="bare">https://rubystyle.guide#no-case-equality</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylecaselikeif"><a class="anchor" href="#stylecaselikeif"></a>Style/CaseLikeIf</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.88</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.48</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Identifies places where <code>if-elsif</code> constructions
can be replaced with <code>case-when</code>.</p>
</div>
<div class="sect2">
<h3 id="safety-stylecaselikeif"><a class="anchor" href="#safety-stylecaselikeif"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe. <code>case</code> statements use <code>===</code> for equality,
so if the original conditional used a different equality operator, the
behavior may be different.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylecaselikeif"><a class="anchor" href="#examples-stylecaselikeif"></a>Examples</h3>
<div class="sect3">
<h4 id="minbranchescount_-3-_default_-stylecaselikeif"><a class="anchor" href="#minbranchescount_-3-_default_-stylecaselikeif"></a>MinBranchesCount: 3 (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if status == :active
  perform_action
elsif status == :inactive || status == :hibernating
  check_timeout
elsif status == :invalid
  report_invalid
else
  final_action
end

# good
case status
when :active
  perform_action
when :inactive, :hibernating
  check_timeout
when :invalid
  report_invalid
else
  final_action
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="minbranchescount_-4-stylecaselikeif"><a class="anchor" href="#minbranchescount_-4-stylecaselikeif"></a>MinBranchesCount: 4</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
if status == :active
  perform_action
elsif status == :inactive || status == :hibernating
  check_timeout
elsif status == :invalid
  report_invalid
else
  final_action
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylecaselikeif"><a class="anchor" href="#configurable-attributes-stylecaselikeif"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MinBranchesCount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylecaselikeif"><a class="anchor" href="#references-stylecaselikeif"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#case-vs-if-else" class="bare">https://rubystyle.guide#case-vs-if-else</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylecharacterliteral"><a class="anchor" href="#stylecharacterliteral"></a>Style/CharacterLiteral</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of the character literal ?x.
Starting with Ruby 1.9 character literals are
essentially one-character strings, so this syntax
is mostly redundant at this point.</p>
</div>
<div class="paragraph">
<p>? character literal can be used to express meta and control character.
That&#8217;s a good use case of ? literal so it doesn&#8217;t count it as an offense.</p>
</div>
<div class="sect2">
<h3 id="examples-stylecharacterliteral"><a class="anchor" href="#examples-stylecharacterliteral"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
?x

# good
'x'

# good - control &amp; meta escapes
?\C-\M-d
"\C-\M-d" # same as above</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylecharacterliteral"><a class="anchor" href="#references-stylecharacterliteral"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-character-literals" class="bare">https://rubystyle.guide#no-character-literals</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleclassandmodulechildren"><a class="anchor" href="#styleclassandmodulechildren"></a>Style/ClassAndModuleChildren</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks the style of children definitions at classes and
modules. Basically there are two different styles:</p>
</div>
<div class="paragraph">
<p>The compact style is only forced for classes/modules with one child.</p>
</div>
<div class="sect2">
<h3 id="safety-styleclassandmodulechildren"><a class="anchor" href="#safety-styleclassandmodulechildren"></a>Safety</h3>
<div class="paragraph">
<p>Autocorrection is unsafe.</p>
</div>
<div class="paragraph">
<p>Moving from compact to nested children requires knowledge of whether the
outer parent is a module or a class. Moving from nested to compact requires
verification that the outer parent is defined elsewhere. RuboCop does not
have the knowledge to perform either operation safely and thus requires
manual oversight.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleclassandmodulechildren"><a class="anchor" href="#examples-styleclassandmodulechildren"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-nested-_default_-styleclassandmodulechildren"><a class="anchor" href="#enforcedstyle_-nested-_default_-styleclassandmodulechildren"></a>EnforcedStyle: nested (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
# have each child on its own line
class Foo
  class Bar
  end
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-compact-styleclassandmodulechildren"><a class="anchor" href="#enforcedstyle_-compact-styleclassandmodulechildren"></a>EnforcedStyle: compact</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
# combine definitions as much as possible
class Foo::Bar
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleclassandmodulechildren"><a class="anchor" href="#configurable-attributes-styleclassandmodulechildren"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nested</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nested</code>, <code>compact</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-styleclassandmodulechildren"><a class="anchor" href="#references-styleclassandmodulechildren"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#namespace-definition" class="bare">https://rubystyle.guide#namespace-definition</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleclasscheck"><a class="anchor" href="#styleclasscheck"></a>Style/ClassCheck</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces consistent use of <code>Object#is_a?</code> or <code>Object#kind_of?</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-styleclasscheck"><a class="anchor" href="#examples-styleclasscheck"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-is_a_-_default_-styleclasscheck"><a class="anchor" href="#enforcedstyle_-is_a_-_default_-styleclasscheck"></a>EnforcedStyle: is_a? (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
var.kind_of?(Date)
var.kind_of?(Integer)

# good
var.is_a?(Date)
var.is_a?(Integer)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-kind_of_-styleclasscheck"><a class="anchor" href="#enforcedstyle_-kind_of_-styleclasscheck"></a>EnforcedStyle: kind_of?</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
var.is_a?(Time)
var.is_a?(String)

# good
var.kind_of?(Time)
var.kind_of?(String)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleclasscheck"><a class="anchor" href="#configurable-attributes-styleclasscheck"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>is_a?</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>is_a?</code>, <code>kind_of?</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-styleclasscheck"><a class="anchor" href="#references-styleclasscheck"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#is-a-vs-kind-of" class="bare">https://rubystyle.guide#is-a-vs-kind-of</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleclassequalitycomparison"><a class="anchor" href="#styleclassequalitycomparison"></a>Style/ClassEqualityComparison</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.93</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.57</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the use of <code>Object#instance_of?</code> instead of class comparison
for equality.
<code>==</code>, <code>equal?</code>, and <code>eql?</code> custom method definitions are allowed by default.
These are customizable with <code>AllowedMethods</code> option.</p>
</div>
<div class="sect2">
<h3 id="safety-styleclassequalitycomparison"><a class="anchor" href="#safety-styleclassequalitycomparison"></a>Safety</h3>
<div class="paragraph">
<p>This cop&#8217;s autocorrection is unsafe because there is no guarantee that
the constant <code>Foo</code> exists when autocorrecting <code>var.class.name == 'Foo'</code> to
<code>var.instance_of?(Foo)</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleclassequalitycomparison"><a class="anchor" href="#examples-styleclassequalitycomparison"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
var.class == Date
var.class.equal?(Date)
var.class.eql?(Date)
var.class.name == 'Date'

# good
var.instance_of?(Date)</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowedmethods_-______-_equal___-_eql___-_default_-styleclassequalitycomparison"><a class="anchor" href="#allowedmethods_-______-_equal___-_eql___-_default_-styleclassequalitycomparison"></a>AllowedMethods: ['==', 'equal?', 'eql?'] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
def ==(other)
  self.class == other.class &amp;&amp; name == other.name
end

def equal?(other)
  self.class.equal?(other.class) &amp;&amp; name.equal?(other.name)
end

def eql?(other)
  self.class.eql?(other.class) &amp;&amp; name.eql?(other.name)
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowedpatterns_-__-_default_-styleclassequalitycomparison"><a class="anchor" href="#allowedpatterns_-__-_default_-styleclassequalitycomparison"></a>AllowedPatterns: [] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def eq(other)
  self.class.eq(other.class) &amp;&amp; name.eq(other.name)
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowedpatterns_-__eq__-styleclassequalitycomparison"><a class="anchor" href="#allowedpatterns_-__eq__-styleclassequalitycomparison"></a>AllowedPatterns: ['eq']</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
def eq(other)
  self.class.eq(other.class) &amp;&amp; name.eq(other.name)
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleclassequalitycomparison"><a class="anchor" href="#configurable-attributes-styleclassequalitycomparison"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>==</code>, <code>equal?</code>, <code>eql?</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedPatterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-styleclassequalitycomparison"><a class="anchor" href="#references-styleclassequalitycomparison"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#instance-of-vs-class-comparison" class="bare">https://rubystyle.guide#instance-of-vs-class-comparison</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleclassmethods"><a class="anchor" href="#styleclassmethods"></a>Style/ClassMethods</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.20</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of the class/module name instead of
self, when defining class/module methods.</p>
</div>
<div class="sect2">
<h3 id="examples-styleclassmethods"><a class="anchor" href="#examples-styleclassmethods"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class SomeClass
  def SomeClass.class_method
    # ...
  end
end

# good
class SomeClass
  def self.class_method
    # ...
  end
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleclassmethods"><a class="anchor" href="#references-styleclassmethods"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#def-self-class-methods" class="bare">https://rubystyle.guide#def-self-class-methods</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleclassmethodsdefinitions"><a class="anchor" href="#styleclassmethodsdefinitions"></a>Style/ClassMethodsDefinitions</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.89</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces using <code>def self.method_name</code> or <code>class &lt;&lt; self</code> to define class methods.</p>
</div>
<div class="sect2">
<h3 id="examples-styleclassmethodsdefinitions"><a class="anchor" href="#examples-styleclassmethodsdefinitions"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-def_self-_default_-styleclassmethodsdefinitions"><a class="anchor" href="#enforcedstyle_-def_self-_default_-styleclassmethodsdefinitions"></a>EnforcedStyle: def_self (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class SomeClass
  class &lt;&lt; self
    attr_accessor :class_accessor

    def class_method
      # ...
    end
  end
end

# good
class SomeClass
  def self.class_method
    # ...
  end

  class &lt;&lt; self
    attr_accessor :class_accessor
  end
end

# good - contains private method
class SomeClass
  class &lt;&lt; self
    attr_accessor :class_accessor

    private

    def private_class_method
      # ...
    end
  end
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-self_class-styleclassmethodsdefinitions"><a class="anchor" href="#enforcedstyle_-self_class-styleclassmethodsdefinitions"></a>EnforcedStyle: self_class</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class SomeClass
  def self.class_method
    # ...
  end
end

# good
class SomeClass
  class &lt;&lt; self
    def class_method
      # ...
    end
  end
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleclassmethodsdefinitions"><a class="anchor" href="#configurable-attributes-styleclassmethodsdefinitions"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>def_self</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>def_self</code>, <code>self_class</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-styleclassmethodsdefinitions"><a class="anchor" href="#references-styleclassmethodsdefinitions"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#def-self-class-methods" class="bare">https://rubystyle.guide#def-self-class-methods</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleclassvars"><a class="anchor" href="#styleclassvars"></a>Style/ClassVars</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of class variables. Offenses
are signaled only on assignment to class variables to
reduce the number of offenses that would be reported.</p>
</div>
<div class="paragraph">
<p>You have to be careful when setting a value for a class
variable; if a class has been inherited, changing the
value of a class variable also affects the inheriting
classes. This means that it&#8217;s almost always better to
use a class instance variable instead.</p>
</div>
<div class="sect2">
<h3 id="examples-styleclassvars"><a class="anchor" href="#examples-styleclassvars"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class A
  @@test = 10
end

class A
  def self.test(name, value)
    class_variable_set("@@#{name}", value)
  end
end

class A; end
A.class_variable_set(:@@test, 10)

# good
class A
  @test = 10
end

class A
  def test
    @@test # you can access class variable without offense
  end
end

class A
  def self.test(name)
    class_variable_get("@@#{name}") # you can access without offense
  end
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleclassvars"><a class="anchor" href="#references-styleclassvars"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-class-vars" class="bare">https://rubystyle.guide#no-class-vars</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylecollectioncompact"><a class="anchor" href="#stylecollectioncompact"></a>Style/CollectionCompact</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Required Ruby version: 2.4
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for places where custom logic on rejection nils from arrays
and hashes can be replaced with <code>{Array,Hash}#{compact,compact!}</code>.</p>
</div>
<div class="sect2">
<h3 id="safety-stylecollectioncompact"><a class="anchor" href="#safety-stylecollectioncompact"></a>Safety</h3>
<div class="paragraph">
<p>It is unsafe by default because false positives may occur in the
<code>nil</code> check of block arguments to the receiver object. Additionally,
we can&#8217;t know the type of the receiver object for sure, which may
result in false positives as well.</p>
</div>
<div class="paragraph">
<p>For example, <code>[[1, 2], [3, nil]].reject { |first, second| second.nil? }</code>
and <code>[[1, 2], [3, nil]].compact</code> are not compatible. This will work fine
when the receiver is a hash object.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylecollectioncompact"><a class="anchor" href="#examples-stylecollectioncompact"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
array.reject(&amp;:nil?)
array.reject { |e| e.nil? }
array.select { |e| !e.nil? }
array.filter { |e| !e.nil? }
array.grep_v(nil)
array.grep_v(NilClass)

# good
array.compact

# bad
hash.reject!(&amp;:nil?)
hash.reject! { |k, v| v.nil? }
hash.select! { |k, v| !v.nil? }
hash.filter! { |k, v| !v.nil? }

# good
hash.compact!</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowedreceivers_-__params__-stylecollectioncompact"><a class="anchor" href="#allowedreceivers_-__params__-stylecollectioncompact"></a>AllowedReceivers: ['params']</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
params.reject(&amp;:nil?)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylecollectioncompact"><a class="anchor" href="#configurable-attributes-stylecollectioncompact"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedReceivers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylecollectionmethods"><a class="anchor" href="#stylecollectionmethods"></a>Style/CollectionMethods</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.7</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the use of consistent method names
from the Enumerable module.</p>
</div>
<div class="paragraph">
<p>You can customize the mapping from undesired method to desired method.</p>
</div>
<div class="paragraph">
<p>e.g. to use <code>detect</code> over <code>find</code>:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Style/CollectionMethods:
  PreferredMethods:
    find: detect</pre>
</div>
</div>
<div class="sect2">
<h3 id="safety-stylecollectionmethods"><a class="anchor" href="#safety-stylecollectionmethods"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because it finds methods by name, without actually
being able to determine if the receiver is an Enumerable or not, so
this cop may register false positives.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylecollectionmethods"><a class="anchor" href="#examples-stylecollectionmethods"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># These examples are based on the default mapping for `PreferredMethods`.

# bad
items.collect
items.collect!
items.collect_concat
items.inject
items.detect
items.find_all
items.member?

# good
items.map
items.map!
items.flat_map
items.reduce
items.find
items.select
items.include?</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylecollectionmethods"><a class="anchor" href="#configurable-attributes-stylecollectionmethods"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PreferredMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{"collect"&#8658;"map", "collect!"&#8658;"map!", "collect_concat"&#8658;"flat_map", "inject"&#8658;"reduce", "detect"&#8658;"find", "find_all"&#8658;"select", "member?"&#8658;"include?"}</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MethodsAcceptingSymbol</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>inject</code>, <code>reduce</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylecollectionmethods"><a class="anchor" href="#references-stylecollectionmethods"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#map-find-select-reduce-include-size" class="bare">https://rubystyle.guide#map-find-select-reduce-include-size</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylecolonmethodcall"><a class="anchor" href="#stylecolonmethodcall"></a>Style/ColonMethodCall</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for methods invoked via the <code>::</code> operator instead
of the <code>.</code> operator (like <code>FileUtils::rmdir</code> instead of <code>FileUtils.rmdir</code>).</p>
</div>
<div class="sect2">
<h3 id="examples-stylecolonmethodcall"><a class="anchor" href="#examples-stylecolonmethodcall"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
Timeout::timeout(500) { do_something }
FileUtils::rmdir(dir)
Marshal::dump(obj)

# good
Timeout.timeout(500) { do_something }
FileUtils.rmdir(dir)
Marshal.dump(obj)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylecolonmethodcall"><a class="anchor" href="#references-stylecolonmethodcall"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#double-colons" class="bare">https://rubystyle.guide#double-colons</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylecolonmethoddefinition"><a class="anchor" href="#stylecolonmethoddefinition"></a>Style/ColonMethodDefinition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for class methods that are defined using the <code>::</code>
operator instead of the <code>.</code> operator.</p>
</div>
<div class="sect2">
<h3 id="examples-stylecolonmethoddefinition"><a class="anchor" href="#examples-stylecolonmethoddefinition"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class Foo
  def self::bar
  end
end

# good
class Foo
  def self.bar
  end
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylecolonmethoddefinition"><a class="anchor" href="#references-stylecolonmethoddefinition"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#colon-method-definition" class="bare">https://rubystyle.guide#colon-method-definition</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylecombinableloops"><a class="anchor" href="#stylecombinableloops"></a>Style/CombinableLoops</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.90</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for places where multiple consecutive loops over the same data
can be combined into a single loop. It is very likely that combining them
will make the code more efficient and more concise.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Autocorrection is not applied when the block variable names differ in separate loops,
as it is impossible to determine which variable name should be prioritized.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="safety-stylecombinableloops"><a class="anchor" href="#safety-stylecombinableloops"></a>Safety</h3>
<div class="paragraph">
<p>The cop is unsafe, because the first loop might modify state that the
second loop depends on; these two aren&#8217;t combinable.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylecombinableloops"><a class="anchor" href="#examples-stylecombinableloops"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def method
  items.each do |item|
    do_something(item)
  end

  items.each do |item|
    do_something_else(item)
  end
end

# good
def method
  items.each do |item|
    do_something(item)
    do_something_else(item)
  end
end

# bad
def method
  for item in items do
    do_something(item)
  end

  for item in items do
    do_something_else(item)
  end
end

# good
def method
  for item in items do
    do_something(item)
    do_something_else(item)
  end
end

# good
def method
  each_slice(2) { |slice| do_something(slice) }
  each_slice(3) { |slice| do_something(slice) }
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylecommandliteral"><a class="anchor" href="#stylecommandliteral"></a>Style/CommandLiteral</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces using `` or %x around command literals.</p>
</div>
<div class="sect2">
<h3 id="examples-stylecommandliteral"><a class="anchor" href="#examples-stylecommandliteral"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-backticks-_default_-stylecommandliteral"><a class="anchor" href="#enforcedstyle_-backticks-_default_-stylecommandliteral"></a>EnforcedStyle: backticks (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
folders = %x(find . -type d).split

# bad
%x(
  ln -s foo.example.yml foo.example
  ln -s bar.example.yml bar.example
)

# good
folders = `find . -type d`.split

# good
`
  ln -s foo.example.yml foo.example
  ln -s bar.example.yml bar.example
`</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-mixed-stylecommandliteral"><a class="anchor" href="#enforcedstyle_-mixed-stylecommandliteral"></a>EnforcedStyle: mixed</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
folders = %x(find . -type d).split

# bad
`
  ln -s foo.example.yml foo.example
  ln -s bar.example.yml bar.example
`

# good
folders = `find . -type d`.split

# good
%x(
  ln -s foo.example.yml foo.example
  ln -s bar.example.yml bar.example
)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-percent_x-stylecommandliteral"><a class="anchor" href="#enforcedstyle_-percent_x-stylecommandliteral"></a>EnforcedStyle: percent_x</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
folders = `find . -type d`.split

# bad
`
  ln -s foo.example.yml foo.example
  ln -s bar.example.yml bar.example
`

# good
folders = %x(find . -type d).split

# good
%x(
  ln -s foo.example.yml foo.example
  ln -s bar.example.yml bar.example
)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowinnerbackticks_-false-_default_-stylecommandliteral"><a class="anchor" href="#allowinnerbackticks_-false-_default_-stylecommandliteral"></a>AllowInnerBackticks: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># If `false`, the cop will always recommend using `%x` if one or more
# backticks are found in the command string.

# bad
`echo \`ls\``

# good
%x(echo `ls`)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowinnerbackticks_-true-stylecommandliteral"><a class="anchor" href="#allowinnerbackticks_-true-stylecommandliteral"></a>AllowInnerBackticks: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
`echo \`ls\``</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylecommandliteral"><a class="anchor" href="#configurable-attributes-stylecommandliteral"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>backticks</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>backticks</code>, <code>percent_x</code>, <code>mixed</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowInnerBackticks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylecommandliteral"><a class="anchor" href="#references-stylecommandliteral"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#percent-x" class="bare">https://rubystyle.guide#percent-x</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylecommentannotation"><a class="anchor" href="#stylecommentannotation"></a>Style/CommentAnnotation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.20</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks that comment annotation keywords are written according
to guidelines.</p>
</div>
<div class="paragraph">
<p>Annotation keywords can be specified by overriding the cop&#8217;s <code>Keywords</code>
configuration. Keywords are allowed to be single words or phrases.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
With a multiline comment block (where each line is only a
comment), only the first line will be able to register an offense, even
if an annotation keyword starts another line. This is done to prevent
incorrect registering of keywords (eg. <code>review</code>) inside a paragraph as an
annotation.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-stylecommentannotation"><a class="anchor" href="#examples-stylecommentannotation"></a>Examples</h3>
<div class="sect3">
<h4 id="requirecolon_-true-_default_-stylecommentannotation"><a class="anchor" href="#requirecolon_-true-_default_-stylecommentannotation"></a>RequireColon: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
# TODO make better

# good
# TODO: make better

# bad
# TODO:make better

# good
# TODO: make better

# bad
# fixme: does not work

# good
# FIXME: does not work

# bad
# Optimize does not work

# good
# OPTIMIZE: does not work</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="requirecolon_-false-stylecommentannotation"><a class="anchor" href="#requirecolon_-false-stylecommentannotation"></a>RequireColon: false</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
# TODO: make better

# good
# TODO make better

# bad
# fixme does not work

# good
# FIXME does not work

# bad
# Optimize does not work

# good
# OPTIMIZE does not work</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylecommentannotation"><a class="anchor" href="#configurable-attributes-stylecommentannotation"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keywords</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TODO</code>, <code>FIXME</code>, <code>OPTIMIZE</code>, <code>HACK</code>, <code>REVIEW</code>, <code>NOTE</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RequireColon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylecommentannotation"><a class="anchor" href="#references-stylecommentannotation"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#annotate-keywords" class="bare">https://rubystyle.guide#annotate-keywords</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylecommentedkeyword"><a class="anchor" href="#stylecommentedkeyword"></a>Style/CommentedKeyword</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.51</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.19</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for comments put on the same line as some keywords.
These keywords are: <code>class</code>, <code>module</code>, <code>def</code>, <code>begin</code>, <code>end</code>.</p>
</div>
<div class="paragraph">
<p>Note that some comments
(<code>:nodoc:</code>, <code>:yields:</code>, <code>rubocop:disable</code> and <code>rubocop:todo</code>)
and RBS::Inline annotation comments are allowed.</p>
</div>
<div class="paragraph">
<p>Autocorrection removes comments from <code>end</code> keyword and keeps comments
for <code>class</code>, <code>module</code>, <code>def</code> and <code>begin</code> above the keyword.</p>
</div>
<div class="sect2">
<h3 id="safety-stylecommentedkeyword"><a class="anchor" href="#safety-stylecommentedkeyword"></a>Safety</h3>
<div class="paragraph">
<p>Autocorrection is unsafe because it may remove a comment that is
meaningful.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylecommentedkeyword"><a class="anchor" href="#examples-stylecommentedkeyword"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if condition
  statement
end # end if

# bad
class X # comment
  statement
end

# bad
def x; end # comment

# good
if condition
  statement
end

# good
class X # :nodoc:
  y
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylecomparableclamp"><a class="anchor" href="#stylecomparableclamp"></a>Style/ComparableClamp</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Required Ruby version: 2.4
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.44</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the use of <code>Comparable#clamp</code> instead of comparison by minimum and maximum.</p>
</div>
<div class="paragraph">
<p>This cop supports autocorrection for <code>if/elsif/else</code> bad style only.
Because <code>ArgumentError</code> occurs if the minimum and maximum of <code>clamp</code> arguments are reversed.
When these are variables, it is not possible to determine which is the minimum and maximum:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">[1, [2, 3].max].min # =&gt; 1
1.clamp(3, 1)       # =&gt; min argument must be smaller than max argument (ArgumentError)</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylecomparableclamp"><a class="anchor" href="#examples-stylecomparableclamp"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
[[x, low].max, high].min

# bad
if x &lt; low
  low
elsif high &lt; x
  high
else
  x
end

# good
x.clamp(low, high)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleconcatarrayliterals"><a class="anchor" href="#styleconcatarrayliterals"></a>Style/ConcatArrayLiterals</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.41</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the use of <code>Array#push(item)</code> instead of <code>Array#concat([item])</code>
to avoid redundant array literals.</p>
</div>
<div class="sect2">
<h3 id="safety-styleconcatarrayliterals"><a class="anchor" href="#safety-styleconcatarrayliterals"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe, as it can produce false positives if the receiver
is not an <code>Array</code> object.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleconcatarrayliterals"><a class="anchor" href="#examples-styleconcatarrayliterals"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
list.concat([foo])
list.concat([bar, baz])
list.concat([qux, quux], [corge])

# good
list.push(foo)
list.push(bar, baz)
list.push(qux, quux, corge)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleconditionalassignment"><a class="anchor" href="#styleconditionalassignment"></a>Style/ConditionalAssignment</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.47</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Check for <code>if</code> and <code>case</code> statements where each branch is used for
both the assignment and comparison of the same variable
when using the return of the condition can be used instead.</p>
</div>
<div class="sect2">
<h3 id="examples-styleconditionalassignment"><a class="anchor" href="#examples-styleconditionalassignment"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-assign_to_condition-_default_-styleconditionalassignment"><a class="anchor" href="#enforcedstyle_-assign_to_condition-_default_-styleconditionalassignment"></a>EnforcedStyle: assign_to_condition (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if foo
  bar = 1
else
  bar = 2
end

case foo
when 'a'
  bar += 1
else
  bar += 2
end

if foo
  some_method
  bar = 1
else
  some_other_method
  bar = 2
end

# good
bar = if foo
        1
      else
        2
      end

bar += case foo
       when 'a'
         1
       else
         2
       end

bar &lt;&lt; if foo
         some_method
         1
       else
         some_other_method
         2
       end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-assign_inside_condition-styleconditionalassignment"><a class="anchor" href="#enforcedstyle_-assign_inside_condition-styleconditionalassignment"></a>EnforcedStyle: assign_inside_condition</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
bar = if foo
        1
      else
        2
      end

bar += case foo
       when 'a'
         1
       else
         2
       end

bar &lt;&lt; if foo
         some_method
         1
       else
         some_other_method
         2
       end

# good
if foo
  bar = 1
else
  bar = 2
end

case foo
when 'a'
  bar += 1
else
  bar += 2
end

if foo
  some_method
  bar = 1
else
  some_other_method
  bar = 2
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleconditionalassignment"><a class="anchor" href="#configurable-attributes-styleconditionalassignment"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>assign_to_condition</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>assign_to_condition</code>, <code>assign_inside_condition</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SingleLineConditionsOnly</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IncludeTernaryExpressions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleconstantvisibility"><a class="anchor" href="#styleconstantvisibility"></a>Style/ConstantVisibility</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.66</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.10</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks that constants defined in classes and modules have
an explicit visibility declaration. By default, Ruby makes all class-
and module constants public, which litters the public API of the
class or module. Explicitly declaring a visibility makes intent more
clear, and prevents outside actors from touching private state.</p>
</div>
<div class="sect2">
<h3 id="examples-styleconstantvisibility"><a class="anchor" href="#examples-styleconstantvisibility"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class Foo
  BAR = 42
  BAZ = 43
end

# good
class Foo
  BAR = 42
  private_constant :BAR

  BAZ = 43
  public_constant :BAZ
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="ignoremodules_-false-_default_-styleconstantvisibility"><a class="anchor" href="#ignoremodules_-false-_default_-styleconstantvisibility"></a>IgnoreModules: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class Foo
  MyClass = Struct.new()
end

# good
class Foo
  MyClass = Struct.new()
  public_constant :MyClass
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ignoremodules_-true-styleconstantvisibility"><a class="anchor" href="#ignoremodules_-true-styleconstantvisibility"></a>IgnoreModules: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
class Foo
  MyClass = Struct.new()
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleconstantvisibility"><a class="anchor" href="#configurable-attributes-styleconstantvisibility"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IgnoreModules</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylecopyright"><a class="anchor" href="#stylecopyright"></a>Style/Copyright</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Check that a copyright notice was given in each source file.</p>
</div>
<div class="paragraph">
<p>The default regexp for an acceptable copyright notice can be found in
config/default.yml. The default can be changed as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">Style/Copyright:
  Notice: '^Copyright (\(c\) )?2\d{3} Acme Inc'</code></pre>
</div>
</div>
<div class="paragraph">
<p>This regex string is treated as an unanchored regex. For each file
that RuboCop scans, a comment that matches this regex must be found or
an offense is reported.</p>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylecopyright"><a class="anchor" href="#configurable-attributes-stylecopyright"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notice</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>^Copyright (\(c\) )?2[0-9]{3} .+</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AutocorrectNotice</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">``</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styledatainheritance"><a class="anchor" href="#styledatainheritance"></a>Style/DataInheritance</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Required Ruby version: 3.2
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.49</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.51</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for inheritance from <code>Data.define</code> to avoid creating the anonymous parent class.</p>
</div>
<div class="sect2">
<h3 id="safety-styledatainheritance"><a class="anchor" href="#safety-styledatainheritance"></a>Safety</h3>
<div class="paragraph">
<p>Autocorrection is unsafe because it will change the inheritance
tree (e.g. return value of <code>Module#ancestors</code>) of the constant.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-styledatainheritance"><a class="anchor" href="#examples-styledatainheritance"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class Person &lt; Data.define(:first_name, :last_name)
  def age
    42
  end
end

# good
Person = Data.define(:first_name, :last_name) do
  def age
    42
  end
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styledatainheritance"><a class="anchor" href="#references-styledatainheritance"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-extend-data-define" class="bare">https://rubystyle.guide#no-extend-data-define</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styledatetime"><a class="anchor" href="#styledatetime"></a>Style/DateTime</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.51</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.92</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for consistent usage of the <code>DateTime</code> class over the
<code>Time</code> class. This cop is disabled by default since these classes,
although highly overlapping, have particularities that make them not
replaceable in certain situations when dealing with multiple timezones
and/or DST.</p>
</div>
<div class="sect2">
<h3 id="safety-styledatetime"><a class="anchor" href="#safety-styledatetime"></a>Safety</h3>
<div class="paragraph">
<p>Autocorrection is not safe, because <code>DateTime</code> and <code>Time</code> do not have
exactly the same behavior, although in most cases the autocorrection
will be fine.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-styledatetime"><a class="anchor" href="#examples-styledatetime"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad - uses `DateTime` for current time
DateTime.now

# good - uses `Time` for current time
Time.now

# bad - uses `DateTime` for modern date
DateTime.iso8601('2016-06-29')

# good - uses `Time` for modern date
Time.iso8601('2016-06-29')

# good - uses `DateTime` with start argument for historical date
DateTime.iso8601('1751-04-23', Date::ENGLAND)</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowcoercion_-false-_default_-styledatetime"><a class="anchor" href="#allowcoercion_-false-_default_-styledatetime"></a>AllowCoercion: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad - coerces to `DateTime`
something.to_datetime

# good - coerces to `Time`
something.to_time</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowcoercion_-true-styledatetime"><a class="anchor" href="#allowcoercion_-true-styledatetime"></a>AllowCoercion: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
something.to_datetime

# good
something.to_time</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styledatetime"><a class="anchor" href="#configurable-attributes-styledatetime"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowCoercion</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-styledatetime"><a class="anchor" href="#references-styledatetime"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#date-time" class="bare">https://rubystyle.guide#date-time</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styledefwithparentheses"><a class="anchor" href="#styledefwithparentheses"></a>Style/DefWithParentheses</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.12</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for parentheses in the definition of a method,
that does not take any arguments. Both instance and
class/singleton methods are checked.</p>
</div>
<div class="sect2">
<h3 id="examples-styledefwithparentheses"><a class="anchor" href="#examples-styledefwithparentheses"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def foo()
  do_something
end

# good
def foo
  do_something
end

# bad
def foo() = do_something

# good
def foo = do_something

# good (without parentheses it's a syntax error)
def foo() do_something end

# bad
def Baz.foo()
  do_something
end

# good
def Baz.foo
  do_something
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styledefwithparentheses"><a class="anchor" href="#references-styledefwithparentheses"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#method-parens" class="bare">https://rubystyle.guide#method-parens</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styledir"><a class="anchor" href="#styledir"></a>Style/Dir</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Required Ruby version: 2.0
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.50</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for places where the <code>#_\_dir\_\_</code> method can replace more
complex constructs to retrieve a canonicalized absolute path to the
current file.</p>
</div>
<div class="sect2">
<h3 id="examples-styledir"><a class="anchor" href="#examples-styledir"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
path = File.expand_path(File.dirname(__FILE__))

# bad
path = File.dirname(File.realpath(__FILE__))

# good
path = __dir__</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styledirempty"><a class="anchor" href="#styledirempty"></a>Style/DirEmpty</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Required Ruby version: 2.4
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.48</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Prefer to use <code>Dir.empty?('path/to/dir')</code> when checking if a directory is empty.</p>
</div>
<div class="sect2">
<h3 id="examples-styledirempty"><a class="anchor" href="#examples-styledirempty"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
Dir.entries('path/to/dir').size == 2
Dir.children('path/to/dir').empty?
Dir.children('path/to/dir').size == 0
Dir.each_child('path/to/dir').none?

# good
Dir.empty?('path/to/dir')</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styledisablecopswithinsourcecodedirective"><a class="anchor" href="#styledisablecopswithinsourcecodedirective"></a>Style/DisableCopsWithinSourceCodeDirective</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.82</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.9</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Detects comments to enable/disable RuboCop.
This is useful if want to make sure that every RuboCop error gets fixed
and not quickly disabled with a comment.</p>
</div>
<div class="paragraph">
<p>Specific cops can be allowed with the <code>AllowedCops</code> configuration. Note that
if this configuration is set, <code>rubocop:disable all</code> is still disallowed.</p>
</div>
<div class="sect2">
<h3 id="examples-styledisablecopswithinsourcecodedirective"><a class="anchor" href="#examples-styledisablecopswithinsourcecodedirective"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
# rubocop:disable Metrics/AbcSize
def foo
end
# rubocop:enable Metrics/AbcSize

# good
def foo
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowedcops_-_metricsabcsize_-styledisablecopswithinsourcecodedirective"><a class="anchor" href="#allowedcops_-_metricsabcsize_-styledisablecopswithinsourcecodedirective"></a>AllowedCops: [Metrics/AbcSize]</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
# rubocop:disable Metrics/AbcSize
def foo
end
# rubocop:enable Metrics/AbcSize</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styledisablecopswithinsourcecodedirective"><a class="anchor" href="#configurable-attributes-styledisablecopswithinsourcecodedirective"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedCops</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styledocumentdynamicevaldefinition"><a class="anchor" href="#styledocumentdynamicevaldefinition"></a>Style/DocumentDynamicEvalDefinition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>When using <code>class_eval</code> (or other <code>eval</code>) with string interpolation,
add a comment block showing its appearance if interpolated (a practice used in Rails code).</p>
</div>
<div class="sect2">
<h3 id="examples-styledocumentdynamicevaldefinition"><a class="anchor" href="#examples-styledocumentdynamicevaldefinition"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># from activesupport/lib/active_support/core_ext/string/output_safety.rb

# bad
UNSAFE_STRING_METHODS.each do |unsafe_method|
  if 'String'.respond_to?(unsafe_method)
    class_eval &lt;&lt;-EOT, __FILE__, __LINE__ + 1
      def #{unsafe_method}(*params, &amp;block)
        to_str.#{unsafe_method}(*params, &amp;block)
      end

      def #{unsafe_method}!(*params)
        @dirty = true
        super
      end
    EOT
  end
end

# good, inline comments in heredoc
UNSAFE_STRING_METHODS.each do |unsafe_method|
  if 'String'.respond_to?(unsafe_method)
    class_eval &lt;&lt;-EOT, __FILE__, __LINE__ + 1
      def #{unsafe_method}(*params, &amp;block)       # def capitalize(*params, &amp;block)
        to_str.#{unsafe_method}(*params, &amp;block)  #   to_str.capitalize(*params, &amp;block)
      end                                         # end

      def #{unsafe_method}!(*params)              # def capitalize!(*params)
        @dirty = true                             #   @dirty = true
        super                                     #   super
      end                                         # end
    EOT
  end
end

# good, block comments in heredoc
class_eval &lt;&lt;-EOT, __FILE__, __LINE__ + 1
  # def capitalize!(*params)
  #   @dirty = true
  #   super
  # end

  def #{unsafe_method}!(*params)
    @dirty = true
    super
  end
EOT

# good, block comments before heredoc
class_eval(
  # def capitalize!(*params)
  #   @dirty = true
  #   super
  # end

  &lt;&lt;-EOT, __FILE__, __LINE__ + 1
    def #{unsafe_method}!(*params)
      @dirty = true
      super
    end
  EOT
)

# bad - interpolated string without comment
class_eval("def #{unsafe_method}!(*params); end")

# good - with inline comment or replace it with block comment using heredoc
class_eval("def #{unsafe_method}!(*params); end # def capitalize!(*params); end")</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styledocumentdynamicevaldefinition"><a class="anchor" href="#references-styledocumentdynamicevaldefinition"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#eval-comment-docs" class="bare">https://rubystyle.guide#eval-comment-docs</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styledocumentation"><a class="anchor" href="#styledocumentation"></a>Style/Documentation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for missing top-level documentation of classes and
modules. Classes with no body are exempt from the check and so are
namespace modules - modules that have nothing in their bodies except
classes, other modules, constant definitions or constant visibility
declarations.</p>
</div>
<div class="paragraph">
<p>The documentation requirement is annulled if the class or module has
a <code><mark>:nodoc:</code> comment next to it. Likewise, <code></mark>:nodoc: all</code> does the
same for all its children.</p>
</div>
<div class="sect2">
<h3 id="examples-styledocumentation"><a class="anchor" href="#examples-styledocumentation"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class Person
  # ...
end

module Math
end

# good
# Description/Explanation of Person class
class Person
  # ...
end

# allowed
# Class without body
class Person
end

# Namespace - A namespace can be a class or a module
# Containing a class
module Namespace
  # Description/Explanation of Person class
  class Person
    # ...
  end
end

# Containing constant visibility declaration
module Namespace
  class Private
  end

  private_constant :Private
end

# Containing constant definition
module Namespace
  Public = Class.new
end

# Macro calls
module Namespace
  extend Foo
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowedconstants_-__classmethods__-styledocumentation"><a class="anchor" href="#allowedconstants_-__classmethods__-styledocumentation"></a>AllowedConstants: ['ClassMethods']</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
module A
  module ClassMethods
    # ...
  end
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styledocumentation"><a class="anchor" href="#configurable-attributes-styledocumentation"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedConstants</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exclude</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spec/**/*</code>, <code>test/**/*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styledocumentationmethod"><a class="anchor" href="#styledocumentationmethod"></a>Style/DocumentationMethod</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.43</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for missing documentation comment for public methods.
It can optionally be configured to also require documentation for
non-public methods.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This cop allows <code>initialize</code> method because <code>initialize</code> is
a special method called from <code>new</code>. In some programming languages
they are called constructor to distinguish it from method.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-styledocumentationmethod"><a class="anchor" href="#examples-styledocumentationmethod"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad

class Foo
  def bar
    puts baz
  end
end

module Foo
  def bar
    puts baz
  end
end

def foo.bar
  puts baz
end

# good

class Foo
  # Documentation
  def bar
    puts baz
  end
end

module Foo
  # Documentation
  def bar
    puts baz
  end
end

# Documentation
def foo.bar
  puts baz
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="requirefornonpublicmethods_-false-_default_-styledocumentationmethod"><a class="anchor" href="#requirefornonpublicmethods_-false-_default_-styledocumentationmethod"></a>RequireForNonPublicMethods: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
class Foo
  protected
  def do_something
  end
end

class Foo
  private
  def do_something
  end
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="requirefornonpublicmethods_-true-styledocumentationmethod"><a class="anchor" href="#requirefornonpublicmethods_-true-styledocumentationmethod"></a>RequireForNonPublicMethods: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class Foo
  protected
  def do_something
  end
end

class Foo
  private
  def do_something
  end
end

# good
class Foo
  protected
  # Documentation
  def do_something
  end
end

class Foo
  private
  # Documentation
  def do_something
  end
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowedmethods_-__method_missing__-_respond_to_missing___-styledocumentationmethod"><a class="anchor" href="#allowedmethods_-__method_missing__-_respond_to_missing___-styledocumentationmethod"></a>AllowedMethods: ['method_missing', 'respond_to_missing?']</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
class Foo
  def method_missing(name, *args)
  end

  def respond_to_missing?(symbol, include_private)
  end
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styledocumentationmethod"><a class="anchor" href="#configurable-attributes-styledocumentationmethod"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exclude</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spec/**/*</code>, <code>test/**/*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RequireForNonPublicMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styledoublecopdisabledirective"><a class="anchor" href="#styledoublecopdisabledirective"></a>Style/DoubleCopDisableDirective</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.73</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Detects double disable comments on one line. This is mostly to catch
automatically generated comments that need to be regenerated.</p>
</div>
<div class="sect2">
<h3 id="examples-styledoublecopdisabledirective"><a class="anchor" href="#examples-styledoublecopdisabledirective"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def f # rubocop:disable Style/For # rubocop:disable Metrics/AbcSize
end

# good
# rubocop:disable Metrics/AbcSize
def f # rubocop:disable Style/For
end
# rubocop:enable Metrics/AbcSize

# if both fit on one line
def f # rubocop:disable Style/For, Metrics/AbcSize
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styledoublenegation"><a class="anchor" href="#styledoublenegation"></a>Style/DoubleNegation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.2</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of double negation (<code>!!</code>) to convert something to a boolean value.</p>
</div>
<div class="paragraph">
<p>When using <code>EnforcedStyle: allowed_in_returns</code>, allow double negation in contexts
that use boolean as a return value. When using <code>EnforcedStyle: forbidden</code>, double negation
should be forbidden always.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
when <code>something</code> is a boolean value
<code>!!something</code> and <code>!something.nil?</code> are not the same thing.
As you&#8217;re unlikely to write code that can accept values of any type
this is rarely a problem in practice.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="safety-styledoublenegation"><a class="anchor" href="#safety-styledoublenegation"></a>Safety</h3>
<div class="paragraph">
<p>Autocorrection is unsafe when the value is <code>false</code>, because the result
of the expression will change.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">!!false     #=&gt; false
!false.nil? #=&gt; true</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="examples-styledoublenegation"><a class="anchor" href="#examples-styledoublenegation"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
!!something

# good
!something.nil?</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-allowed_in_returns-_default_-styledoublenegation"><a class="anchor" href="#enforcedstyle_-allowed_in_returns-_default_-styledoublenegation"></a>EnforcedStyle: allowed_in_returns (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
def foo?
  !!return_value
end

define_method :foo? do
  !!return_value
end

define_singleton_method :foo? do
  !!return_value
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-forbidden-styledoublenegation"><a class="anchor" href="#enforcedstyle_-forbidden-styledoublenegation"></a>EnforcedStyle: forbidden</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def foo?
  !!return_value
end

define_method :foo? do
  !!return_value
end

define_singleton_method :foo? do
  !!return_value
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styledoublenegation"><a class="anchor" href="#configurable-attributes-styledoublenegation"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>allowed_in_returns</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>allowed_in_returns</code>, <code>forbidden</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-styledoublenegation"><a class="anchor" href="#references-styledoublenegation"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-bang-bang" class="bare">https://rubystyle.guide#no-bang-bang</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleeachforsimpleloop"><a class="anchor" href="#styleeachforsimpleloop"></a>Style/EachForSimpleLoop</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.41</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for loops which iterate a constant number of times,
using a Range literal and <code>#each</code>. This can be done more readably using
<code>Integer#times</code>.</p>
</div>
<div class="paragraph">
<p>This check only applies if the block takes no parameters.</p>
</div>
<div class="sect2">
<h3 id="examples-styleeachforsimpleloop"><a class="anchor" href="#examples-styleeachforsimpleloop"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
(1..5).each { }

# good
5.times { }

# bad
(0...10).each {}

# good
10.times {}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleeachwithobject"><a class="anchor" href="#styleeachwithobject"></a>Style/EachWithObject</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.42</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for inject / reduce calls where the passed in object is
returned at the end and so could be replaced by each_with_object without
the need to return the object at the end.</p>
</div>
<div class="paragraph">
<p>However, we can&#8217;t replace with each_with_object if the accumulator
parameter is assigned to within the block.</p>
</div>
<div class="sect2">
<h3 id="examples-styleeachwithobject"><a class="anchor" href="#examples-styleeachwithobject"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
[1, 2].inject({}) { |a, e| a[e] = e; a }

# good
[1, 2].each_with_object({}) { |e, a| a[e] = e }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleemptyblockparameter"><a class="anchor" href="#styleemptyblockparameter"></a>Style/EmptyBlockParameter</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for pipes for empty block parameters. Pipes for empty
block parameters do not cause syntax errors, but they are redundant.</p>
</div>
<div class="sect2">
<h3 id="examples-styleemptyblockparameter"><a class="anchor" href="#examples-styleemptyblockparameter"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
a do ||
  do_something
end

# bad
a { || do_something }

# good
a do
end

# good
a { do_something }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleemptycasecondition"><a class="anchor" href="#styleemptycasecondition"></a>Style/EmptyCaseCondition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.40</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for case statements with an empty condition.</p>
</div>
<div class="sect2">
<h3 id="examples-styleemptycasecondition"><a class="anchor" href="#examples-styleemptycasecondition"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad:
case
when x == 0
  puts 'x is 0'
when y == 0
  puts 'y is 0'
else
  puts 'neither is 0'
end

# good:
if x == 0
  puts 'x is 0'
elsif y == 0
  puts 'y is 0'
else
  puts 'neither is 0'
end

# good: (the case condition node is not empty)
case n
when 0
  puts 'zero'
when 1
  puts 'one'
else
  puts 'more'
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleemptyelse"><a class="anchor" href="#styleemptyelse"></a>Style/EmptyElse</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command-line only</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.61</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for empty else-clauses, possibly including comments and/or an
explicit <code>nil</code> depending on the EnforcedStyle.</p>
</div>
<div class="sect2">
<h3 id="examples-styleemptyelse"><a class="anchor" href="#examples-styleemptyelse"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-both-_default_-styleemptyelse"><a class="anchor" href="#enforcedstyle_-both-_default_-styleemptyelse"></a>EnforcedStyle: both (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># warn on empty else and else with nil in it

# bad
if condition
  statement
else
  nil
end

# bad
if condition
  statement
else
end

# good
if condition
  statement
else
  statement
end

# good
if condition
  statement
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-empty-styleemptyelse"><a class="anchor" href="#enforcedstyle_-empty-styleemptyelse"></a>EnforcedStyle: empty</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># warn only on empty else

# bad
if condition
  statement
else
end

# good
if condition
  statement
else
  nil
end

# good
if condition
  statement
else
  statement
end

# good
if condition
  statement
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-nil-styleemptyelse"><a class="anchor" href="#enforcedstyle_-nil-styleemptyelse"></a>EnforcedStyle: nil</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># warn on else with nil in it

# bad
if condition
  statement
else
  nil
end

# good
if condition
  statement
else
end

# good
if condition
  statement
else
  statement
end

# good
if condition
  statement
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowcomments_-false-_default_-styleemptyelse"><a class="anchor" href="#allowcomments_-false-_default_-styleemptyelse"></a>AllowComments: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if condition
  statement
else
  # something comment
  nil
end

# bad
if condition
  statement
else
  # something comment
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowcomments_-true-styleemptyelse"><a class="anchor" href="#allowcomments_-true-styleemptyelse"></a>AllowComments: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
if condition
  statement
else
  # something comment
  nil
end

# good
if condition
  statement
else
  # something comment
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleemptyelse"><a class="anchor" href="#configurable-attributes-styleemptyelse"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>both</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>empty</code>, <code>nil</code>, <code>both</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowComments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleemptyheredoc"><a class="anchor" href="#styleemptyheredoc"></a>Style/EmptyHeredoc</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command-line only</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.61</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for using empty heredoc to reduce redundancy.</p>
</div>
<div class="sect2">
<h3 id="examples-styleemptyheredoc"><a class="anchor" href="#examples-styleemptyheredoc"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
&lt;&lt;~EOS
EOS

&lt;&lt;-EOS
EOS

&lt;&lt;EOS
EOS

# good
''

# bad
do_something(&lt;&lt;~EOS)
EOS

do_something(&lt;&lt;-EOS)
EOS

do_something(&lt;&lt;EOS)
EOS

# good
do_something('')</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleemptylambdaparameter"><a class="anchor" href="#styleemptylambdaparameter"></a>Style/EmptyLambdaParameter</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for parentheses for empty lambda parameters. Parentheses
for empty lambda parameters do not cause syntax errors, but they are
redundant.</p>
</div>
<div class="sect2">
<h3 id="examples-styleemptylambdaparameter"><a class="anchor" href="#examples-styleemptylambdaparameter"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
-&gt; () { do_something }

# good
-&gt; { do_something }

# good
-&gt; (arg) { do_something(arg) }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleemptyliteral"><a class="anchor" href="#styleemptyliteral"></a>Style/EmptyLiteral</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.12</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the use of a method, the result of which
would be a literal, like an empty array, hash, or string.</p>
</div>
<div class="sect2">
<h3 id="examples-styleemptyliteral"><a class="anchor" href="#examples-styleemptyliteral"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
a = Array.new
a = Array[]
h = Hash.new
h = Hash[]
s = String.new

# good
a = []
h = {}
s = ''</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleemptyliteral"><a class="anchor" href="#references-styleemptyliteral"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#literal-array-hash" class="bare">https://rubystyle.guide#literal-array-hash</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleemptymethod"><a class="anchor" href="#styleemptymethod"></a>Style/EmptyMethod</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command-line only</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.46</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.61</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the formatting of empty method definitions.
By default it enforces empty method definitions to go on a single
line (compact style), but it can be configured to enforce the <code>end</code>
to go on its own line (expanded style).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A method definition is not considered empty if it contains
comments.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Autocorrection will not be applied for the <code>compact</code> style
if the resulting code is longer than the <code>Max</code> configuration for
<code>Layout/LineLength</code>, but an offense will still be registered.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-styleemptymethod"><a class="anchor" href="#examples-styleemptymethod"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-compact-_default_-styleemptymethod"><a class="anchor" href="#enforcedstyle_-compact-_default_-styleemptymethod"></a>EnforcedStyle: compact (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def foo(bar)
end

def self.foo(bar)
end

# good
def foo(bar); end

def foo(bar)
  # baz
end

def self.foo(bar); end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-expanded-styleemptymethod"><a class="anchor" href="#enforcedstyle_-expanded-styleemptymethod"></a>EnforcedStyle: expanded</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def foo(bar); end

def self.foo(bar); end

# good
def foo(bar)
end

def self.foo(bar)
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleemptymethod"><a class="anchor" href="#configurable-attributes-styleemptymethod"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>compact</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>compact</code>, <code>expanded</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-styleemptymethod"><a class="anchor" href="#references-styleemptymethod"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-single-line-methods" class="bare">https://rubystyle.guide#no-single-line-methods</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleencoding"><a class="anchor" href="#styleencoding"></a>Style/Encoding</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.50</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks ensures source files have no utf-8 encoding comments.</p>
</div>
<div class="sect2">
<h3 id="examples-styleencoding"><a class="anchor" href="#examples-styleencoding"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
# encoding: UTF-8
# coding: UTF-8
# -*- coding: UTF-8 -*-</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleencoding"><a class="anchor" href="#references-styleencoding"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#utf-8" class="bare">https://rubystyle.guide#utf-8</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleendblock"><a class="anchor" href="#styleendblock"></a>Style/EndBlock</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.81</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for END blocks.</p>
</div>
<div class="sect2">
<h3 id="examples-styleendblock"><a class="anchor" href="#examples-styleendblock"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
END { puts 'Goodbye!' }

# good
at_exit { puts 'Goodbye!' }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleendblock"><a class="anchor" href="#references-styleendblock"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-END-blocks" class="bare">https://rubystyle.guide#no-END-blocks</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleendlessmethod"><a class="anchor" href="#styleendlessmethod"></a>Style/EndlessMethod</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Required Ruby version: 3.0
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for endless methods.</p>
</div>
<div class="paragraph">
<p>It can enforce either the use of endless methods definitions
for single-lined method bodies, or disallow endless methods.</p>
</div>
<div class="paragraph">
<p>Other method definition types are not considered by this cop.</p>
</div>
<div class="paragraph">
<p>The supported styles are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>allow_single_line (default) - only single line endless method definitions are allowed.</p>
</li>
<li>
<p>allow_always - all endless method definitions are allowed.</p>
</li>
<li>
<p>disallow - all endless method definitions are disallowed.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Incorrect endless method definitions will always be
corrected to a multi-line definition.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-styleendlessmethod"><a class="anchor" href="#examples-styleendlessmethod"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-allow_single_line-_default_-styleendlessmethod"><a class="anchor" href="#enforcedstyle_-allow_single_line-_default_-styleendlessmethod"></a>EnforcedStyle: allow_single_line (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
def my_method() = x

# bad, multi-line endless method
def my_method() = x.foo
                   .bar
                   .baz</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-allow_always-styleendlessmethod"><a class="anchor" href="#enforcedstyle_-allow_always-styleendlessmethod"></a>EnforcedStyle: allow_always</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
def my_method() = x

# good
def my_method() = x.foo
                   .bar
                   .baz</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-disallow-styleendlessmethod"><a class="anchor" href="#enforcedstyle_-disallow-styleendlessmethod"></a>EnforcedStyle: disallow</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def my_method() = x

# bad
def my_method() = x.foo
                   .bar
                   .baz</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleendlessmethod"><a class="anchor" href="#configurable-attributes-styleendlessmethod"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>allow_single_line</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>allow_single_line</code>, <code>allow_always</code>, <code>disallow</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-styleendlessmethod"><a class="anchor" href="#references-styleendlessmethod"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#endless-methods" class="bare">https://rubystyle.guide#endless-methods</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleenvhome"><a class="anchor" href="#styleenvhome"></a>Style/EnvHome</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.29</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for consistent usage of <code>ENV['HOME']</code>. If <code>nil</code> is used as
the second argument of <code>ENV.fetch</code>, it is treated as a bad case like <code>ENV[]</code>.</p>
</div>
<div class="sect2">
<h3 id="safety-styleenvhome"><a class="anchor" href="#safety-styleenvhome"></a>Safety</h3>
<div class="paragraph">
<p>The cop is unsafe because the result when <code>nil</code> is assigned to <code>ENV['HOME']</code> changes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">ENV['HOME'] = nil
ENV['HOME'] # =&gt; nil
Dir.home    # =&gt; '/home/foo'</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleenvhome"><a class="anchor" href="#examples-styleenvhome"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
ENV['HOME']
ENV.fetch('HOME', nil)

# good
Dir.home

# good
ENV.fetch('HOME', default)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleevalwithlocation"><a class="anchor" href="#styleevalwithlocation"></a>Style/EvalWithLocation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Ensures that eval methods (<code>eval</code>, <code>instance_eval</code>, <code>class_eval</code>
and <code>module_eval</code>) are given filename and line number values (<code>_\_FILE\__</code>
and <code>\__LINE\_\_</code>). This data is used to ensure that any errors raised
within the evaluated code will be given the correct identification
in a backtrace.</p>
</div>
<div class="paragraph">
<p>The cop also checks that the line number given relative to <code>_\_LINE\_\_</code> is
correct.</p>
</div>
<div class="paragraph">
<p>This cop will autocorrect incorrect or missing filename and line number
values. However, if <code>eval</code> is called without a binding argument, the cop
will not attempt to automatically add a binding, or add filename and
line values.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This cop works only when a string literal is given as a code string.
No offense is reported if a string variable is given as below:
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">code = &lt;&lt;-RUBY
  def do_something
  end
RUBY
eval code # not checked.</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleevalwithlocation"><a class="anchor" href="#examples-styleevalwithlocation"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
eval &lt;&lt;-RUBY
  def do_something
  end
RUBY

# bad
C.class_eval &lt;&lt;-RUBY
  def do_something
  end
RUBY

# good
eval &lt;&lt;-RUBY, binding, __FILE__, __LINE__ + 1
  def do_something
  end
RUBY

# good
C.class_eval &lt;&lt;-RUBY, __FILE__, __LINE__ + 1
  def do_something
  end
RUBY</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleevenodd"><a class="anchor" href="#styleevenodd"></a>Style/EvenOdd</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.29</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for places where <code>Integer#even?</code> or <code>Integer#odd?</code>
can be used.</p>
</div>
<div class="sect2">
<h3 id="examples-styleevenodd"><a class="anchor" href="#examples-styleevenodd"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if x % 2 == 0
end

# good
if x.even?
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleevenodd"><a class="anchor" href="#references-styleevenodd"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#predicate-methods" class="bare">https://rubystyle.guide#predicate-methods</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleexactregexpmatch"><a class="anchor" href="#styleexactregexpmatch"></a>Style/ExactRegexpMatch</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.51</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for exact regexp match inside Regexp literals.</p>
</div>
<div class="sect2">
<h3 id="examples-styleexactregexpmatch"><a class="anchor" href="#examples-styleexactregexpmatch"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
string =~ /\Astring\z/
string === /\Astring\z/
string.match(/\Astring\z/)
string.match?(/\Astring\z/)

# good
string == 'string'

# bad
string !~ /\Astring\z/

# good
string != 'string'</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleexpandpatharguments"><a class="anchor" href="#styleexpandpatharguments"></a>Style/ExpandPathArguments</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for use of the <code>File.expand_path</code> arguments.
Likewise, it also checks for the <code>Pathname.new</code> argument.</p>
</div>
<div class="paragraph">
<p>Contrastive bad case and good case are alternately shown in
the following examples.</p>
</div>
<div class="sect2">
<h3 id="examples-styleexpandpatharguments"><a class="anchor" href="#examples-styleexpandpatharguments"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
File.expand_path('..', __FILE__)

# good
File.expand_path(__dir__)

# bad
File.expand_path('../..', __FILE__)

# good
File.expand_path('..', __dir__)

# bad
File.expand_path('.', __FILE__)

# good
File.expand_path(__FILE__)

# bad
Pathname(__FILE__).parent.expand_path

# good
Pathname(__dir__).expand_path

# bad
Pathname.new(__FILE__).parent.expand_path

# good
Pathname.new(__dir__).expand_path</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleexplicitblockargument"><a class="anchor" href="#styleexplicitblockargument"></a>Style/ExplicitBlockArgument</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.89</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.8</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the use of explicit block argument to avoid writing
block literal that just passes its arguments to another block.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This cop only registers an offense if the block args match the
yield args exactly.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-styleexplicitblockargument"><a class="anchor" href="#examples-styleexplicitblockargument"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def with_tmp_dir
  Dir.mktmpdir do |tmp_dir|
    Dir.chdir(tmp_dir) { |dir| yield dir } # block just passes arguments
  end
end

# bad
def nine_times
  9.times { yield }
end

# good
def with_tmp_dir(&amp;block)
  Dir.mktmpdir do |tmp_dir|
    Dir.chdir(tmp_dir, &amp;block)
  end
end

with_tmp_dir do |dir|
  puts "dir is accessible as a parameter and pwd is set: #{dir}"
end

# good
def nine_times(&amp;block)
  9.times(&amp;block)
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleexplicitblockargument"><a class="anchor" href="#references-styleexplicitblockargument"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#block-argument" class="bare">https://rubystyle.guide#block-argument</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleexponentialnotation"><a class="anchor" href="#styleexponentialnotation"></a>Style/ExponentialNotation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.82</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces consistency when using exponential notation
for numbers in the code (eg 1.2e4). Different styles are supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>scientific</code> which enforces a mantissa between 1 (inclusive) and 10 (exclusive).</p>
</li>
<li>
<p><code>engineering</code> which enforces the exponent to be a multiple of 3 and the mantissa
to be between 0.1 (inclusive) and 10 (exclusive).</p>
</li>
<li>
<p><code>integral</code> which enforces the mantissa to always be a whole number without
trailing zeroes.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="examples-styleexponentialnotation"><a class="anchor" href="#examples-styleexponentialnotation"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-scientific-_default_-styleexponentialnotation"><a class="anchor" href="#enforcedstyle_-scientific-_default_-styleexponentialnotation"></a>EnforcedStyle: scientific (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># Enforces a mantissa between 1 (inclusive) and 10 (exclusive).

# bad
10e6
0.3e4
11.7e5
3.14e0

# good
1e7
3e3
1.17e6
3.14</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-engineering-styleexponentialnotation"><a class="anchor" href="#enforcedstyle_-engineering-styleexponentialnotation"></a>EnforcedStyle: engineering</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># Enforces using multiple of 3 exponents,
# mantissa should be between 0.1 (inclusive) and 1000 (exclusive)

# bad
3.2e7
0.1e5
12e5
1232e6

# good
32e6
10e3
1.2e6
1.232e9</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-integral-styleexponentialnotation"><a class="anchor" href="#enforcedstyle_-integral-styleexponentialnotation"></a>EnforcedStyle: integral</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># Enforces the mantissa to have no decimal part and no
# trailing zeroes.

# bad
3.2e7
0.1e5
120e4

# good
32e6
1e4
12e5</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleexponentialnotation"><a class="anchor" href="#configurable-attributes-styleexponentialnotation"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>scientific</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>scientific</code>, <code>engineering</code>, <code>integral</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-styleexponentialnotation"><a class="anchor" href="#references-styleexponentialnotation"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#exponential-notation" class="bare">https://rubystyle.guide#exponential-notation</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylefetchenvvar"><a class="anchor" href="#stylefetchenvvar"></a>Style/FetchEnvVar</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Suggests <code>ENV.fetch</code> for the replacement of <code>ENV[]</code>.
<code>ENV[]</code> silently fails and returns <code>nil</code> when the environment variable is unset,
which may cause unexpected behaviors when the developer forgets to set it.
On the other hand, <code>ENV.fetch</code> raises KeyError or returns the explicitly
specified default value.</p>
</div>
<div class="sect2">
<h3 id="examples-stylefetchenvvar"><a class="anchor" href="#examples-stylefetchenvvar"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
ENV['X']
x = ENV['X']

# good
ENV.fetch('X')
x = ENV.fetch('X')

# also good
!ENV['X']
ENV['X'].some_method # (e.g. `.nil?`)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylefetchenvvar"><a class="anchor" href="#configurable-attributes-stylefetchenvvar"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedVars</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylefetchenvvar"><a class="anchor" href="#references-stylefetchenvvar"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide/#hash-fetch-defaults" class="bare">https://rubystyle.guide/#hash-fetch-defaults</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylefileempty"><a class="anchor" href="#stylefileempty"></a>Style/FileEmpty</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Required Ruby version: 2.4
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.48</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Prefer to use <code>File.empty?('path/to/file')</code> when checking if a file is empty.</p>
</div>
<div class="sect2">
<h3 id="safety-stylefileempty"><a class="anchor" href="#safety-stylefileempty"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe, because <code>File.size</code>, <code>File.read</code>, and <code>File.binread</code>
raise <code>ENOENT</code> exception when there is no file corresponding to the path,
while <code>File.empty?</code> does not raise an exception.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylefileempty"><a class="anchor" href="#examples-stylefileempty"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
File.zero?('path/to/file')
File.size('path/to/file') == 0
File.size('path/to/file') &gt;= 0
File.size('path/to/file').zero?
File.read('path/to/file').empty?
File.binread('path/to/file') == ''
FileTest.zero?('path/to/file')

# good
File.empty?('path/to/file')
FileTest.empty?('path/to/file')</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylefileread"><a class="anchor" href="#stylefileread"></a>Style/FileRead</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Favor <code>File.(bin)read</code> convenience methods.</p>
</div>
<div class="sect2">
<h3 id="examples-stylefileread"><a class="anchor" href="#examples-stylefileread"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad - text mode
File.open(filename).read
File.open(filename, &amp;:read)
File.open(filename) { |f| f.read }
File.open(filename) do |f|
  f.read
end
File.open(filename, 'r').read
File.open(filename, 'r', &amp;:read)
File.open(filename, 'r') do |f|
  f.read
end

# good
File.read(filename)

# bad - binary mode
File.open(filename, 'rb').read
File.open(filename, 'rb', &amp;:read)
File.open(filename, 'rb') do |f|
  f.read
end

# good
File.binread(filename)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylefileread"><a class="anchor" href="#references-stylefileread"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#file-read" class="bare">https://rubystyle.guide#file-read</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylefilewrite"><a class="anchor" href="#stylefilewrite"></a>Style/FileWrite</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Favor <code>File.(bin)write</code> convenience methods.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
There are different method signatures between <code>File.write</code> (class method)
and <code>File#write</code> (instance method). The following case will be allowed because
static analysis does not know the contents of the splat argument:
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">File.open(filename, 'w') do |f|
  f.write(*objects)
end</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylefilewrite"><a class="anchor" href="#examples-stylefilewrite"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad - text mode
File.open(filename, 'w').write(content)
File.open(filename, 'w') do |f|
  f.write(content)
end

# good
File.write(filename, content)

# bad - binary mode
File.open(filename, 'wb').write(content)
File.open(filename, 'wb') do |f|
  f.write(content)
end

# good
File.binwrite(filename, content)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylefilewrite"><a class="anchor" href="#references-stylefilewrite"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#file-write" class="bare">https://rubystyle.guide#file-write</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylefloatdivision"><a class="anchor" href="#stylefloatdivision"></a>Style/FloatDivision</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.72</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.9</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for division with integers coerced to floats.
It is recommended to either always use <code>fdiv</code> or coerce one side only.
This cop also provides other options for code consistency.</p>
</div>
<div class="sect2">
<h3 id="safety-stylefloatdivision"><a class="anchor" href="#safety-stylefloatdivision"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe, because if the operand variable is a string object
then <code>.to_f</code> will be removed and an error will occur.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">a = '1.2'
b = '3.4'
a.to_f / b.to_f # Both `to_f` calls are required here</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylefloatdivision"><a class="anchor" href="#examples-stylefloatdivision"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-single_coerce-_default_-stylefloatdivision"><a class="anchor" href="#enforcedstyle_-single_coerce-_default_-stylefloatdivision"></a>EnforcedStyle: single_coerce (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
a.to_f / b.to_f

# good
a.to_f / b
a / b.to_f</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-left_coerce-stylefloatdivision"><a class="anchor" href="#enforcedstyle_-left_coerce-stylefloatdivision"></a>EnforcedStyle: left_coerce</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
a / b.to_f
a.to_f / b.to_f

# good
a.to_f / b</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-right_coerce-stylefloatdivision"><a class="anchor" href="#enforcedstyle_-right_coerce-stylefloatdivision"></a>EnforcedStyle: right_coerce</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
a.to_f / b
a.to_f / b.to_f

# good
a / b.to_f</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-fdiv-stylefloatdivision"><a class="anchor" href="#enforcedstyle_-fdiv-stylefloatdivision"></a>EnforcedStyle: fdiv</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
a / b.to_f
a.to_f / b
a.to_f / b.to_f

# good
a.fdiv(b)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylefloatdivision"><a class="anchor" href="#configurable-attributes-stylefloatdivision"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>single_coerce</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>left_coerce</code>, <code>right_coerce</code>, <code>single_coerce</code>, <code>fdiv</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylefloatdivision"><a class="anchor" href="#references-stylefloatdivision"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#float-division" class="bare">https://rubystyle.guide#float-division</a></p>
</li>
<li>
<p><a href="https://blog.rubystyle.guide/ruby/2019/06/21/float-division.html" class="bare">https://blog.rubystyle.guide/ruby/2019/06/21/float-division.html</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylefor"><a class="anchor" href="#stylefor"></a>Style/For</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.26</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for uses of the <code>for</code> keyword or <code>each</code> method. The
preferred alternative is set in the EnforcedStyle configuration
parameter. An <code>each</code> call with a block on a single line is always
allowed.</p>
</div>
<div class="sect2">
<h3 id="safety-stylefor"><a class="anchor" href="#safety-stylefor"></a>Safety</h3>
<div class="paragraph">
<p>This cop&#8217;s autocorrection is unsafe because the scope of
variables is different between <code>each</code> and <code>for</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylefor"><a class="anchor" href="#examples-stylefor"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-each-_default_-stylefor"><a class="anchor" href="#enforcedstyle_-each-_default_-stylefor"></a>EnforcedStyle: each (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def foo
  for n in [1, 2, 3] do
    puts n
  end
end

# good
def foo
  [1, 2, 3].each do |n|
    puts n
  end
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-for-stylefor"><a class="anchor" href="#enforcedstyle_-for-stylefor"></a>EnforcedStyle: for</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def foo
  [1, 2, 3].each do |n|
    puts n
  end
end

# good
def foo
  for n in [1, 2, 3] do
    puts n
  end
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylefor"><a class="anchor" href="#configurable-attributes-stylefor"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>each</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>each</code>, <code>for</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylefor"><a class="anchor" href="#references-stylefor"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-for-loops" class="bare">https://rubystyle.guide#no-for-loops</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleformatstring"><a class="anchor" href="#styleformatstring"></a>Style/FormatString</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.49</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the use of a single string formatting utility.
Valid options include <code>Kernel#format</code>, <code>Kernel#sprintf</code>, and <code>String#%</code>.</p>
</div>
<div class="paragraph">
<p>The detection of <code>String#%</code> cannot be implemented in a reliable
manner for all cases, so only two scenarios are considered -
if the first argument is a string literal and if the second
argument is an array literal.</p>
</div>
<div class="paragraph">
<p>Autocorrection will be applied when using argument is a literal or known built-in conversion
methods such as <code>to_d</code>, <code>to_f</code>, <code>to_h</code>, <code>to_i</code>, <code>to_r</code>, <code>to_s</code>, and <code>to_sym</code> on variables,
provided that their return value is not an array. For example, when using <code>to_s</code>,
<code>'%s' % [1, 2, 3].to_s</code> can be autocorrected without any incompatibility:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">'%s' % [1, 2, 3]        #=&gt; '1'
format('%s', [1, 2, 3]) #=&gt; '[1, 2, 3]'
'%s' % [1, 2, 3].to_s   #=&gt; '[1, 2, 3]'</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleformatstring"><a class="anchor" href="#examples-styleformatstring"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-format-_default_-styleformatstring"><a class="anchor" href="#enforcedstyle_-format-_default_-styleformatstring"></a>EnforcedStyle: format (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
puts sprintf('%10s', 'foo')
puts '%10s' % 'foo'

# good
puts format('%10s', 'foo')</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-sprintf-styleformatstring"><a class="anchor" href="#enforcedstyle_-sprintf-styleformatstring"></a>EnforcedStyle: sprintf</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
puts format('%10s', 'foo')
puts '%10s' % 'foo'

# good
puts sprintf('%10s', 'foo')</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-percent-styleformatstring"><a class="anchor" href="#enforcedstyle_-percent-styleformatstring"></a>EnforcedStyle: percent</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
puts format('%10s', 'foo')
puts sprintf('%10s', 'foo')

# good
puts '%10s' % 'foo'</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleformatstring"><a class="anchor" href="#configurable-attributes-styleformatstring"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>format</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>format</code>, <code>sprintf</code>, <code>percent</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-styleformatstring"><a class="anchor" href="#references-styleformatstring"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#sprintf" class="bare">https://rubystyle.guide#sprintf</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleformatstringtoken"><a class="anchor" href="#styleformatstringtoken"></a>Style/FormatStringToken</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.49</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.0</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Use a consistent style for named format string tokens.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>unannotated</code> style cop only works for strings
which are passed as arguments to those methods:
<code>printf</code>, <code>sprintf</code>, <code>format</code>, <code>%</code>.
The reason is that <em>unannotated</em> format is very similar
to encoded URLs or Date/Time formatting strings.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This cop&#8217;s allowed methods can be customized with <code>AllowedMethods</code>.
By default, there are no allowed methods.</p>
</div>
<div class="paragraph">
<p>It is allowed to contain unannotated token
if the number of them is less than or equals to
<code>MaxUnannotatedPlaceholdersAllowed</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-styleformatstringtoken"><a class="anchor" href="#examples-styleformatstringtoken"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-annotated-_default_-styleformatstringtoken"><a class="anchor" href="#enforcedstyle_-annotated-_default_-styleformatstringtoken"></a>EnforcedStyle: annotated (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
format('%{greeting}', greeting: 'Hello')
format('%s', 'Hello')

# good
format('%&lt;greeting&gt;s', greeting: 'Hello')</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-template-styleformatstringtoken"><a class="anchor" href="#enforcedstyle_-template-styleformatstringtoken"></a>EnforcedStyle: template</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
format('%&lt;greeting&gt;s', greeting: 'Hello')
format('%s', 'Hello')

# good
format('%{greeting}', greeting: 'Hello')</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-unannotated-styleformatstringtoken"><a class="anchor" href="#enforcedstyle_-unannotated-styleformatstringtoken"></a>EnforcedStyle: unannotated</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
format('%&lt;greeting&gt;s', greeting: 'Hello')
format('%{greeting}', greeting: 'Hello')

# good
format('%s', 'Hello')</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="maxunannotatedplaceholdersallowed_-0-styleformatstringtoken"><a class="anchor" href="#maxunannotatedplaceholdersallowed_-0-styleformatstringtoken"></a>MaxUnannotatedPlaceholdersAllowed: 0</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
format('%06d', 10)
format('%s %s.', 'Hello', 'world')

# good
format('%&lt;number&gt;06d', number: 10)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="maxunannotatedplaceholdersallowed_-1-_default_-styleformatstringtoken"><a class="anchor" href="#maxunannotatedplaceholdersallowed_-1-_default_-styleformatstringtoken"></a>MaxUnannotatedPlaceholdersAllowed: 1 (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
format('%s %s.', 'Hello', 'world')

# good
format('%06d', 10)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowedmethods_-__-_default_-styleformatstringtoken"><a class="anchor" href="#allowedmethods_-__-_default_-styleformatstringtoken"></a>AllowedMethods: [] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
redirect('foo/%{bar_id}')</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowedmethods_-_redirect_-styleformatstringtoken"><a class="anchor" href="#allowedmethods_-_redirect_-styleformatstringtoken"></a>AllowedMethods: [redirect]</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
redirect('foo/%{bar_id}')</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowedpatterns_-__-_default_-styleformatstringtoken"><a class="anchor" href="#allowedpatterns_-__-_default_-styleformatstringtoken"></a>AllowedPatterns: [] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
redirect('foo/%{bar_id}')</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowedpatterns_-__redirect__-styleformatstringtoken"><a class="anchor" href="#allowedpatterns_-__redirect__-styleformatstringtoken"></a>AllowedPatterns: ['redirect']</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
redirect('foo/%{bar_id}')</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleformatstringtoken"><a class="anchor" href="#configurable-attributes-styleformatstringtoken"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>annotated</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>annotated</code>, <code>template</code>, <code>unannotated</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MaxUnannotatedPlaceholdersAllowed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedPatterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylefrozenstringliteralcomment"><a class="anchor" href="#stylefrozenstringliteralcomment"></a>Style/FrozenStringLiteralComment</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Required Ruby version: 2.3
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.79</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Helps you transition from mutable string literals
to frozen string literals.
It will add the <code># frozen_string_literal: true</code> magic comment to the top
of files to enable frozen string literals. Frozen string literals may be
default in future Ruby. The comment will be added below a shebang and
encoding comment. The frozen string literal comment is only valid in Ruby 2.3+.</p>
</div>
<div class="paragraph">
<p>Note that the cop will accept files where the comment exists but is set
to <code>false</code> instead of <code>true</code>.</p>
</div>
<div class="paragraph">
<p>To require a blank line after this comment, please see
<code>Layout/EmptyLineAfterMagicComment</code> cop.</p>
</div>
<div class="sect2">
<h3 id="safety-stylefrozenstringliteralcomment"><a class="anchor" href="#safety-stylefrozenstringliteralcomment"></a>Safety</h3>
<div class="paragraph">
<p>This cop&#8217;s autocorrection is unsafe since any strings mutations will
change from being accepted to raising <code>FrozenError</code>, as all strings
will become frozen by default, and will need to be manually refactored.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylefrozenstringliteralcomment"><a class="anchor" href="#examples-stylefrozenstringliteralcomment"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-always-_default_-stylefrozenstringliteralcomment"><a class="anchor" href="#enforcedstyle_-always-_default_-stylefrozenstringliteralcomment"></a>EnforcedStyle: always (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># The `always` style will always add the frozen string literal comment
# to a file, regardless of the Ruby version or if `freeze` or `&lt;&lt;` are
# called on a string literal.
# bad
module Bar
  # ...
end

# good
# frozen_string_literal: true

module Bar
  # ...
end

# good
# frozen_string_literal: false

module Bar
  # ...
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-never-stylefrozenstringliteralcomment"><a class="anchor" href="#enforcedstyle_-never-stylefrozenstringliteralcomment"></a>EnforcedStyle: never</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># The `never` will enforce that the frozen string literal comment does
# not exist in a file.
# bad
# frozen_string_literal: true

module Baz
  # ...
end

# good
module Baz
  # ...
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-always_true-stylefrozenstringliteralcomment"><a class="anchor" href="#enforcedstyle_-always_true-stylefrozenstringliteralcomment"></a>EnforcedStyle: always_true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># The `always_true` style enforces that the frozen string literal
# comment is set to `true`. This is a stricter option than `always`
# and forces projects to use frozen string literals.
# bad
# frozen_string_literal: false

module Baz
  # ...
end

# bad
module Baz
  # ...
end

# good
# frozen_string_literal: true

module Bar
  # ...
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylefrozenstringliteralcomment"><a class="anchor" href="#configurable-attributes-stylefrozenstringliteralcomment"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>always</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>always</code>, <code>always_true</code>, <code>never</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleglobalstdstream"><a class="anchor" href="#styleglobalstdstream"></a>Style/GlobalStdStream</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.89</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the use of <code>$stdout/$stderr/$stdin</code> instead of <code>STDOUT/STDERR/STDIN</code>.
<code>STDOUT/STDERR/STDIN</code> are constants, and while you can actually
reassign (possibly to redirect some stream) constants in Ruby, you&#8217;ll get
an interpreter warning if you do so.</p>
</div>
<div class="sect2">
<h3 id="safety-styleglobalstdstream"><a class="anchor" href="#safety-styleglobalstdstream"></a>Safety</h3>
<div class="paragraph">
<p>Autocorrection is unsafe because <code>STDOUT</code> and <code>$stdout</code> may point to different
objects, for example.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleglobalstdstream"><a class="anchor" href="#examples-styleglobalstdstream"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
STDOUT.puts('hello')

hash = { out: STDOUT, key: value }

def m(out = STDOUT)
  out.puts('hello')
end

# good
$stdout.puts('hello')

hash = { out: $stdout, key: value }

def m(out = $stdout)
  out.puts('hello')
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleglobalstdstream"><a class="anchor" href="#references-styleglobalstdstream"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#global-stdout" class="bare">https://rubystyle.guide#global-stdout</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleglobalvars"><a class="anchor" href="#styleglobalvars"></a>Style/GlobalVars</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for uses of global variables.
It does not report offenses for built-in global variables.
Built-in global variables are allowed by default. Additionally
users can allow additional variables via the AllowedVariables option.</p>
</div>
<div class="paragraph">
<p>Note that backreferences like $1, $2, etc are not global variables.</p>
</div>
<div class="sect2">
<h3 id="examples-styleglobalvars"><a class="anchor" href="#examples-styleglobalvars"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
$foo = 2
bar = $foo + 5

# good
FOO = 2
foo = 2
$stdin.read</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleglobalvars"><a class="anchor" href="#configurable-attributes-styleglobalvars"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedVariables</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-styleglobalvars"><a class="anchor" href="#references-styleglobalvars"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#instance-vars" class="bare">https://rubystyle.guide#instance-vars</a></p>
</li>
<li>
<p><a href="https://www.zenspider.com/ruby/quickref.html" class="bare">https://www.zenspider.com/ruby/quickref.html</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleguardclause"><a class="anchor" href="#styleguardclause"></a>Style/GuardClause</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.31</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Use a guard clause instead of wrapping the code inside a conditional
expression</p>
</div>
<div class="paragraph">
<p>A condition with an <code>elsif</code> or <code>else</code> branch is allowed unless
one of <code>return</code>, <code>break</code>, <code>next</code>, <code>raise</code>, or <code>fail</code> is used
in the body of the conditional expression.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Autocorrect works in most cases except with if-else statements
  that contain logical operators such as <code>foo || raise('exception')</code>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-styleguardclause"><a class="anchor" href="#examples-styleguardclause"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def test
  if something
    work
  end
end

# good
def test
  return unless something

  work
end

# also good
def test
  work if something
end

# bad
if something
  raise 'exception'
else
  ok
end

# good
raise 'exception' if something
ok

# bad
if something
  foo || raise('exception')
else
  ok
end

# good
foo || raise('exception') if something
ok

# bad
define_method(:test) do
  if something
    work
  end
end

# good
define_method(:test) do
  return unless something

  work
end

# also good
define_method(:test) do
  work if something
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowconsecutiveconditionals_-false-_default_-styleguardclause"><a class="anchor" href="#allowconsecutiveconditionals_-false-_default_-styleguardclause"></a>AllowConsecutiveConditionals: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def test
  if foo?
    work
  end

  if bar?  # &lt;- reports an offense
    work
  end
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowconsecutiveconditionals_-true-styleguardclause"><a class="anchor" href="#allowconsecutiveconditionals_-true-styleguardclause"></a>AllowConsecutiveConditionals: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
def test
  if foo?
    work
  end

  if bar?
    work
  end
end

# bad
def test
  if foo?
    work
  end

  do_something

  if bar?  # &lt;- reports an offense
    work
  end
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleguardclause"><a class="anchor" href="#configurable-attributes-styleguardclause"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MinBodyLength</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowConsecutiveConditionals</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-styleguardclause"><a class="anchor" href="#references-styleguardclause"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-nested-conditionals" class="bare">https://rubystyle.guide#no-nested-conditionals</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylehashaslastarrayitem"><a class="anchor" href="#stylehashaslastarrayitem"></a>Style/HashAsLastArrayItem</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.88</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for presence or absence of braces around hash literal as a last
array item depending on configuration.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This cop will ignore arrays where all items are hashes, regardless of
EnforcedStyle.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-stylehashaslastarrayitem"><a class="anchor" href="#examples-stylehashaslastarrayitem"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-braces-_default_-stylehashaslastarrayitem"><a class="anchor" href="#enforcedstyle_-braces-_default_-stylehashaslastarrayitem"></a>EnforcedStyle: braces (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
[1, 2, one: 1, two: 2]

# good
[1, 2, { one: 1, two: 2 }]

# good
[{ one: 1 }, { two: 2 }]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-no_braces-stylehashaslastarrayitem"><a class="anchor" href="#enforcedstyle_-no_braces-stylehashaslastarrayitem"></a>EnforcedStyle: no_braces</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
[1, 2, { one: 1, two: 2 }]

# good
[1, 2, one: 1, two: 2]

# good
[{ one: 1 }, { two: 2 }]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylehashaslastarrayitem"><a class="anchor" href="#configurable-attributes-stylehashaslastarrayitem"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>braces</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>braces</code>, <code>no_braces</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylehashaslastarrayitem"><a class="anchor" href="#references-stylehashaslastarrayitem"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#hash-literal-as-last-array-item" class="bare">https://rubystyle.guide#hash-literal-as-last-array-item</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylehashconversion"><a class="anchor" href="#stylehashconversion"></a>Style/HashConversion</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.55</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks the usage of pre-2.1 <code>Hash[args]</code> method of converting enumerables and
sequences of values to hashes.</p>
</div>
<div class="paragraph">
<p>Correction code from splat argument (<code>Hash[*ary]</code>) is not simply determined. For example,
<code>Hash[*ary]</code> can be replaced with <code>ary.each_slice(2).to_h</code> but it will be complicated.
So, <code>AllowSplatArgument</code> option is true by default to allow splat argument for simple code.</p>
</div>
<div class="sect2">
<h3 id="safety-stylehashconversion"><a class="anchor" href="#safety-stylehashconversion"></a>Safety</h3>
<div class="paragraph">
<p>This cop&#8217;s autocorrection is unsafe because <code>ArgumentError</code> occurs
if the number of elements is odd:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">Hash[[[1, 2], [3]]] #=&gt; {1=&gt;2, 3=&gt;nil}
[[1, 2], [5]].to_h  #=&gt; wrong array length at 1 (expected 2, was 1) (ArgumentError)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylehashconversion"><a class="anchor" href="#examples-stylehashconversion"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
Hash[ary]

# good
ary.to_h

# bad
Hash[key1, value1, key2, value2]

# good
{key1 =&gt; value1, key2 =&gt; value2}</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowsplatargument_-true-_default_-stylehashconversion"><a class="anchor" href="#allowsplatargument_-true-_default_-stylehashconversion"></a>AllowSplatArgument: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
Hash[*ary]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowsplatargument_-false-stylehashconversion"><a class="anchor" href="#allowsplatargument_-false-stylehashconversion"></a>AllowSplatArgument: false</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
Hash[*ary]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylehashconversion"><a class="anchor" href="#configurable-attributes-stylehashconversion"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowSplatArgument</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylehashconversion"><a class="anchor" href="#references-stylehashconversion"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#avoid-hash-constructor" class="bare">https://rubystyle.guide#avoid-hash-constructor</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylehasheachmethods"><a class="anchor" href="#stylehasheachmethods"></a>Style/HashEachMethods</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.80</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.16</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of <code>each_key</code> and <code>each_value</code> Hash methods.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you have an array of two-element arrays, you can put
  parentheses around the block arguments to indicate that you&#8217;re not
  working with a hash, and suppress RuboCop offenses.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="safety-stylehasheachmethods"><a class="anchor" href="#safety-stylehasheachmethods"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because it cannot be guaranteed that the receiver
is a <code>Hash</code>. The <code>AllowedReceivers</code> configuration can mitigate,
but not fully resolve, this safety issue.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylehasheachmethods"><a class="anchor" href="#examples-stylehasheachmethods"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
hash.keys.each { |k| p k }
hash.each { |k, unused_value| p k }

# good
hash.each_key { |k| p k }

# bad
hash.values.each { |v| p v }
hash.each { |unused_key, v| p v }

# good
hash.each_value { |v| p v }</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowedreceivers_-__execute__-stylehasheachmethods"><a class="anchor" href="#allowedreceivers_-__execute__-stylehasheachmethods"></a>AllowedReceivers: ['execute']</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
execute(sql).keys.each { |v| p v }
execute(sql).values.each { |v| p v }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylehasheachmethods"><a class="anchor" href="#configurable-attributes-stylehasheachmethods"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedReceivers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Thread.current</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylehasheachmethods"><a class="anchor" href="#references-stylehasheachmethods"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#hash-each" class="bare">https://rubystyle.guide#hash-each</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylehashexcept"><a class="anchor" href="#stylehashexcept"></a>Style/HashExcept</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Required Ruby version: 3.0
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.39</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for usages of <code>Hash#reject</code>, <code>Hash#select</code>, and <code>Hash#filter</code> methods
that can be replaced with <code>Hash#except</code> method.</p>
</div>
<div class="paragraph">
<p>This cop should only be enabled on Ruby version 3.0 or higher.
(<code>Hash#except</code> was added in Ruby 3.0.)</p>
</div>
<div class="paragraph">
<p>For safe detection, it is limited to commonly used string and symbol comparisons
when used <code>==</code>.
And do not check <code>Hash#delete_if</code> and <code>Hash#keep_if</code> to change receiver object.</p>
</div>
<div class="sect2">
<h3 id="safety-stylehashexcept"><a class="anchor" href="#safety-stylehashexcept"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because it cannot be guaranteed that the receiver
is a <code>Hash</code> or responds to the replacement method.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylehashexcept"><a class="anchor" href="#examples-stylehashexcept"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
{foo: 1, bar: 2, baz: 3}.reject {|k, v| k == :bar }
{foo: 1, bar: 2, baz: 3}.select {|k, v| k != :bar }
{foo: 1, bar: 2, baz: 3}.filter {|k, v| k != :bar }
{foo: 1, bar: 2, baz: 3}.reject {|k, v| %i[bar].include?(k) }
{foo: 1, bar: 2, baz: 3}.select {|k, v| !%i[bar].include?(k) }
{foo: 1, bar: 2, baz: 3}.filter {|k, v| !%i[bar].include?(k) }

# good
{foo: 1, bar: 2, baz: 3}.except(:bar)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylehashlikecase"><a class="anchor" href="#stylehashlikecase"></a>Style/HashLikeCase</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.88</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for places where <code>case-when</code> represents a simple 1:1
mapping and can be replaced with a hash lookup.</p>
</div>
<div class="sect2">
<h3 id="examples-stylehashlikecase"><a class="anchor" href="#examples-stylehashlikecase"></a>Examples</h3>
<div class="sect3">
<h4 id="minbranchescount_-3-_default_-stylehashlikecase"><a class="anchor" href="#minbranchescount_-3-_default_-stylehashlikecase"></a>MinBranchesCount: 3 (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
case country
when 'europe'
  'http://eu.example.com'
when 'america'
  'http://us.example.com'
when 'australia'
  'http://au.example.com'
end

# good
SITES = {
  'europe'    =&gt; 'http://eu.example.com',
  'america'   =&gt; 'http://us.example.com',
  'australia' =&gt; 'http://au.example.com'
}
SITES[country]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="minbranchescount_-4-stylehashlikecase"><a class="anchor" href="#minbranchescount_-4-stylehashlikecase"></a>MinBranchesCount: 4</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
case country
when 'europe'
  'http://eu.example.com'
when 'america'
  'http://us.example.com'
when 'australia'
  'http://au.example.com'
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylehashlikecase"><a class="anchor" href="#configurable-attributes-stylehashlikecase"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MinBranchesCount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylehashsyntax"><a class="anchor" href="#stylehashsyntax"></a>Style/HashSyntax</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.67</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks hash literal syntax.</p>
</div>
<div class="paragraph">
<p>It can enforce either the use of the class hash rocket syntax or
the use of the newer Ruby 1.9 syntax (when applicable).</p>
</div>
<div class="paragraph">
<p>A separate offense is registered for each problematic pair.</p>
</div>
<div class="paragraph">
<p>The supported styles are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ruby19 - forces use of the 1.9 syntax (e.g. <code>{a: 1}</code>) when hashes have
all symbols for keys</p>
</li>
<li>
<p>hash_rockets - forces use of hash rockets for all hashes</p>
</li>
<li>
<p>no_mixed_keys - simply checks for hashes with mixed syntaxes</p>
</li>
<li>
<p>ruby19_no_mixed_keys - forces use of ruby 1.9 syntax and forbids mixed
syntax hashes</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This cop has <code>EnforcedShorthandSyntax</code> option.
It can enforce either the use of the explicit hash value syntax or
the use of Ruby 3.1&#8217;s hash value shorthand syntax.</p>
</div>
<div class="paragraph">
<p>The supported styles are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>always - forces use of the 3.1 syntax (e.g. {foo:})</p>
</li>
<li>
<p>never - forces use of explicit hash literal value</p>
</li>
<li>
<p>either - accepts both shorthand and explicit use of hash literal value</p>
</li>
<li>
<p>consistent - forces use of the 3.1 syntax only if all values can be omitted in the hash</p>
</li>
<li>
<p>either_consistent - accepts both shorthand and explicit use of hash literal value,
but they must be consistent</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="examples-stylehashsyntax"><a class="anchor" href="#examples-stylehashsyntax"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-ruby19-_default_-stylehashsyntax"><a class="anchor" href="#enforcedstyle_-ruby19-_default_-stylehashsyntax"></a>EnforcedStyle: ruby19 (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
{:a =&gt; 2}
{b: 1, :c =&gt; 2}

# good
{a: 2, b: 1}
{:c =&gt; 2, 'd' =&gt; 2} # acceptable since 'd' isn't a symbol
{d: 1, 'e' =&gt; 2} # technically not forbidden</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-hash_rockets-stylehashsyntax"><a class="anchor" href="#enforcedstyle_-hash_rockets-stylehashsyntax"></a>EnforcedStyle: hash_rockets</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
{a: 1, b: 2}
{c: 1, 'd' =&gt; 5}

# good
{:a =&gt; 1, :b =&gt; 2}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-no_mixed_keys-stylehashsyntax"><a class="anchor" href="#enforcedstyle_-no_mixed_keys-stylehashsyntax"></a>EnforcedStyle: no_mixed_keys</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
{:a =&gt; 1, b: 2}
{c: 1, 'd' =&gt; 2}

# good
{:a =&gt; 1, :b =&gt; 2}
{c: 1, d: 2}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-ruby19_no_mixed_keys-stylehashsyntax"><a class="anchor" href="#enforcedstyle_-ruby19_no_mixed_keys-stylehashsyntax"></a>EnforcedStyle: ruby19_no_mixed_keys</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
{:a =&gt; 1, :b =&gt; 2}
{c: 2, 'd' =&gt; 3} # should just use hash rockets

# good
{a: 1, b: 2}
{:c =&gt; 3, 'd' =&gt; 4}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedshorthandsyntax_-always-stylehashsyntax"><a class="anchor" href="#enforcedshorthandsyntax_-always-stylehashsyntax"></a>EnforcedShorthandSyntax: always</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
{foo: foo, bar: bar}

# good
{foo:, bar:}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedshorthandsyntax_-never-stylehashsyntax"><a class="anchor" href="#enforcedshorthandsyntax_-never-stylehashsyntax"></a>EnforcedShorthandSyntax: never</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
{foo:, bar:}

# good
{foo: foo, bar: bar}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedshorthandsyntax_-either-_default_-stylehashsyntax"><a class="anchor" href="#enforcedshorthandsyntax_-either-_default_-stylehashsyntax"></a>EnforcedShorthandSyntax: either (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
{foo: foo, bar: bar}

# good
{foo: foo, bar:}

# good
{foo:, bar:}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedshorthandsyntax_-consistent-stylehashsyntax"><a class="anchor" href="#enforcedshorthandsyntax_-consistent-stylehashsyntax"></a>EnforcedShorthandSyntax: consistent</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad - `foo` and `bar` values can be omitted
{foo: foo, bar: bar}

# bad - `bar` value can be omitted
{foo:, bar: bar}

# bad - mixed syntaxes
{foo:, bar: baz}

# good
{foo:, bar:}

# good - can't omit `baz`
{foo: foo, bar: baz}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedshorthandsyntax_-either_consistent-stylehashsyntax"><a class="anchor" href="#enforcedshorthandsyntax_-either_consistent-stylehashsyntax"></a>EnforcedShorthandSyntax: either_consistent</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good - `foo` and `bar` values can be omitted, but they are consistent, so it's accepted
{foo: foo, bar: bar}

# bad - `bar` value can be omitted
{foo:, bar: bar}

# bad - mixed syntaxes
{foo:, bar: baz}

# good
{foo:, bar:}

# good - can't omit `baz`
{foo: foo, bar: baz}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylehashsyntax"><a class="anchor" href="#configurable-attributes-stylehashsyntax"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ruby19</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ruby19</code>, <code>hash_rockets</code>, <code>no_mixed_keys</code>, <code>ruby19_no_mixed_keys</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedShorthandSyntax</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>either</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>always</code>, <code>never</code>, <code>either</code>, <code>consistent</code>, <code>either_consistent</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UseHashRocketsWithSymbolValues</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PreferHashRocketsForNonAlnumEndingSymbols</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylehashsyntax"><a class="anchor" href="#references-stylehashsyntax"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#hash-literals" class="bare">https://rubystyle.guide#hash-literals</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylehashtransformkeys"><a class="anchor" href="#stylehashtransformkeys"></a>Style/HashTransformKeys</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Required Ruby version: 2.5
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.80</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.90</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for uses of <code>_.each_with_object({}) {&#8230;&#8203;}</code>,
<code>\_.map {&#8230;&#8203;}.to_h</code>, and <code>Hash[\_.map {&#8230;&#8203;}]</code> that are actually just
transforming the keys of a hash, and tries to use a simpler &amp; faster
call to <code>transform_keys</code> instead.
It should only be enabled on Ruby version 2.5 or newer.
(<code>transform_keys</code> was added in Ruby 2.5.)</p>
</div>
<div class="sect2">
<h3 id="safety-stylehashtransformkeys"><a class="anchor" href="#safety-stylehashtransformkeys"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe, as it can produce false positives if we are
transforming an enumerable of key-value-like pairs that isn&#8217;t actually
a hash, e.g.: <code>[[k1, v1], [k2, v2], &#8230;&#8203;]</code></p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylehashtransformkeys"><a class="anchor" href="#examples-stylehashtransformkeys"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
{a: 1, b: 2}.each_with_object({}) { |(k, v), h| h[foo(k)] = v }
Hash[{a: 1, b: 2}.collect { |k, v| [foo(k), v] }]
{a: 1, b: 2}.map { |k, v| [k.to_s, v] }.to_h
{a: 1, b: 2}.to_h { |k, v| [k.to_s, v] }

# good
{a: 1, b: 2}.transform_keys { |k| foo(k) }
{a: 1, b: 2}.transform_keys { |k| k.to_s }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylehashtransformvalues"><a class="anchor" href="#stylehashtransformvalues"></a>Style/HashTransformValues</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Required Ruby version: 2.4
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.80</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.90</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for uses of <code>_.each_with_object({}) {&#8230;&#8203;}</code>,
<code>\_.map {&#8230;&#8203;}.to_h</code>, and <code>Hash[\_.map {&#8230;&#8203;}]</code> that are actually just
transforming the values of a hash, and tries to use a simpler &amp; faster
call to <code>transform_values</code> instead.</p>
</div>
<div class="sect2">
<h3 id="safety-stylehashtransformvalues"><a class="anchor" href="#safety-stylehashtransformvalues"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe, as it can produce false positives if we are
transforming an enumerable of key-value-like pairs that isn&#8217;t actually
a hash, e.g.: <code>[[k1, v1], [k2, v2], &#8230;&#8203;]</code></p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylehashtransformvalues"><a class="anchor" href="#examples-stylehashtransformvalues"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
{a: 1, b: 2}.each_with_object({}) { |(k, v), h| h[k] = foo(v) }
Hash[{a: 1, b: 2}.collect { |k, v| [k, foo(v)] }]
{a: 1, b: 2}.map { |k, v| [k, v * v] }.to_h
{a: 1, b: 2}.to_h { |k, v| [k, v * v] }

# good
{a: 1, b: 2}.transform_values { |v| foo(v) }
{a: 1, b: 2}.transform_values { |v| v * v }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleidenticalconditionalbranches"><a class="anchor" href="#styleidenticalconditionalbranches"></a>Style/IdenticalConditionalBranches</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.19</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for identical expressions at the beginning or end of
each branch of a conditional expression. Such expressions should normally
be placed outside the conditional expression - before or after it.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The cop is poorly named and some people might think that it actually
checks for duplicated conditional branches. The name will probably be changed
in a future major RuboCop release.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="safety-styleidenticalconditionalbranches"><a class="anchor" href="#safety-styleidenticalconditionalbranches"></a>Safety</h3>
<div class="paragraph">
<p>Autocorrection is unsafe because changing the order of method invocations
may change the behavior of the code. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">if method_that_modifies_global_state # 1
  method_that_relies_on_global_state # 2
  foo                                # 3
else
  method_that_relies_on_global_state # 2
  bar                                # 3
end</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example, <code>method_that_relies_on_global_state</code> will be moved before
<code>method_that_modifies_global_state</code>, which changes the behavior of the program.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleidenticalconditionalbranches"><a class="anchor" href="#examples-styleidenticalconditionalbranches"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if condition
  do_x
  do_z
else
  do_y
  do_z
end

# good
if condition
  do_x
else
  do_y
end
do_z

# bad
if condition
  do_z
  do_x
else
  do_z
  do_y
end

# good
do_z
if condition
  do_x
else
  do_y
end

# bad
case foo
when 1
  do_x
when 2
  do_x
else
  do_x
end

# good
case foo
when 1
  do_x
  do_y
when 2
  # nothing
else
  do_x
  do_z
end

# bad
case foo
in 1
  do_x
in 2
  do_x
else
  do_x
end

# good
case foo
in 1
  do_x
  do_y
in 2
  # nothing
else
  do_x
  do_z
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleifinsideelse"><a class="anchor" href="#styleifinsideelse"></a>Style/IfInsideElse</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If the <code>else</code> branch of a conditional consists solely of an <code>if</code> node,
it can be combined with the <code>else</code> to become an <code>elsif</code>.
This helps to keep the nesting level from getting too deep.</p>
</div>
<div class="sect2">
<h3 id="examples-styleifinsideelse"><a class="anchor" href="#examples-styleifinsideelse"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if condition_a
  action_a
else
  if condition_b
    action_b
  else
    action_c
  end
end

# good
if condition_a
  action_a
elsif condition_b
  action_b
else
  action_c
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowifmodifier_-false-_default_-styleifinsideelse"><a class="anchor" href="#allowifmodifier_-false-_default_-styleifinsideelse"></a>AllowIfModifier: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if condition_a
  action_a
else
  action_b if condition_b
end

# good
if condition_a
  action_a
elsif condition_b
  action_b
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowifmodifier_-true-styleifinsideelse"><a class="anchor" href="#allowifmodifier_-true-styleifinsideelse"></a>AllowIfModifier: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
if condition_a
  action_a
else
  action_b if condition_b
end

# good
if condition_a
  action_a
elsif condition_b
  action_b
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleifinsideelse"><a class="anchor" href="#configurable-attributes-styleifinsideelse"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowIfModifier</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleifunlessmodifier"><a class="anchor" href="#styleifunlessmodifier"></a>Style/IfUnlessModifier</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.30</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for <code>if</code> and <code>unless</code> statements that would fit on one line if
written as modifier <code>if</code>/<code>unless</code>. The cop also checks for modifier
<code>if</code>/<code>unless</code> lines that exceed the maximum line length.</p>
</div>
<div class="paragraph">
<p>The maximum line length is configured in the <code>Layout/LineLength</code>
cop. The tab size is configured in the <code>IndentationWidth</code> of the
<code>Layout/IndentationStyle</code> cop.</p>
</div>
<div class="paragraph">
<p>One-line pattern matching is always allowed. To ensure that there are few cases
where the match variable is not used, and to prevent oversights. The variable <code>x</code>
becomes undefined and raises <code>NameError</code> when the following example is changed to
the modifier form:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">if [42] in [x]
  x # `x` is undefined when using modifier form.
end</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
It is allowed when <code>defined?</code> argument has an undefined value,
because using the modifier form causes the following incompatibility:
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">unless defined?(undefined_foo)
  undefined_foo = 'default_value'
end
undefined_foo # =&gt; 'default_value'

undefined_bar = 'default_value' unless defined?(undefined_bar)
undefined_bar # =&gt; nil</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleifunlessmodifier"><a class="anchor" href="#examples-styleifunlessmodifier"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if condition
  do_stuff(bar)
end

unless qux.empty?
  Foo.do_something
end

do_something_with_a_long_name(arg) if long_condition_that_prevents_code_fit_on_single_line

# good
do_stuff(bar) if condition
Foo.do_something unless qux.empty?

if long_condition_that_prevents_code_fit_on_single_line
  do_something_with_a_long_name(arg)
end

if short_condition # a long comment that makes it too long if it were just a single line
  do_something
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleifunlessmodifier"><a class="anchor" href="#references-styleifunlessmodifier"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#if-as-a-modifier" class="bare">https://rubystyle.guide#if-as-a-modifier</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleifunlessmodifierofifunless"><a class="anchor" href="#styleifunlessmodifierofifunless"></a>Style/IfUnlessModifierOfIfUnless</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.39</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.87</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for if and unless statements used as modifiers of other if or
unless statements.</p>
</div>
<div class="sect2">
<h3 id="examples-styleifunlessmodifierofifunless"><a class="anchor" href="#examples-styleifunlessmodifierofifunless"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
tired? ? 'stop' : 'go faster' if running?

# bad
if tired?
  "please stop"
else
  "keep going"
end if running?

# good
if running?
  tired? ? 'stop' : 'go faster'
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleifwithbooleanliteralbranches"><a class="anchor" href="#styleifwithbooleanliteralbranches"></a>Style/IfWithBooleanLiteralBranches</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant <code>if</code> with boolean literal branches.
It checks only conditions to return boolean value (<code>true</code> or <code>false</code>) for safe detection.
The conditions to be checked are comparison methods, predicate methods, and
double negation (!!).
<code>nonzero?</code> method is allowed by default.
These are customizable with <code>AllowedMethods</code> option.</p>
</div>
<div class="paragraph">
<p>This cop targets only <code>if`s with a single `elsif</code> or <code>else</code> branch. The following
code will be allowed, because it has two <code>elsif</code> branches:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">if foo
  true
elsif bar &gt; baz
  true
elsif qux &gt; quux # Single `elsif` is warned, but two or more `elsif`s are not.
  true
else
  false
end</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="safety-styleifwithbooleanliteralbranches"><a class="anchor" href="#safety-styleifwithbooleanliteralbranches"></a>Safety</h3>
<div class="paragraph">
<p>Autocorrection is unsafe because there is no guarantee that all predicate methods
will return a boolean value. Those methods can be allowed with <code>AllowedMethods</code> config.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleifwithbooleanliteralbranches"><a class="anchor" href="#examples-styleifwithbooleanliteralbranches"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if foo == bar
  true
else
  false
end

# bad
foo == bar ? true : false

# good
foo == bar

# bad
if foo.do_something?
  true
else
  false
end

# good (but potentially an unsafe correction)
foo.do_something?</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowedmethods_-__nonzero___-_default_-styleifwithbooleanliteralbranches"><a class="anchor" href="#allowedmethods_-__nonzero___-_default_-styleifwithbooleanliteralbranches"></a>AllowedMethods: ['nonzero?'] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
num.nonzero? ? true : false</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleifwithbooleanliteralbranches"><a class="anchor" href="#configurable-attributes-styleifwithbooleanliteralbranches"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nonzero?</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleifwithsemicolon"><a class="anchor" href="#styleifwithsemicolon"></a>Style/IfWithSemicolon</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.83</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of semicolon in if statements.</p>
</div>
<div class="sect2">
<h3 id="examples-styleifwithsemicolon"><a class="anchor" href="#examples-styleifwithsemicolon"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
result = if some_condition; something else another_thing end

# good
result = some_condition ? something : another_thing</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleifwithsemicolon"><a class="anchor" href="#references-styleifwithsemicolon"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-semicolon-ifs" class="bare">https://rubystyle.guide#no-semicolon-ifs</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleimplicitruntimeerror"><a class="anchor" href="#styleimplicitruntimeerror"></a>Style/ImplicitRuntimeError</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.41</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for <code>raise</code> or <code>fail</code> statements which do not specify an
explicit exception class. (This raises a <code>RuntimeError</code>. Some projects
might prefer to use exception classes which more precisely identify the
nature of the error.)</p>
</div>
<div class="sect2">
<h3 id="examples-styleimplicitruntimeerror"><a class="anchor" href="#examples-styleimplicitruntimeerror"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
raise 'Error message here'

# good
raise ArgumentError, 'Error message here'</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleinpatternthen"><a class="anchor" href="#styleinpatternthen"></a>Style/InPatternThen</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Required Ruby version: 2.7
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for <code>in;</code> uses in <code>case</code> expressions.</p>
</div>
<div class="sect2">
<h3 id="examples-styleinpatternthen"><a class="anchor" href="#examples-styleinpatternthen"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
case expression
in pattern_a; foo
in pattern_b; bar
end

# good
case expression
in pattern_a then foo
in pattern_b then bar
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleinpatternthen"><a class="anchor" href="#references-styleinpatternthen"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-in-pattern-semicolons" class="bare">https://rubystyle.guide#no-in-pattern-semicolons</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleinfiniteloop"><a class="anchor" href="#styleinfiniteloop"></a>Style/InfiniteLoop</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.26</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.61</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Use <code>Kernel#loop</code> for infinite loops.</p>
</div>
<div class="sect2">
<h3 id="safety-styleinfiniteloop"><a class="anchor" href="#safety-styleinfiniteloop"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe as the rule should not necessarily apply if the loop
body might raise a <code>StopIteration</code> exception; contrary to other infinite
loops, <code>Kernel#loop</code> silently rescues that and returns <code>nil</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleinfiniteloop"><a class="anchor" href="#examples-styleinfiniteloop"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
while true
  work
end

# good
loop do
  work
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleinfiniteloop"><a class="anchor" href="#references-styleinfiniteloop"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#infinite-loop" class="bare">https://rubystyle.guide#infinite-loop</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleinlinecomment"><a class="anchor" href="#styleinlinecomment"></a>Style/InlineComment</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.23</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for trailing inline comments.</p>
</div>
<div class="sect2">
<h3 id="examples-styleinlinecomment"><a class="anchor" href="#examples-styleinlinecomment"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
foo.each do |f|
  # Standalone comment
  f.bar
end

# bad
foo.each do |f|
  f.bar # Trailing inline comment
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleinversemethods"><a class="anchor" href="#styleinversemethods"></a>Style/InverseMethods</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.48</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Check for usages of not (<code>not</code> or <code>!</code>) called on a method
when an inverse of that method can be used instead.</p>
</div>
<div class="paragraph">
<p>Methods that can be inverted by a not (<code>not</code> or <code>!</code>) should be defined
in <code>InverseMethods</code>.</p>
</div>
<div class="paragraph">
<p>Methods that are inverted by inverting the return
of the block that is passed to the method should be defined in
<code>InverseBlocks</code>.</p>
</div>
<div class="sect2">
<h3 id="safety-styleinversemethods"><a class="anchor" href="#safety-styleinversemethods"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because it cannot be guaranteed that the method
and its inverse method are both defined on receiver, and also are
actually inverse of each other.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleinversemethods"><a class="anchor" href="#examples-styleinversemethods"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
!foo.none?
!foo.any? { |f| f.even? }
!foo.blank?
!(foo == bar)
foo.select { |f| !f.even? }
foo.reject { |f| f != 7 }

# good
foo.none?
foo.blank?
foo.any? { |f| f.even? }
foo != bar
foo == bar
!!('foo' =~ /^\w+$/)
!(foo.class &lt; Numeric) # Checking class hierarchy is allowed
# Blocks with guard clauses are ignored:
foo.select do |f|
  next if f.zero?
  f != 1
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleinversemethods"><a class="anchor" href="#configurable-attributes-styleinversemethods"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InverseMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{:any?&#8658;:none?, :even?&#8658;:odd?, :==&#8658;:!=, :=<sub>&#8658;:!</sub>, :&lt;&#8658;:&gt;=, :&gt;&#8658;:&#8656;}</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InverseBlocks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{:select&#8658;:reject, :select!&#8658;:reject!}</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleinvertibleunlesscondition"><a class="anchor" href="#styleinvertibleunlesscondition"></a>Style/InvertibleUnlessCondition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.44</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.50</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for usages of <code>unless</code> which can be replaced by <code>if</code> with inverted condition.
Code without <code>unless</code> is easier to read, but that is subjective, so this cop
is disabled by default.</p>
</div>
<div class="paragraph">
<p>Methods that can be inverted should be defined in <code>InverseMethods</code>. Note that
the relationship of inverse methods needs to be defined in both directions.
For example,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">InverseMethods:
  :!=: :==
  :even?: :odd?
  :odd?: :even?</code></pre>
</div>
</div>
<div class="paragraph">
<p>will suggest both <code>even?</code> and <code>odd?</code> to be inverted, but only <code>!=</code> (and not <code>==</code>).</p>
</div>
<div class="sect2">
<h3 id="safety-styleinvertibleunlesscondition"><a class="anchor" href="#safety-styleinvertibleunlesscondition"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because it cannot be guaranteed that the method
and its inverse method are both defined on receiver, and also are
actually inverse of each other.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleinvertibleunlesscondition"><a class="anchor" href="#examples-styleinvertibleunlesscondition"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad (simple condition)
foo unless !bar
foo unless x != y
foo unless x &gt;= 10
foo unless x.even?
foo unless odd?

# good
foo if bar
foo if x == y
foo if x &lt; 10
foo if x.odd?
foo if even?

# bad (complex condition)
foo unless x != y || x.even?

# good
foo if x == y &amp;&amp; x.odd?

# good (if)
foo if !condition</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleinvertibleunlesscondition"><a class="anchor" href="#configurable-attributes-styleinvertibleunlesscondition"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">InverseMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{:!=&#8658;:==, :&gt;&#8658;:&#8656;, :&#8656;&#8658;:&gt;, :&lt;&#8658;:&gt;=, :&gt;=&#8658;:&lt;, :!<sub>&#8658;:=</sub>, :zero?&#8658;:nonzero?, :nonzero?&#8658;:zero?, :any?&#8658;:none?, :none?&#8658;:any?, :even?&#8658;:odd?, :odd?&#8658;:even?}</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleipaddresses"><a class="anchor" href="#styleipaddresses"></a>Style/IpAddresses</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.58</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.91</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for hardcoded IP addresses, which can make code
brittle. IP addresses are likely to need to be changed when code
is deployed to a different server or environment, which may break
a deployment if forgotten. Prefer setting IP addresses in ENV or
other configuration.</p>
</div>
<div class="sect2">
<h3 id="examples-styleipaddresses"><a class="anchor" href="#examples-styleipaddresses"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
ip_address = '127.59.241.29'

# good
ip_address = ENV['DEPLOYMENT_IP_ADDRESS']</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleipaddresses"><a class="anchor" href="#configurable-attributes-styleipaddresses"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedAddresses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>::</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exclude</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>**/*.gemfile</code>, <code>**/Gemfile</code>, <code>**/gems.rb</code>, <code>**/*.gemspec</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylekeywordparametersorder"><a class="anchor" href="#stylekeywordparametersorder"></a>Style/KeywordParametersOrder</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.90</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.7</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces that optional keyword parameters are placed at the
end of the parameters list.</p>
</div>
<div class="paragraph">
<p>This improves readability, because when looking through the source,
it is expected to find required parameters at the beginning of parameters list
and optional parameters at the end.</p>
</div>
<div class="sect2">
<h3 id="examples-stylekeywordparametersorder"><a class="anchor" href="#examples-stylekeywordparametersorder"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def some_method(first: false, second:, third: 10)
  # body omitted
end

# good
def some_method(second:, first: false, third: 10)
  # body omitted
end

# bad
do_something do |first: false, second:, third: 10|
  # body omitted
end

# good
do_something do |second:, first: false, third: 10|
  # body omitted
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylekeywordparametersorder"><a class="anchor" href="#references-stylekeywordparametersorder"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#keyword-parameters-order" class="bare">https://rubystyle.guide#keyword-parameters-order</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylelambda"><a class="anchor" href="#stylelambda"></a>Style/Lambda</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.40</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>(by default) checks for uses of the lambda literal syntax for
single line lambdas, and the method call syntax for multiline lambdas.
It is configurable to enforce one of the styles for both single line
and multiline lambdas as well.</p>
</div>
<div class="sect2">
<h3 id="examples-stylelambda"><a class="anchor" href="#examples-stylelambda"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-line_count_dependent-_default_-stylelambda"><a class="anchor" href="#enforcedstyle_-line_count_dependent-_default_-stylelambda"></a>EnforcedStyle: line_count_dependent (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
f = lambda { |x| x }
f = -&gt;(x) do
      x
    end

# good
f = -&gt;(x) { x }
f = lambda do |x|
      x
    end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-lambda-stylelambda"><a class="anchor" href="#enforcedstyle_-lambda-stylelambda"></a>EnforcedStyle: lambda</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
f = -&gt;(x) { x }
f = -&gt;(x) do
      x
    end

# good
f = lambda { |x| x }
f = lambda do |x|
      x
    end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-literal-stylelambda"><a class="anchor" href="#enforcedstyle_-literal-stylelambda"></a>EnforcedStyle: literal</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
f = lambda { |x| x }
f = lambda do |x|
      x
    end

# good
f = -&gt;(x) { x }
f = -&gt;(x) do
      x
    end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylelambda"><a class="anchor" href="#configurable-attributes-stylelambda"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>line_count_dependent</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>line_count_dependent</code>, <code>lambda</code>, <code>literal</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylelambda"><a class="anchor" href="#references-stylelambda"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#lambda-multi-line" class="bare">https://rubystyle.guide#lambda-multi-line</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylelambdacall"><a class="anchor" href="#stylelambdacall"></a>Style/LambdaCall</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.14</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for use of the lambda.(args) syntax.</p>
</div>
<div class="sect2">
<h3 id="examples-stylelambdacall"><a class="anchor" href="#examples-stylelambdacall"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-call-_default_-stylelambdacall"><a class="anchor" href="#enforcedstyle_-call-_default_-stylelambdacall"></a>EnforcedStyle: call (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
lambda.(x, y)

# good
lambda.call(x, y)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-braces-stylelambdacall"><a class="anchor" href="#enforcedstyle_-braces-stylelambdacall"></a>EnforcedStyle: braces</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
lambda.call(x, y)

# good
lambda.(x, y)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylelambdacall"><a class="anchor" href="#configurable-attributes-stylelambdacall"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>call</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>call</code>, <code>braces</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylelambdacall"><a class="anchor" href="#references-stylelambdacall"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#proc-call" class="bare">https://rubystyle.guide#proc-call</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylelineendconcatenation"><a class="anchor" href="#stylelineendconcatenation"></a>Style/LineEndConcatenation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.64</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for string literal concatenation at
the end of a line.</p>
</div>
<div class="sect2">
<h3 id="safety-stylelineendconcatenation"><a class="anchor" href="#safety-stylelineendconcatenation"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because it cannot be guaranteed that the
receiver is a string, in which case replacing <code>&lt;&lt;</code> with <code>\</code>
would result in a syntax error.</p>
</div>
<div class="paragraph">
<p>For example, this would be a false positive:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">array &lt;&lt; 'foo' &lt;&lt;
         'bar' &lt;&lt;
         'baz'</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylelineendconcatenation"><a class="anchor" href="#examples-stylelineendconcatenation"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
some_str = 'ala' +
           'bala'

some_str = 'ala' &lt;&lt;
           'bala'

# good
some_str = 'ala' \
           'bala'</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylemagiccommentformat"><a class="anchor" href="#stylemagiccommentformat"></a>Style/MagicCommentFormat</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.35</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Ensures magic comments are written consistently throughout your code base.
Looks for discrepancies in separators (<code>-</code> vs <code>_</code>) and capitalization for
both magic comment directives and values.</p>
</div>
<div class="paragraph">
<p>Required capitalization can be set with the <code>DirectiveCapitalization</code> and
<code>ValueCapitalization</code> configuration keys.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If one of these configuration is set to nil, any capitalization is allowed.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-stylemagiccommentformat"><a class="anchor" href="#examples-stylemagiccommentformat"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-snake_case-_default_-stylemagiccommentformat"><a class="anchor" href="#enforcedstyle_-snake_case-_default_-stylemagiccommentformat"></a>EnforcedStyle: snake_case (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># The `snake_case` style will enforce that the frozen string literal
# comment is written in snake case. (Words separated by underscores)
# bad
# frozen-string-literal: true

module Bar
  # ...
end

# good
# frozen_string_literal: false

module Bar
  # ...
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-kebab_case-stylemagiccommentformat"><a class="anchor" href="#enforcedstyle_-kebab_case-stylemagiccommentformat"></a>EnforcedStyle: kebab_case</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># The `kebab_case` style will enforce that the frozen string literal
# comment is written in kebab case. (Words separated by hyphens)
# bad
# frozen_string_literal: true

module Baz
  # ...
end

# good
# frozen-string-literal: true

module Baz
  # ...
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="directivecapitalization_-lowercase-_default_-stylemagiccommentformat"><a class="anchor" href="#directivecapitalization_-lowercase-_default_-stylemagiccommentformat"></a>DirectiveCapitalization: lowercase (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
# FROZEN-STRING-LITERAL: true

# good
# frozen-string-literal: true</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="directivecapitalization_-uppercase-stylemagiccommentformat"><a class="anchor" href="#directivecapitalization_-uppercase-stylemagiccommentformat"></a>DirectiveCapitalization: uppercase</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
# frozen-string-literal: true

# good
# FROZEN-STRING-LITERAL: true</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="directivecapitalization_-nil-stylemagiccommentformat"><a class="anchor" href="#directivecapitalization_-nil-stylemagiccommentformat"></a>DirectiveCapitalization: nil</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># any capitalization is accepted

# good
# frozen-string-literal: true

# good
# FROZEN-STRING-LITERAL: true</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="valuecapitalization_-nil-_default_-stylemagiccommentformat"><a class="anchor" href="#valuecapitalization_-nil-_default_-stylemagiccommentformat"></a>ValueCapitalization: nil (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># any capitalization is accepted

# good
# frozen-string-literal: true

# good
# frozen-string-literal: TRUE</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="valuecapitalization_-lowercase-stylemagiccommentformat"><a class="anchor" href="#valuecapitalization_-lowercase-stylemagiccommentformat"></a>ValueCapitalization: lowercase</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># when a value is not given, any capitalization is accepted

# bad
# frozen-string-literal: TRUE

# good
# frozen-string-literal: TRUE</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="valuecapitalization_-uppercase-stylemagiccommentformat"><a class="anchor" href="#valuecapitalization_-uppercase-stylemagiccommentformat"></a>ValueCapitalization: uppercase</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
# frozen-string-literal: true

# good
# frozen-string-literal: TRUE</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylemagiccommentformat"><a class="anchor" href="#configurable-attributes-stylemagiccommentformat"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>snake_case</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>snake_case</code>, <code>kebab_case</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DirectiveCapitalization</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lowercase</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ValueCapitalization</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;none&gt;</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylemapcompactwithconditionalblock"><a class="anchor" href="#stylemapcompactwithconditionalblock"></a>Style/MapCompactWithConditionalBlock</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Prefer <code>select</code> or <code>reject</code> over <code>map { &#8230;&#8203; }.compact</code>.
This cop also handles <code>filter_map { &#8230;&#8203; }</code>, similar to <code>map { &#8230;&#8203; }.compact</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-stylemapcompactwithconditionalblock"><a class="anchor" href="#examples-stylemapcompactwithconditionalblock"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
array.map { |e| some_condition? ? e : next }.compact

# bad
array.filter_map { |e| some_condition? ? e : next }

# bad
array.map do |e|
  if some_condition?
    e
  else
    next
  end
end.compact

# bad
array.map do |e|
  next if some_condition?

  e
end.compact

# bad
array.map do |e|
  e if some_condition?
end.compact

# good
array.select { |e| some_condition? }

# good
array.reject { |e| some_condition? }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylemapintoarray"><a class="anchor" href="#stylemapintoarray"></a>Style/MapIntoArray</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.63</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.67</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for usages of <code>each</code> with <code>&lt;&lt;</code>, <code>push</code>, or <code>append</code> which
can be replaced by <code>map</code>.</p>
</div>
<div class="paragraph">
<p>If <code>PreferredMethods</code> is configured for <code>map</code> in <code>Style/CollectionMethods</code>,
this cop uses the specified method for replacement.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The return value of <code>Enumerable#each</code> is <code>self</code>, whereas the
return value of <code>Enumerable#map</code> is an <code>Array</code>. They are not autocorrected
when a return value could be used because these types differ.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
It only detects when the mapping destination is either:
* a local variable initialized as an empty array and referred to only by the
pushing operation;
* or, if it is the single block argument to a <code>[].tap</code> block.
This is because, if not, it&#8217;s challenging to statically guarantee that the
mapping destination variable remains an empty array:
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">ret = []
src.each { |e| ret &lt;&lt; e * 2 } # `&lt;&lt;` method may mutate `ret`

dest = []
src.each { |e| dest &lt;&lt; transform(e, dest) } # `transform` method may mutate `dest`</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="safety-stylemapintoarray"><a class="anchor" href="#safety-stylemapintoarray"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because not all objects that have an <code>each</code>
method also have a <code>map</code> method (e.g. <code>ENV</code>). Additionally, for calls
with a block, not all objects that have a <code>map</code> method return an array
(e.g. <code>Enumerator::Lazy</code>).</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylemapintoarray"><a class="anchor" href="#examples-stylemapintoarray"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
dest = []
src.each { |e| dest &lt;&lt; e * 2 }
dest

# good
dest = src.map { |e| e * 2 }

# bad
[].tap do |dest|
  src.each { |e| dest &lt;&lt; e * 2 }
end

# good
dest = src.map { |e| e * 2 }

# good - contains another operation
dest = []
src.each { |e| dest &lt;&lt; e * 2; puts e }
dest</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylemapintoarray"><a class="anchor" href="#references-stylemapintoarray"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#functional-code" class="bare">https://rubystyle.guide#functional-code</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylemaptohash"><a class="anchor" href="#stylemaptohash"></a>Style/MapToHash</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Required Ruby version: 2.6
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for uses of <code>map.to_h</code> or <code>collect.to_h</code> that could be
written with just <code>to_h</code> in Ruby &gt;= 2.6.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>Style/HashTransformKeys</code> and <code>Style/HashTransformValues</code> will
also change this pattern if only hash keys or hash values are being
transformed.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="safety-stylemaptohash"><a class="anchor" href="#safety-stylemaptohash"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe, as it can produce false positives if the receiver
is not an <code>Enumerable</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylemaptohash"><a class="anchor" href="#examples-stylemaptohash"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
something.map { |v| [v, v * 2] }.to_h

# good
something.to_h { |v| [v, v * 2] }

# bad
{foo: bar}.collect { |k, v| [k.to_s, v.do_something] }.to_h

# good
{foo: bar}.to_h { |k, v| [k.to_s, v.do_something] }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylemaptoset"><a class="anchor" href="#stylemaptoset"></a>Style/MapToSet</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.42</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for uses of <code>map.to_set</code> or <code>collect.to_set</code> that could be
written with just <code>to_set</code>.</p>
</div>
<div class="sect2">
<h3 id="safety-stylemaptoset"><a class="anchor" href="#safety-stylemaptoset"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe, as it can produce false positives if the receiver
is not an <code>Enumerable</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylemaptoset"><a class="anchor" href="#examples-stylemaptoset"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
something.map { |i| i * 2 }.to_set

# good
something.to_set { |i| i * 2 }

# bad
[1, 2, 3].collect { |i| i.to_s }.to_set

# good
[1, 2, 3].to_set { |i| i.to_s }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylemethodcallwithargsparentheses"><a class="anchor" href="#stylemethodcallwithargsparentheses"></a>Style/MethodCallWithArgsParentheses</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.47</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.7</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the presence (default) or absence of parentheses in
method calls containing arguments.</p>
</div>
<div class="paragraph">
<p>In the default style (require_parentheses), macro methods are allowed.
Additional methods can be added to the <code>AllowedMethods</code> or
<code>AllowedPatterns</code> list. These options are valid only in the default
style. Macros can be included by either setting <code>IgnoreMacros</code> to false
or adding specific macros to the <code>IncludedMacros</code> list.</p>
</div>
<div class="paragraph">
<p>Precedence of options is as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>AllowedMethods</code></p>
</li>
<li>
<p><code>AllowedPatterns</code></p>
</li>
<li>
<p><code>IncludedMacros</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If a method is listed in both <code>IncludedMacros</code> and <code>AllowedMethods</code>,
then the latter takes precedence (that is, the method is allowed).</p>
</div>
<div class="paragraph">
<p>In the alternative style (omit_parentheses), there are three additional
options.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>AllowParenthesesInChaining</code> is <code>false</code> by default. Setting it to
<code>true</code> allows the presence of parentheses in the last call during
method chaining.</p>
</li>
<li>
<p><code>AllowParenthesesInMultilineCall</code> is <code>false</code> by default. Setting it
to <code>true</code> allows the presence of parentheses in multi-line method
calls.</p>
</li>
<li>
<p><code>AllowParenthesesInCamelCaseMethod</code> is <code>false</code> by default. This
allows the presence of parentheses when calling a method whose name
begins with a capital letter and which has no arguments. Setting it
to <code>true</code> allows the presence of parentheses in such a method call
even with arguments.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The style of <code>omit_parentheses</code> allows parentheses in cases where
omitting them results in ambiguous or syntactically incorrect code.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Non-exhaustive list of examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Parentheses are required allowed in method calls with arguments inside
literals, logical operators, setting default values in position and
keyword arguments, chaining and more.</p>
</li>
<li>
<p>Parentheses are allowed in method calls with arguments inside
operators to avoid ambiguity.
triple-dot syntax introduced in Ruby 2.7 as omitting them starts an
endless range.</p>
</li>
<li>
<p>Parentheses are allowed when forwarding arguments with the
triple-dot syntax introduced in Ruby 2.7 as omitting them starts an
endless range.</p>
</li>
<li>
<p>Parentheses are required in calls with arguments when inside an
endless method definition introduced in Ruby 3.0.</p>
</li>
<li>
<p>Ruby 3.1&#8217;s hash omission syntax allows parentheses if the method call
is in conditionals and requires parentheses if the call
is not the value-returning expression. See
<a href="https://bugs.ruby-lang.org/issues/18396" class="bare">https://bugs.ruby-lang.org/issues/18396</a>.</p>
</li>
<li>
<p>Parentheses are required in anonymous arguments, keyword arguments
and block passing in Ruby 3.2.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="examples-stylemethodcallwithargsparentheses"><a class="anchor" href="#examples-stylemethodcallwithargsparentheses"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-require_parentheses-_default_-stylemethodcallwithargsparentheses"><a class="anchor" href="#enforcedstyle_-require_parentheses-_default_-stylemethodcallwithargsparentheses"></a>EnforcedStyle: require_parentheses (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
array.delete e

# good
array.delete(e)

# good
# Operators don't need parens
foo == bar

# good
# Setter methods don't need parens
foo.bar = baz

# okay with `puts` listed in `AllowedMethods`
puts 'test'

# okay with `^assert` listed in `AllowedPatterns`
assert_equal 'test', x</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-omit_parentheses-stylemethodcallwithargsparentheses"><a class="anchor" href="#enforcedstyle_-omit_parentheses-stylemethodcallwithargsparentheses"></a>EnforcedStyle: omit_parentheses</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
array.delete(e)

# good
array.delete e

# bad
action.enforce(strict: true)

# good
action.enforce strict: true

# good
# Parentheses are allowed for code that can be ambiguous without
# them.
action.enforce(condition) || other_condition

# good
# Parentheses are allowed for calls that won't produce valid Ruby
# without them.
yield path, File.basename(path)

# good
# Omitting the parentheses in Ruby 3.1 hash omission syntax can lead
# to ambiguous code. We allow them in conditionals and non-last
# expressions. See https://bugs.ruby-lang.org/issues/18396
if meets(criteria:, action:)
  safe_action(action) || dangerous_action(action)
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ignoremacros_-true-_default_-stylemethodcallwithargsparentheses"><a class="anchor" href="#ignoremacros_-true-_default_-stylemethodcallwithargsparentheses"></a>IgnoreMacros: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
class Foo
  bar :baz
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ignoremacros_-false-stylemethodcallwithargsparentheses"><a class="anchor" href="#ignoremacros_-false-stylemethodcallwithargsparentheses"></a>IgnoreMacros: false</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class Foo
  bar :baz
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowparenthesesinmultilinecall_-false-_default_-stylemethodcallwithargsparentheses"><a class="anchor" href="#allowparenthesesinmultilinecall_-false-_default_-stylemethodcallwithargsparentheses"></a>AllowParenthesesInMultilineCall: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo.enforce(
  strict: true
)

# good
foo.enforce \
  strict: true</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowparenthesesinmultilinecall_-true-stylemethodcallwithargsparentheses"><a class="anchor" href="#allowparenthesesinmultilinecall_-true-stylemethodcallwithargsparentheses"></a>AllowParenthesesInMultilineCall: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
foo.enforce(
  strict: true
)

# good
foo.enforce \
  strict: true</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowparenthesesinchaining_-false-_default_-stylemethodcallwithargsparentheses"><a class="anchor" href="#allowparenthesesinchaining_-false-_default_-stylemethodcallwithargsparentheses"></a>AllowParenthesesInChaining: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo().bar(1)

# good
foo().bar 1</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowparenthesesinchaining_-true-stylemethodcallwithargsparentheses"><a class="anchor" href="#allowparenthesesinchaining_-true-stylemethodcallwithargsparentheses"></a>AllowParenthesesInChaining: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
foo().bar(1)

# good
foo().bar 1</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowparenthesesincamelcasemethod_-false-_default_-stylemethodcallwithargsparentheses"><a class="anchor" href="#allowparenthesesincamelcasemethod_-false-_default_-stylemethodcallwithargsparentheses"></a>AllowParenthesesInCamelCaseMethod: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
Array(1)

# good
Array 1</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowparenthesesincamelcasemethod_-true-stylemethodcallwithargsparentheses"><a class="anchor" href="#allowparenthesesincamelcasemethod_-true-stylemethodcallwithargsparentheses"></a>AllowParenthesesInCamelCaseMethod: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
Array(1)

# good
Array 1</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowparenthesesinstringinterpolation_-false-_default_-stylemethodcallwithargsparentheses"><a class="anchor" href="#allowparenthesesinstringinterpolation_-false-_default_-stylemethodcallwithargsparentheses"></a>AllowParenthesesInStringInterpolation: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
"#{t('this.is.bad')}"

# good
"#{t 'this.is.better'}"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowparenthesesinstringinterpolation_-true-stylemethodcallwithargsparentheses"><a class="anchor" href="#allowparenthesesinstringinterpolation_-true-stylemethodcallwithargsparentheses"></a>AllowParenthesesInStringInterpolation: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
"#{t('this.is.good')}"

# good
"#{t 'this.is.also.good'}"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylemethodcallwithargsparentheses"><a class="anchor" href="#configurable-attributes-stylemethodcallwithargsparentheses"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IgnoreMacros</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedPatterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IncludedMacros</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowParenthesesInMultilineCall</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowParenthesesInChaining</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowParenthesesInCamelCaseMethod</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowParenthesesInStringInterpolation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>require_parentheses</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>require_parentheses</code>, <code>omit_parentheses</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylemethodcallwithargsparentheses"><a class="anchor" href="#references-stylemethodcallwithargsparentheses"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#method-invocation-parens" class="bare">https://rubystyle.guide#method-invocation-parens</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylemethodcallwithoutargsparentheses"><a class="anchor" href="#stylemethodcallwithoutargsparentheses"></a>Style/MethodCallWithoutArgsParentheses</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.47</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.55</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for unwanted parentheses in parameterless method calls.</p>
</div>
<div class="paragraph">
<p>This cop&#8217;s allowed methods can be customized with <code>AllowedMethods</code>.
By default, there are no allowed methods.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This cop allows the use of <code>it()</code> without arguments in blocks,
as in <code>0.times { it() }</code>, following <code>Lint/ItWithoutArgumentsInBlock</code> cop.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-stylemethodcallwithoutargsparentheses"><a class="anchor" href="#examples-stylemethodcallwithoutargsparentheses"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
object.some_method()

# good
object.some_method</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowedmethods_-__-_default_-stylemethodcallwithoutargsparentheses"><a class="anchor" href="#allowedmethods_-__-_default_-stylemethodcallwithoutargsparentheses"></a>AllowedMethods: [] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
object.foo()</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowedmethods_-_foo_-stylemethodcallwithoutargsparentheses"><a class="anchor" href="#allowedmethods_-_foo_-stylemethodcallwithoutargsparentheses"></a>AllowedMethods: [foo]</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
object.foo()</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylemethodcallwithoutargsparentheses"><a class="anchor" href="#configurable-attributes-stylemethodcallwithoutargsparentheses"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedPatterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylemethodcallwithoutargsparentheses"><a class="anchor" href="#references-stylemethodcallwithoutargsparentheses"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#method-invocation-parens" class="bare">https://rubystyle.guide#method-invocation-parens</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylemethodcalledondoendblock"><a class="anchor" href="#stylemethodcalledondoendblock"></a>Style/MethodCalledOnDoEndBlock</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for methods called on a do&#8230;&#8203;end block. The point of
this check is that it&#8217;s easy to miss the call tacked on to the block
when reading code.</p>
</div>
<div class="sect2">
<h3 id="examples-stylemethodcalledondoendblock"><a class="anchor" href="#examples-stylemethodcalledondoendblock"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
a do
  b
end.c

# good
a { b }.c

# good
foo = a do
  b
end
foo.c</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylemethodcalledondoendblock"><a class="anchor" href="#references-stylemethodcalledondoendblock"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#single-line-blocks" class="bare">https://rubystyle.guide#single-line-blocks</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylemethoddefparentheses"><a class="anchor" href="#stylemethoddefparentheses"></a>Style/MethodDefParentheses</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.7</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for parentheses around the arguments in method
definitions. Both instance and class/singleton methods are checked.</p>
</div>
<div class="paragraph">
<p>Regardless of style, parentheses are necessary for:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Endless methods</p>
</li>
<li>
<p>Argument lists containing a <code>forward-arg</code> (<code>&#8230;&#8203;</code>)</p>
</li>
<li>
<p>Argument lists containing an anonymous rest arguments forwarding (<code>*</code>)</p>
</li>
<li>
<p>Argument lists containing an anonymous keyword rest arguments forwarding (<code>**</code>)</p>
</li>
<li>
<p>Argument lists containing an anonymous block forwarding (<code>&amp;</code>)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Removing the parens would be a syntax error here.</p>
</div>
<div class="sect2">
<h3 id="examples-stylemethoddefparentheses"><a class="anchor" href="#examples-stylemethoddefparentheses"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-require_parentheses-_default_-stylemethoddefparentheses"><a class="anchor" href="#enforcedstyle_-require_parentheses-_default_-stylemethoddefparentheses"></a>EnforcedStyle: require_parentheses (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># The `require_parentheses` style requires method definitions
# to always use parentheses

# bad
def bar num1, num2
  num1 + num2
end

def foo descriptive_var_name,
        another_descriptive_var_name,
        last_descriptive_var_name
  do_something
end

# good
def bar(num1, num2)
  num1 + num2
end

def foo(descriptive_var_name,
        another_descriptive_var_name,
        last_descriptive_var_name)
  do_something
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-require_no_parentheses-stylemethoddefparentheses"><a class="anchor" href="#enforcedstyle_-require_no_parentheses-stylemethoddefparentheses"></a>EnforcedStyle: require_no_parentheses</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># The `require_no_parentheses` style requires method definitions
# to never use parentheses

# bad
def bar(num1, num2)
  num1 + num2
end

def foo(descriptive_var_name,
        another_descriptive_var_name,
        last_descriptive_var_name)
  do_something
end

# good
def bar num1, num2
  num1 + num2
end

def foo descriptive_var_name,
        another_descriptive_var_name,
        last_descriptive_var_name
  do_something
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-require_no_parentheses_except_multiline-stylemethoddefparentheses"><a class="anchor" href="#enforcedstyle_-require_no_parentheses_except_multiline-stylemethoddefparentheses"></a>EnforcedStyle: require_no_parentheses_except_multiline</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># The `require_no_parentheses_except_multiline` style prefers no
# parentheses when method definition arguments fit on single line,
# but prefers parentheses when arguments span multiple lines.

# bad
def bar(num1, num2)
  num1 + num2
end

def foo descriptive_var_name,
        another_descriptive_var_name,
        last_descriptive_var_name
  do_something
end

# good
def bar num1, num2
  num1 + num2
end

def foo(descriptive_var_name,
        another_descriptive_var_name,
        last_descriptive_var_name)
  do_something
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylemethoddefparentheses"><a class="anchor" href="#configurable-attributes-stylemethoddefparentheses"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>require_parentheses</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>require_parentheses</code>, <code>require_no_parentheses</code>, <code>require_no_parentheses_except_multiline</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylemethoddefparentheses"><a class="anchor" href="#references-stylemethoddefparentheses"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#method-parens" class="bare">https://rubystyle.guide#method-parens</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleminmax"><a class="anchor" href="#styleminmax"></a>Style/MinMax</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.50</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for potential uses of <code>Enumerable#minmax</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-styleminmax"><a class="anchor" href="#examples-styleminmax"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
bar = [foo.min, foo.max]
return foo.min, foo.max

# good
bar = foo.minmax
return foo.minmax</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleminmaxcomparison"><a class="anchor" href="#styleminmaxcomparison"></a>Style/MinMaxComparison</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.42</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the use of <code>max</code> or <code>min</code> instead of comparison for greater or less.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
It can be used if you want to present limit or threshold in Ruby 2.7+.
That it is slow though. So autocorrection will apply generic <code>max</code> or <code>min</code>:
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">a.clamp(b..) # Same as `[a, b].max`
a.clamp(..b) # Same as `[a, b].min`</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="safety-styleminmaxcomparison"><a class="anchor" href="#safety-styleminmaxcomparison"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because even if a value has <code>&lt;</code> or <code>&gt;</code> method,
it is not necessarily <code>Comparable</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleminmaxcomparison"><a class="anchor" href="#examples-styleminmaxcomparison"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
a &gt; b ? a : b
a &gt;= b ? a : b

# good
[a, b].max

# bad
a &lt; b ? a : b
a &lt;= b ? a : b

# good
[a, b].min</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylemissingelse"><a class="anchor" href="#stylemissingelse"></a>Style/MissingElse</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.38</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for <code>if</code> expressions that do not have an <code>else</code> branch.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Pattern matching is allowed to have no <code>else</code> branch because unlike <code>if</code> and <code>case</code>,
it raises <code>NoMatchingPatternError</code> if the pattern doesn&#8217;t match and without having <code>else</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Supported styles are: if, case, both.</p>
</div>
<div class="sect2">
<h3 id="examples-stylemissingelse"><a class="anchor" href="#examples-stylemissingelse"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-both-_default_-stylemissingelse"><a class="anchor" href="#enforcedstyle_-both-_default_-stylemissingelse"></a>EnforcedStyle: both (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># warn when an `if` or `case` expression is missing an `else` branch.

# bad
if condition
  statement
end

# bad
case var
when condition
  statement
end

# good
if condition
  statement
else
  # the content of `else` branch will be determined by Style/EmptyElse
end

# good
case var
when condition
  statement
else
  # the content of `else` branch will be determined by Style/EmptyElse
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-if-stylemissingelse"><a class="anchor" href="#enforcedstyle_-if-stylemissingelse"></a>EnforcedStyle: if</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># warn when an `if` expression is missing an `else` branch.

# bad
if condition
  statement
end

# good
if condition
  statement
else
  # the content of `else` branch will be determined by Style/EmptyElse
end

# good
case var
when condition
  statement
end

# good
case var
when condition
  statement
else
  # the content of `else` branch will be determined by Style/EmptyElse
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-case-stylemissingelse"><a class="anchor" href="#enforcedstyle_-case-stylemissingelse"></a>EnforcedStyle: case</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># warn when a `case` expression is missing an `else` branch.

# bad
case var
when condition
  statement
end

# good
case var
when condition
  statement
else
  # the content of `else` branch will be determined by Style/EmptyElse
end

# good
if condition
  statement
end

# good
if condition
  statement
else
  # the content of `else` branch will be determined by Style/EmptyElse
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylemissingelse"><a class="anchor" href="#configurable-attributes-stylemissingelse"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>both</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>if</code>, <code>case</code>, <code>both</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylemissingrespondtomissing"><a class="anchor" href="#stylemissingrespondtomissing"></a>Style/MissingRespondToMissing</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.56</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the presence of <code>method_missing</code> without also
defining <code>respond_to_missing?</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-stylemissingrespondtomissing"><a class="anchor" href="#examples-stylemissingrespondtomissing"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def method_missing(name, *args)
  # ...
end

# good
def respond_to_missing?(name, include_private)
  # ...
end

def method_missing(name, *args)
  # ...
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylemissingrespondtomissing"><a class="anchor" href="#references-stylemissingrespondtomissing"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-method-missing" class="bare">https://rubystyle.guide#no-method-missing</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylemixingrouping"><a class="anchor" href="#stylemixingrouping"></a>Style/MixinGrouping</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.48</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.49</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for grouping of mixins in <code>class</code> and <code>module</code> bodies.
By default it enforces mixins to be placed in separate declarations,
but it can be configured to enforce grouping them in one declaration.</p>
</div>
<div class="sect2">
<h3 id="examples-stylemixingrouping"><a class="anchor" href="#examples-stylemixingrouping"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-separated-_default_-stylemixingrouping"><a class="anchor" href="#enforcedstyle_-separated-_default_-stylemixingrouping"></a>EnforcedStyle: separated (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class Foo
  include Bar, Qox
end

# good
class Foo
  include Qox
  include Bar
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-grouped-stylemixingrouping"><a class="anchor" href="#enforcedstyle_-grouped-stylemixingrouping"></a>EnforcedStyle: grouped</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class Foo
  extend Bar
  extend Qox
end

# good
class Foo
  extend Qox, Bar
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylemixingrouping"><a class="anchor" href="#configurable-attributes-stylemixingrouping"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>separated</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>separated</code>, <code>grouped</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylemixingrouping"><a class="anchor" href="#references-stylemixingrouping"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#mixin-grouping" class="bare">https://rubystyle.guide#mixin-grouping</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylemixinusage"><a class="anchor" href="#stylemixinusage"></a>Style/MixinUsage</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.51</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks that <code>include</code>, <code>extend</code> and <code>prepend</code> statements appear
inside classes and modules, not at the top level, so as to not affect
the behavior of <code>Object</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-stylemixinusage"><a class="anchor" href="#examples-stylemixinusage"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
include M

class C
end

# bad
extend M

class C
end

# bad
prepend M

class C
end

# good
class C
  include M
end

# good
class C
  extend M
end

# good
class C
  prepend M
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylemodulefunction"><a class="anchor" href="#stylemodulefunction"></a>Style/ModuleFunction</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.65</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for use of <code>extend self</code> or <code>module_function</code> in a module.</p>
</div>
<div class="paragraph">
<p>Supported styles are: <code>module_function</code> (default), <code>extend_self</code> and <code>forbidden</code>.</p>
</div>
<div class="paragraph">
<p>A couple of things to keep in mind:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>forbidden</code> style prohibits the usage of both styles</p>
</li>
<li>
<p>in default mode (<code>module_function</code>), the cop won&#8217;t be activated when the module
contains any private methods</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="safety-stylemodulefunction"><a class="anchor" href="#safety-stylemodulefunction"></a>Safety</h3>
<div class="paragraph">
<p>Autocorrection is unsafe (and is disabled by default) because <code>extend self</code>
and <code>module_function</code> do not behave exactly the same.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylemodulefunction"><a class="anchor" href="#examples-stylemodulefunction"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-module_function-_default_-stylemodulefunction"><a class="anchor" href="#enforcedstyle_-module_function-_default_-stylemodulefunction"></a>EnforcedStyle: module_function (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
module Test
  extend self
  # ...
end

# good
module Test
  module_function
  # ...
end

# good
module Test
  extend self
  # ...
  private
  # ...
end

# good
module Test
  class &lt;&lt; self
    # ...
  end
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-extend_self-stylemodulefunction"><a class="anchor" href="#enforcedstyle_-extend_self-stylemodulefunction"></a>EnforcedStyle: extend_self</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
module Test
  module_function
  # ...
end

# good
module Test
  extend self
  # ...
end

# good
module Test
  class &lt;&lt; self
    # ...
  end
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-forbidden-stylemodulefunction"><a class="anchor" href="#enforcedstyle_-forbidden-stylemodulefunction"></a>EnforcedStyle: forbidden</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
module Test
  module_function
  # ...
end

# bad
module Test
  extend self
  # ...
end

# bad
module Test
  extend self
  # ...
  private
  # ...
end

# good
module Test
  class &lt;&lt; self
    # ...
  end
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylemodulefunction"><a class="anchor" href="#configurable-attributes-stylemodulefunction"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>module_function</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>module_function</code>, <code>extend_self</code>, <code>forbidden</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Autocorrect</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylemodulefunction"><a class="anchor" href="#references-stylemodulefunction"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#module-function" class="bare">https://rubystyle.guide#module-function</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylemultilineblockchain"><a class="anchor" href="#stylemultilineblockchain"></a>Style/MultilineBlockChain</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for chaining of a block after another block that spans
multiple lines.</p>
</div>
<div class="sect2">
<h3 id="examples-stylemultilineblockchain"><a class="anchor" href="#examples-stylemultilineblockchain"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
Thread.list.select do |t|
  t.alive?
end.map do |t|
  t.object_id
end

# good
alive_threads = Thread.list.select do |t|
  t.alive?
end
alive_threads.map do |t|
  t.object_id
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylemultilineblockchain"><a class="anchor" href="#references-stylemultilineblockchain"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#single-line-blocks" class="bare">https://rubystyle.guide#single-line-blocks</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylemultilineifmodifier"><a class="anchor" href="#stylemultilineifmodifier"></a>Style/MultilineIfModifier</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.45</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of if/unless modifiers with multiple-lines bodies.</p>
</div>
<div class="sect2">
<h3 id="examples-stylemultilineifmodifier"><a class="anchor" href="#examples-stylemultilineifmodifier"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
{
  result: 'this should not happen'
} unless cond

# good
{ result: 'ok' } if cond</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylemultilineifmodifier"><a class="anchor" href="#references-stylemultilineifmodifier"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-multiline-if-modifiers" class="bare">https://rubystyle.guide#no-multiline-if-modifiers</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylemultilineifthen"><a class="anchor" href="#stylemultilineifthen"></a>Style/MultilineIfThen</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.26</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of the <code>then</code> keyword in multi-line if statements.</p>
</div>
<div class="sect2">
<h3 id="examples-stylemultilineifthen"><a class="anchor" href="#examples-stylemultilineifthen"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
# This is considered bad practice.
if cond then
end

# good
# If statements can contain `then` on the same line.
if cond then a
elsif cond then b
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylemultilineifthen"><a class="anchor" href="#references-stylemultilineifthen"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-then" class="bare">https://rubystyle.guide#no-then</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylemultilineinpatternthen"><a class="anchor" href="#stylemultilineinpatternthen"></a>Style/MultilineInPatternThen</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Required Ruby version: 2.7
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks uses of the <code>then</code> keyword in multi-line <code>in</code> statement.</p>
</div>
<div class="sect2">
<h3 id="examples-stylemultilineinpatternthen"><a class="anchor" href="#examples-stylemultilineinpatternthen"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
case expression
in pattern then
end

# good
case expression
in pattern
end

# good
case expression
in pattern then do_something
end

# good
case expression
in pattern then do_something(arg1,
                             arg2)
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylemultilineinpatternthen"><a class="anchor" href="#references-stylemultilineinpatternthen"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-then" class="bare">https://rubystyle.guide#no-then</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylemultilinememoization"><a class="anchor" href="#stylemultilinememoization"></a>Style/MultilineMemoization</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.44</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.48</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks expressions wrapping styles for multiline memoization.</p>
</div>
<div class="sect2">
<h3 id="examples-stylemultilinememoization"><a class="anchor" href="#examples-stylemultilinememoization"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-keyword-_default_-stylemultilinememoization"><a class="anchor" href="#enforcedstyle_-keyword-_default_-stylemultilinememoization"></a>EnforcedStyle: keyword (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo ||= (
  bar
  baz
)

# good
foo ||= begin
  bar
  baz
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-braces-stylemultilinememoization"><a class="anchor" href="#enforcedstyle_-braces-stylemultilinememoization"></a>EnforcedStyle: braces</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo ||= begin
  bar
  baz
end

# good
foo ||= (
  bar
  baz
)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylemultilinememoization"><a class="anchor" href="#configurable-attributes-stylemultilinememoization"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>keyword</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>keyword</code>, <code>braces</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylemultilinemethodsignature"><a class="anchor" href="#stylemultilinemethodsignature"></a>Style/MultilineMethodSignature</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.59</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.7</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for method signatures that span multiple lines.</p>
</div>
<div class="sect2">
<h3 id="examples-stylemultilinemethodsignature"><a class="anchor" href="#examples-stylemultilinemethodsignature"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good

def foo(bar, baz)
end

# bad

def foo(bar,
        baz)
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylemultilineternaryoperator"><a class="anchor" href="#stylemultilineternaryoperator"></a>Style/MultilineTernaryOperator</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.86</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for multi-line ternary op expressions.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>return if &#8230;&#8203; else &#8230;&#8203; end</code> is syntax error. If <code>return</code> is used before
multiline ternary operator expression, it will be autocorrected to single-line
ternary operator. The same is true for <code>break</code>, <code>next</code>, and method call.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-stylemultilineternaryoperator"><a class="anchor" href="#examples-stylemultilineternaryoperator"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
a = cond ?
  b : c
a = cond ? b :
    c
a = cond ?
    b :
    c

return cond ?
       b :
       c

# good
a = cond ? b : c
a = if cond
  b
else
  c
end

return cond ? b : c</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylemultilineternaryoperator"><a class="anchor" href="#references-stylemultilineternaryoperator"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-multiline-ternary" class="bare">https://rubystyle.guide#no-multiline-ternary</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylemultilinewhenthen"><a class="anchor" href="#stylemultilinewhenthen"></a>Style/MultilineWhenThen</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.73</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks uses of the <code>then</code> keyword
in multi-line when statements.</p>
</div>
<div class="sect2">
<h3 id="examples-stylemultilinewhenthen"><a class="anchor" href="#examples-stylemultilinewhenthen"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
case foo
when bar then
end

# good
case foo
when bar
end

# good
case foo
when bar then do_something
end

# good
case foo
when bar then do_something(arg1,
                           arg2)
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylemultilinewhenthen"><a class="anchor" href="#references-stylemultilinewhenthen"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-then" class="bare">https://rubystyle.guide#no-then</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylemultiplecomparison"><a class="anchor" href="#stylemultiplecomparison"></a>Style/MultipleComparison</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.49</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks against comparing a variable with multiple items, where
<code>Array#include?</code>, <code>Set#include?</code> or a <code>case</code> could be used instead
to avoid code repetition.
It accepts comparisons of multiple method calls to avoid unnecessary method calls
by default. It can be configured by <code>AllowMethodComparison</code> option.</p>
</div>
<div class="sect2">
<h3 id="examples-stylemultiplecomparison"><a class="anchor" href="#examples-stylemultiplecomparison"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
a = 'a'
foo if a == 'a' || a == 'b' || a == 'c'

# good
a = 'a'
foo if ['a', 'b', 'c'].include?(a)

VALUES = Set['a', 'b', 'c'].freeze
# elsewhere...
foo if VALUES.include?(a)

case foo
when 'a', 'b', 'c' then foo
# ...
end

# accepted (but consider `case` as above)
foo if a == b.lightweight || a == b.heavyweight</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowmethodcomparison_-true-_default_-stylemultiplecomparison"><a class="anchor" href="#allowmethodcomparison_-true-_default_-stylemultiplecomparison"></a>AllowMethodComparison: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
foo if a == b.lightweight || a == b.heavyweight</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowmethodcomparison_-false-stylemultiplecomparison"><a class="anchor" href="#allowmethodcomparison_-false-stylemultiplecomparison"></a>AllowMethodComparison: false</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo if a == b.lightweight || a == b.heavyweight

# good
foo if [b.lightweight, b.heavyweight].include?(a)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="comparisonsthreshold_-2-_default_-stylemultiplecomparison"><a class="anchor" href="#comparisonsthreshold_-2-_default_-stylemultiplecomparison"></a>ComparisonsThreshold: 2 (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo if a == 'a' || a == 'b'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="comparisonsthreshold_-3-stylemultiplecomparison"><a class="anchor" href="#comparisonsthreshold_-3-stylemultiplecomparison"></a>ComparisonsThreshold: 3</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
foo if a == 'a' || a == 'b'</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylemultiplecomparison"><a class="anchor" href="#configurable-attributes-stylemultiplecomparison"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowMethodComparison</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ComparisonsThreshold</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylemutableconstant"><a class="anchor" href="#stylemutableconstant"></a>Style/MutableConstant</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.34</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.8</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks whether some constant value isn&#8217;t a
mutable literal (e.g. array or hash).</p>
</div>
<div class="paragraph">
<p>Strict mode can be used to freeze all constants, rather than
just literals.
Strict mode is considered an experimental feature. It has not been
updated with an exhaustive list of all methods that will produce
frozen objects so there is a decent chance of getting some false
positives. Luckily, there is no harm in freezing an already
frozen object.</p>
</div>
<div class="paragraph">
<p>From Ruby 3.0, this cop honours the magic comment
'shareable_constant_value'. When this magic comment is set to any
acceptable value other than none, it will suppress the offenses
raised by this cop. It enforces frozen state.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Regexp and Range literals are frozen objects since Ruby 3.0.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
From Ruby 3.0, interpolated strings are not frozen when
<code># frozen-string-literal: true</code> is used, so this cop enforces explicit
freezing for such strings.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
From Ruby 3.0, this cop allows explicit freezing of constants when
the <code>shareable_constant_value</code> directive is used.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="safety-stylemutableconstant"><a class="anchor" href="#safety-stylemutableconstant"></a>Safety</h3>
<div class="paragraph">
<p>This cop&#8217;s autocorrection is unsafe since any mutations on objects that
are made frozen will change from being accepted to raising <code>FrozenError</code>,
and will need to be manually refactored.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylemutableconstant"><a class="anchor" href="#examples-stylemutableconstant"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-literals-_default_-stylemutableconstant"><a class="anchor" href="#enforcedstyle_-literals-_default_-stylemutableconstant"></a>EnforcedStyle: literals (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
CONST = [1, 2, 3]

# good
CONST = [1, 2, 3].freeze

# good
CONST = &lt;&lt;~TESTING.freeze
  This is a heredoc
TESTING

# good
CONST = Something.new</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-strict-stylemutableconstant"><a class="anchor" href="#enforcedstyle_-strict-stylemutableconstant"></a>EnforcedStyle: strict</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
CONST = Something.new

# bad
CONST = Struct.new do
  def foo
    puts 1
  end
end

# good
CONST = Something.new.freeze

# good
CONST = Struct.new do
  def foo
    puts 1
  end
end.freeze</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># Magic comment - shareable_constant_value: literal

# bad
CONST = [1, 2, 3]

# good
# shareable_constant_value: literal
CONST = [1, 2, 3]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylemutableconstant"><a class="anchor" href="#configurable-attributes-stylemutableconstant"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>literals</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>literals</code>, <code>strict</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylenegatedif"><a class="anchor" href="#stylenegatedif"></a>Style/NegatedIf</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.48</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of if with a negated condition. Only ifs
without else are considered. There are three different styles:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>both</p>
</li>
<li>
<p>prefix</p>
</li>
<li>
<p>postfix</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="examples-stylenegatedif"><a class="anchor" href="#examples-stylenegatedif"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-both-_default_-stylenegatedif"><a class="anchor" href="#enforcedstyle_-both-_default_-stylenegatedif"></a>EnforcedStyle: both (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># enforces `unless` for `prefix` and `postfix` conditionals

# bad

if !foo
  bar
end

# good

unless foo
  bar
end

# bad

bar if !foo

# good

bar unless foo</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-prefix-stylenegatedif"><a class="anchor" href="#enforcedstyle_-prefix-stylenegatedif"></a>EnforcedStyle: prefix</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># enforces `unless` for just `prefix` conditionals

# bad

if !foo
  bar
end

# good

unless foo
  bar
end

# good

bar if !foo</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-postfix-stylenegatedif"><a class="anchor" href="#enforcedstyle_-postfix-stylenegatedif"></a>EnforcedStyle: postfix</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># enforces `unless` for just `postfix` conditionals

# bad

bar if !foo

# good

bar unless foo

# good

if !foo
  bar
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylenegatedif"><a class="anchor" href="#configurable-attributes-stylenegatedif"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>both</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>both</code>, <code>prefix</code>, <code>postfix</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylenegatedif"><a class="anchor" href="#references-stylenegatedif"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#unless-for-negatives" class="bare">https://rubystyle.guide#unless-for-negatives</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylenegatedifelsecondition"><a class="anchor" href="#stylenegatedifelsecondition"></a>Style/NegatedIfElseCondition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of <code>if-else</code> and ternary operators with a negated condition
which can be simplified by inverting condition and swapping branches.</p>
</div>
<div class="sect2">
<h3 id="examples-stylenegatedifelsecondition"><a class="anchor" href="#examples-stylenegatedifelsecondition"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if !x
  do_something
else
  do_something_else
end

# good
if x
  do_something_else
else
  do_something
end

# bad
!x ? do_something : do_something_else

# good
x ? do_something_else : do_something</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylenegatedunless"><a class="anchor" href="#stylenegatedunless"></a>Style/NegatedUnless</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.69</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of unless with a negated condition. Only unless
without else are considered. There are three different styles:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>both</p>
</li>
<li>
<p>prefix</p>
</li>
<li>
<p>postfix</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="examples-stylenegatedunless"><a class="anchor" href="#examples-stylenegatedunless"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-both-_default_-stylenegatedunless"><a class="anchor" href="#enforcedstyle_-both-_default_-stylenegatedunless"></a>EnforcedStyle: both (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># enforces `if` for `prefix` and `postfix` conditionals

# bad
unless !foo
  bar
end

# good
if foo
  bar
end

# bad
bar unless !foo

# good
bar if foo</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-prefix-stylenegatedunless"><a class="anchor" href="#enforcedstyle_-prefix-stylenegatedunless"></a>EnforcedStyle: prefix</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># enforces `if` for just `prefix` conditionals

# bad
unless !foo
  bar
end

# good
if foo
  bar
end

# good
bar unless !foo</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-postfix-stylenegatedunless"><a class="anchor" href="#enforcedstyle_-postfix-stylenegatedunless"></a>EnforcedStyle: postfix</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># enforces `if` for just `postfix` conditionals

# bad
bar unless !foo

# good
bar if foo

# good
unless !foo
  bar
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylenegatedunless"><a class="anchor" href="#configurable-attributes-stylenegatedunless"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>both</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>both</code>, <code>prefix</code>, <code>postfix</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylenegatedunless"><a class="anchor" href="#references-stylenegatedunless"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#if-for-negatives" class="bare">https://rubystyle.guide#if-for-negatives</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylenegatedwhile"><a class="anchor" href="#stylenegatedwhile"></a>Style/NegatedWhile</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of while with a negated condition.</p>
</div>
<div class="sect2">
<h3 id="examples-stylenegatedwhile"><a class="anchor" href="#examples-stylenegatedwhile"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
while !foo
  bar
end

# good
until foo
  bar
end

# bad
bar until !foo

# good
bar while foo
bar while !foo &amp;&amp; baz</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylenegatedwhile"><a class="anchor" href="#references-stylenegatedwhile"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#until-for-negatives" class="bare">https://rubystyle.guide#until-for-negatives</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylenestedfiledirname"><a class="anchor" href="#stylenestedfiledirname"></a>Style/NestedFileDirname</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Required Ruby version: 3.1
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.26</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for nested <code>File.dirname</code>.
It replaces nested <code>File.dirname</code> with the level argument introduced in Ruby 3.1.</p>
</div>
<div class="sect2">
<h3 id="examples-stylenestedfiledirname"><a class="anchor" href="#examples-stylenestedfiledirname"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
File.dirname(File.dirname(path))

# good
File.dirname(path, 2)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylenestedmodifier"><a class="anchor" href="#stylenestedmodifier"></a>Style/NestedModifier</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.35</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for nested use of if, unless, while and until in their
modifier form.</p>
</div>
<div class="sect2">
<h3 id="examples-stylenestedmodifier"><a class="anchor" href="#examples-stylenestedmodifier"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
something if a if b

# good
something if b &amp;&amp; a</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylenestedmodifier"><a class="anchor" href="#references-stylenestedmodifier"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-nested-modifiers" class="bare">https://rubystyle.guide#no-nested-modifiers</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylenestedparenthesizedcalls"><a class="anchor" href="#stylenestedparenthesizedcalls"></a>Style/NestedParenthesizedCalls</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.77</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for unparenthesized method calls in the argument list
of a parenthesized method call.
<code>be</code>, <code>be_a</code>, <code>be_an</code>, <code>be_between</code>, <code>be_falsey</code>, <code>be_kind_of</code>, <code>be_instance_of</code>,
<code>be_truthy</code>, <code>be_within</code>, <code>eq</code>, <code>eql</code>, <code>end_with</code>, <code>include</code>, <code>match</code>, <code>raise_error</code>,
<code>respond_to</code>, and <code>start_with</code> methods are allowed by default.
These are customizable with <code>AllowedMethods</code> option.</p>
</div>
<div class="sect2">
<h3 id="examples-stylenestedparenthesizedcalls"><a class="anchor" href="#examples-stylenestedparenthesizedcalls"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
method1(method2(arg))

# bad
method1(method2 arg)</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowedmethods_-_foo_-stylenestedparenthesizedcalls"><a class="anchor" href="#allowedmethods_-_foo_-stylenestedparenthesizedcalls"></a>AllowedMethods: [foo]</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
method1(foo arg)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylenestedparenthesizedcalls"><a class="anchor" href="#configurable-attributes-stylenestedparenthesizedcalls"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>be</code>, <code>be_a</code>, <code>be_an</code>, <code>be_between</code>, <code>be_falsey</code>, <code>be_kind_of</code>, <code>be_instance_of</code>, <code>be_truthy</code>, <code>be_within</code>, <code>eq</code>, <code>eql</code>, <code>end_with</code>, <code>include</code>, <code>match</code>, <code>raise_error</code>, <code>respond_to</code>, <code>start_with</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylenestedternaryoperator"><a class="anchor" href="#stylenestedternaryoperator"></a>Style/NestedTernaryOperator</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.86</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for nested ternary op expressions.</p>
</div>
<div class="sect2">
<h3 id="examples-stylenestedternaryoperator"><a class="anchor" href="#examples-stylenestedternaryoperator"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
a ? (b ? b1 : b2) : a2

# good
if a
  b ? b1 : b2
else
  a2
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylenestedternaryoperator"><a class="anchor" href="#references-stylenestedternaryoperator"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-nested-ternary" class="bare">https://rubystyle.guide#no-nested-ternary</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylenext"><a class="anchor" href="#stylenext"></a>Style/Next</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.35</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Use <code>next</code> to skip iteration instead of a condition at the end.</p>
</div>
<div class="sect2">
<h3 id="examples-stylenext"><a class="anchor" href="#examples-stylenext"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-skip_modifier_ifs-_default_-stylenext"><a class="anchor" href="#enforcedstyle_-skip_modifier_ifs-_default_-stylenext"></a>EnforcedStyle: skip_modifier_ifs (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
[1, 2].each do |a|
  if a == 1
    puts a
  end
end

# good
[1, 2].each do |a|
  next unless a == 1
  puts a
end

# good
[1, 2].each do |a|
  puts a if a == 1
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-always-stylenext"><a class="anchor" href="#enforcedstyle_-always-stylenext"></a>EnforcedStyle: always</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># With `always` all conditions at the end of an iteration needs to be
# replaced by next - with `skip_modifier_ifs` the modifier if like
# this one are ignored: `[1, 2].each { |a| puts a if a == 1 }`

# bad
[1, 2].each do |a|
  puts a if a == 1
end

# bad
[1, 2].each do |a|
  if a == 1
    puts a
  end
end

# good
[1, 2].each do |a|
  next unless a == 1
  puts a
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylenext"><a class="anchor" href="#configurable-attributes-stylenext"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>skip_modifier_ifs</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>skip_modifier_ifs</code>, <code>always</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MinBodyLength</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylenext"><a class="anchor" href="#references-stylenext"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-nested-conditionals" class="bare">https://rubystyle.guide#no-nested-conditionals</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylenilcomparison"><a class="anchor" href="#stylenilcomparison"></a>Style/NilComparison</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.59</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for comparison of something with nil using <code>==</code> and
<code>nil?</code>.</p>
</div>
<div class="paragraph">
<p>Supported styles are: predicate, comparison.</p>
</div>
<div class="sect2">
<h3 id="examples-stylenilcomparison"><a class="anchor" href="#examples-stylenilcomparison"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-predicate-_default_-stylenilcomparison"><a class="anchor" href="#enforcedstyle_-predicate-_default_-stylenilcomparison"></a>EnforcedStyle: predicate (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if x == nil
end

# good
if x.nil?
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-comparison-stylenilcomparison"><a class="anchor" href="#enforcedstyle_-comparison-stylenilcomparison"></a>EnforcedStyle: comparison</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if x.nil?
end

# good
if x == nil
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylenilcomparison"><a class="anchor" href="#configurable-attributes-stylenilcomparison"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>predicate</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>predicate</code>, <code>comparison</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylenilcomparison"><a class="anchor" href="#references-stylenilcomparison"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#predicate-methods" class="bare">https://rubystyle.guide#predicate-methods</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylenillambda"><a class="anchor" href="#stylenillambda"></a>Style/NilLambda</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.15</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for lambdas and procs that always return nil,
which can be replaced with an empty lambda or proc instead.</p>
</div>
<div class="sect2">
<h3 id="examples-stylenillambda"><a class="anchor" href="#examples-stylenillambda"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
-&gt; { nil }

lambda do
  next nil
end

proc { nil }

Proc.new do
  break nil
end

# good
-&gt; {}

lambda do
end

-&gt; (x) { nil if x }

proc {}

Proc.new { nil if x }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylenonnilcheck"><a class="anchor" href="#stylenonnilcheck"></a>Style/NonNilCheck</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.22</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for non-nil checks, which are usually redundant.</p>
</div>
<div class="paragraph">
<p>With <code>IncludeSemanticChanges</code> set to <code>false</code> by default, this cop
does not report offenses for <code>!x.nil?</code> and does no changes that might
change behavior.
Also <code>IncludeSemanticChanges</code> set to <code>false</code> with <code>EnforcedStyle: comparison</code> of
<code>Style/NilComparison</code> cop, this cop does not report offenses for <code>x != nil</code> and
does no changes to <code>!x.nil?</code> style.</p>
</div>
<div class="paragraph">
<p>With <code>IncludeSemanticChanges</code> set to <code>true</code>, this cop reports offenses
for <code>!x.nil?</code> and autocorrects that and <code>x != nil</code> to solely <code>x</code>, which
is <strong>usually</strong> OK, but might change behavior.</p>
</div>
<div class="sect2">
<h3 id="examples-stylenonnilcheck"><a class="anchor" href="#examples-stylenonnilcheck"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if x != nil
end

# good
if x
end

# Non-nil checks are allowed if they are the final nodes of predicate.
# good
def signed_in?
  !current_user.nil?
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="includesemanticchanges_-false-_default_-stylenonnilcheck"><a class="anchor" href="#includesemanticchanges_-false-_default_-stylenonnilcheck"></a>IncludeSemanticChanges: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
if !x.nil?
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="includesemanticchanges_-true-stylenonnilcheck"><a class="anchor" href="#includesemanticchanges_-true-stylenonnilcheck"></a>IncludeSemanticChanges: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if !x.nil?
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylenonnilcheck"><a class="anchor" href="#configurable-attributes-stylenonnilcheck"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IncludeSemanticChanges</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylenonnilcheck"><a class="anchor" href="#references-stylenonnilcheck"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-non-nil-checks" class="bare">https://rubystyle.guide#no-non-nil-checks</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylenot"><a class="anchor" href="#stylenot"></a>Style/Not</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.20</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of the keyword <code>not</code> instead of <code>!</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-stylenot"><a class="anchor" href="#examples-stylenot"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad - parentheses are required because of op precedence
x = (not something)

# good
x = !something</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylenot"><a class="anchor" href="#references-stylenot"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#bang-not-not" class="bare">https://rubystyle.guide#bang-not-not</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylenumberedparameters"><a class="anchor" href="#stylenumberedparameters"></a>Style/NumberedParameters</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Required Ruby version: 2.7
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for numbered parameters.</p>
</div>
<div class="paragraph">
<p>It can either restrict the use of numbered parameters to
single-lined blocks, or disallow completely numbered parameters.</p>
</div>
<div class="sect2">
<h3 id="examples-stylenumberedparameters"><a class="anchor" href="#examples-stylenumberedparameters"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-allow_single_line-_default_-stylenumberedparameters"><a class="anchor" href="#enforcedstyle_-allow_single_line-_default_-stylenumberedparameters"></a>EnforcedStyle: allow_single_line (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
collection.each do
  puts _1
end

# good
collection.each { puts _1 }</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-disallow-stylenumberedparameters"><a class="anchor" href="#enforcedstyle_-disallow-stylenumberedparameters"></a>EnforcedStyle: disallow</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
collection.each { puts _1 }

# good
collection.each { |item| puts item }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylenumberedparameters"><a class="anchor" href="#configurable-attributes-stylenumberedparameters"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>allow_single_line</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>allow_single_line</code>, <code>disallow</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylenumberedparameterslimit"><a class="anchor" href="#stylenumberedparameterslimit"></a>Style/NumberedParametersLimit</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Required Ruby version: 2.7
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Detects use of an excessive amount of numbered parameters in a
single block. Having too many numbered parameters can make code too
cryptic and hard to read.</p>
</div>
<div class="paragraph">
<p>The cop defaults to registering an offense if there is more than 1 numbered
parameter but this maximum can be configured by setting <code>Max</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-stylenumberedparameterslimit"><a class="anchor" href="#examples-stylenumberedparameterslimit"></a>Examples</h3>
<div class="sect3">
<h4 id="max_-1-_default_-stylenumberedparameterslimit"><a class="anchor" href="#max_-1-_default_-stylenumberedparameterslimit"></a>Max: 1 (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
use_multiple_numbered_parameters { _1.call(_2, _3, _4) }

# good
array.each { use_array_element_as_numbered_parameter(_1) }
hash.each { use_only_hash_value_as_numbered_parameter(_2) }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylenumberedparameterslimit"><a class="anchor" href="#configurable-attributes-stylenumberedparameterslimit"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Max</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylenumericliteralprefix"><a class="anchor" href="#stylenumericliteralprefix"></a>Style/NumericLiteralPrefix</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.41</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for octal, hex, binary, and decimal literals using
uppercase prefixes and corrects them to lowercase prefix
or no prefix (in case of decimals).</p>
</div>
<div class="sect2">
<h3 id="examples-stylenumericliteralprefix"><a class="anchor" href="#examples-stylenumericliteralprefix"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedoctalstyle_-zero_with_o-_default_-stylenumericliteralprefix"><a class="anchor" href="#enforcedoctalstyle_-zero_with_o-_default_-stylenumericliteralprefix"></a>EnforcedOctalStyle: zero_with_o (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad - missing octal prefix
num = 01234

# bad - uppercase prefix
num = 0O1234
num = 0X12AB
num = 0B10101

# bad - redundant decimal prefix
num = 0D1234
num = 0d1234

# good
num = 0o1234
num = 0x12AB
num = 0b10101
num = 1234</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedoctalstyle_-zero_only-stylenumericliteralprefix"><a class="anchor" href="#enforcedoctalstyle_-zero_only-stylenumericliteralprefix"></a>EnforcedOctalStyle: zero_only</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
num = 0o1234
num = 0O1234

# good
num = 01234</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylenumericliteralprefix"><a class="anchor" href="#configurable-attributes-stylenumericliteralprefix"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedOctalStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>zero_with_o</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>zero_with_o</code>, <code>zero_only</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylenumericliteralprefix"><a class="anchor" href="#references-stylenumericliteralprefix"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#numeric-literal-prefixes" class="bare">https://rubystyle.guide#numeric-literal-prefixes</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylenumericliterals"><a class="anchor" href="#stylenumericliterals"></a>Style/NumericLiterals</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.48</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for big numeric literals without <code>_</code> between groups
of digits in them.</p>
</div>
<div class="paragraph">
<p>Additional allowed patterns can be added by adding regexps to
the <code>AllowedPatterns</code> configuration. All regexps are treated
as anchored even if the patterns do not contain anchors (so
<code>\d{4}_\d{4}</code> will allow <code>1234_5678</code> but not <code>1234_5678_9012</code>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Even if <code>AllowedPatterns</code> are given, autocorrection will
only correct to the standard pattern of an <code>_</code> every 3 digits.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-stylenumericliterals"><a class="anchor" href="#examples-stylenumericliterals"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
1000000
1_00_000
1_0000

# good
1_000_000
1000</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="strict_-false-_default_-stylenumericliterals"><a class="anchor" href="#strict_-false-_default_-stylenumericliterals"></a>Strict: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
10_000_00 # typical representation of $10,000 in cents</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="strict_-true-stylenumericliterals"><a class="anchor" href="#strict_-true-stylenumericliterals"></a>Strict: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
10_000_00 # typical representation of $10,000 in cents</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowednumbers_-_3000_-stylenumericliterals"><a class="anchor" href="#allowednumbers_-_3000_-stylenumericliterals"></a>AllowedNumbers: [3000]</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
3000 # You can specify allowed numbers. (e.g. port number)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylenumericliterals"><a class="anchor" href="#configurable-attributes-stylenumericliterals"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MinDigits</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>5</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Strict</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedNumbers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedPatterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylenumericliterals"><a class="anchor" href="#references-stylenumericliterals"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#underscores-in-numerics" class="bare">https://rubystyle.guide#underscores-in-numerics</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylenumericpredicate"><a class="anchor" href="#stylenumericpredicate"></a>Style/NumericPredicate</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.42</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.59</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for usage of comparison operators (<code>==</code>,
<code>&gt;</code>, <code>&lt;</code>) to test numbers as zero, positive, or negative.
These can be replaced by their respective predicate methods.
This cop can also be configured to do the reverse.</p>
</div>
<div class="paragraph">
<p>This cop&#8217;s allowed methods can be customized with <code>AllowedMethods</code>.
By default, there are no allowed methods.</p>
</div>
<div class="paragraph">
<p>This cop disregards <code>#nonzero?</code> as its value is truthy or falsey,
but not <code>true</code> and <code>false</code>, and thus not always interchangeable with
<code>!= 0</code>.</p>
</div>
<div class="paragraph">
<p>This cop allows comparisons to global variables, since they are often
populated with objects which can be compared with integers, but are
not themselves <code>Integer</code> polymorphic.</p>
</div>
<div class="sect2">
<h3 id="safety-stylenumericpredicate"><a class="anchor" href="#safety-stylenumericpredicate"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because it cannot be guaranteed that the receiver
defines the predicates or can be compared to a number, which may lead
to a false positive for non-standard classes.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylenumericpredicate"><a class="anchor" href="#examples-stylenumericpredicate"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-predicate-_default_-stylenumericpredicate"><a class="anchor" href="#enforcedstyle_-predicate-_default_-stylenumericpredicate"></a>EnforcedStyle: predicate (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo == 0
0 &gt; foo
bar.baz &gt; 0

# good
foo.zero?
foo.negative?
bar.baz.positive?</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-comparison-stylenumericpredicate"><a class="anchor" href="#enforcedstyle_-comparison-stylenumericpredicate"></a>EnforcedStyle: comparison</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo.zero?
foo.negative?
bar.baz.positive?

# good
foo == 0
0 &gt; foo
bar.baz &gt; 0</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowedmethods_-__-_default_-with-enforcedstyle_-predicate-stylenumericpredicate"><a class="anchor" href="#allowedmethods_-__-_default_-with-enforcedstyle_-predicate-stylenumericpredicate"></a>AllowedMethods: [] (default) with EnforcedStyle: predicate</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo == 0
0 &gt; foo
bar.baz &gt; 0</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowedmethods_-____-with-enforcedstyle_-predicate-stylenumericpredicate"><a class="anchor" href="#allowedmethods_-____-with-enforcedstyle_-predicate-stylenumericpredicate"></a>AllowedMethods: [==] with EnforcedStyle: predicate</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
foo == 0

# bad
0 &gt; foo
bar.baz &gt; 0</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowedpatterns_-__-_default_-with-enforcedstyle_-comparison-stylenumericpredicate"><a class="anchor" href="#allowedpatterns_-__-_default_-with-enforcedstyle_-comparison-stylenumericpredicate"></a>AllowedPatterns: [] (default) with EnforcedStyle: comparison</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo.zero?
foo.negative?
bar.baz.positive?</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowedpatterns_-__zero__-with-enforcedstyle_-predicate-stylenumericpredicate"><a class="anchor" href="#allowedpatterns_-__zero__-with-enforcedstyle_-predicate-stylenumericpredicate"></a>AllowedPatterns: ['zero'] with EnforcedStyle: predicate</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
# bad
foo.zero?

# bad
foo.negative?
bar.baz.positive?</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylenumericpredicate"><a class="anchor" href="#configurable-attributes-stylenumericpredicate"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>predicate</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>predicate</code>, <code>comparison</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedPatterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exclude</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spec/**/*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylenumericpredicate"><a class="anchor" href="#references-stylenumericpredicate"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#predicate-methods" class="bare">https://rubystyle.guide#predicate-methods</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleobjectthen"><a class="anchor" href="#styleobjectthen"></a>Style/ObjectThen</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Required Ruby version: 2.6
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the use of consistent method names
<code>Object#yield_self</code> or <code>Object#then</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-styleobjectthen"><a class="anchor" href="#examples-styleobjectthen"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-then-_default_-styleobjectthen"><a class="anchor" href="#enforcedstyle_-then-_default_-styleobjectthen"></a>EnforcedStyle: then (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
obj.yield_self { |x| x.do_something }

# good
obj.then { |x| x.do_something }</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-yield_self-styleobjectthen"><a class="anchor" href="#enforcedstyle_-yield_self-styleobjectthen"></a>EnforcedStyle: yield_self</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
obj.then { |x| x.do_something }

# good
obj.yield_self { |x| x.do_something }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleobjectthen"><a class="anchor" href="#configurable-attributes-styleobjectthen"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>then</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>then</code>, <code>yield_self</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-styleobjectthen"><a class="anchor" href="#references-styleobjectthen"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#object-yield-self-vs-object-then" class="bare">https://rubystyle.guide#object-yield-self-vs-object-then</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleonelineconditional"><a class="anchor" href="#styleonelineconditional"></a>Style/OneLineConditional</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.90</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of if/then/else/end constructs on a single line.
AlwaysCorrectToMultiline config option can be set to true to auto-convert all offenses to
multi-line constructs. When AlwaysCorrectToMultiline is false (default case) the
autocorrect will first try converting them to ternary operators.</p>
</div>
<div class="sect2">
<h3 id="examples-styleonelineconditional"><a class="anchor" href="#examples-styleonelineconditional"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if foo then bar else baz end

# bad
unless foo then baz else bar end

# good
foo ? bar : baz

# good
bar if foo

# good
if foo then bar end

# good
if foo
  bar
else
  baz
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleonelineconditional"><a class="anchor" href="#configurable-attributes-styleonelineconditional"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AlwaysCorrectToMultiline</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-styleonelineconditional"><a class="anchor" href="#references-styleonelineconditional"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#ternary-operator" class="bare">https://rubystyle.guide#ternary-operator</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleopenstructuse"><a class="anchor" href="#styleopenstructuse"></a>Style/OpenStructUse</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.23</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.51</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Flags uses of OpenStruct, as it is now officially discouraged
to be used for performance, version compatibility, and potential security issues.</p>
</div>
<div class="sect2">
<h3 id="safety-styleopenstructuse"><a class="anchor" href="#safety-styleopenstructuse"></a>Safety</h3>
<div class="paragraph">
<p>Note that this cop may flag false positives; for instance, the following legal
use of a hand-rolled <code>OpenStruct</code> type would be considered an offense:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">module MyNamespace
  class OpenStruct # not the OpenStruct we're looking for
  end

  def new_struct
    OpenStruct.new # resolves to MyNamespace::OpenStruct
  end
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleopenstructuse"><a class="anchor" href="#examples-styleopenstructuse"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
point = OpenStruct.new(x: 0, y: 1)

# good
Point = Struct.new(:x, :y)
point = Point.new(0, 1)

# also good
point = { x: 0, y: 1 }

# bad
test_double = OpenStruct.new(a: 'b')

# good (assumes test using rspec-mocks)
test_double = double
allow(test_double).to receive(:a).and_return('b')</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleopenstructuse"><a class="anchor" href="#references-styleopenstructuse"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.ruby-lang.org/en/3.0.0/OpenStruct.html#class-OpenStruct-label-Caveats" class="bare">https://docs.ruby-lang.org/en/3.0.0/OpenStruct.html#class-OpenStruct-label-Caveats</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleoperatormethodcall"><a class="anchor" href="#styleoperatormethodcall"></a>Style/OperatorMethodCall</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.37</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant dot before operator method call.
The target operator methods are <code>|</code>, <code>^</code>, <code>&amp;</code>, <code>&lt;&#8658;</code>, <code>==</code>, <code>===</code>, <code>=~</code>, <code>&gt;</code>, <code>&gt;=</code>, <code>&lt;</code>,
<code>&#8656;</code>, <code>&lt;&lt;</code>, <code>&gt;&gt;</code>, <code>+</code>, <code>-</code>, <code><strong></code>, <code>/</code>, <code>%</code>, <code></strong>*</code>, <code>~</code>, <code>!</code>, <code>!=</code>, and <code>!~</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-styleoperatormethodcall"><a class="anchor" href="#examples-styleoperatormethodcall"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo.+ bar
foo.&amp; bar

# good
foo + bar
foo &amp; bar</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleoperatormethodcall"><a class="anchor" href="#references-styleoperatormethodcall"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#operator-method-call" class="bare">https://rubystyle.guide#operator-method-call</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleoptionhash"><a class="anchor" href="#styleoptionhash"></a>Style/OptionHash</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.33</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.34</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for options hashes and discourages them if the
current Ruby version supports keyword arguments.</p>
</div>
<div class="sect2">
<h3 id="examples-styleoptionhash"><a class="anchor" href="#examples-styleoptionhash"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def fry(options = {})
  temperature = options.fetch(:temperature, 300)
  # ...
end

# good
def fry(temperature: 300)
  # ...
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleoptionhash"><a class="anchor" href="#configurable-attributes-styleoptionhash"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SuspiciousParamNames</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>options</code>, <code>opts</code>, <code>args</code>, <code>params</code>, <code>parameters</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allowlist</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-styleoptionhash"><a class="anchor" href="#references-styleoptionhash"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#keyword-arguments-vs-option-hashes" class="bare">https://rubystyle.guide#keyword-arguments-vs-option-hashes</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleoptionalarguments"><a class="anchor" href="#styleoptionalarguments"></a>Style/OptionalArguments</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.33</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.83</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for optional arguments to methods
that do not come at the end of the argument list.</p>
</div>
<div class="sect2">
<h3 id="safety-styleoptionalarguments"><a class="anchor" href="#safety-styleoptionalarguments"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because changing a method signature will
implicitly change behavior.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleoptionalarguments"><a class="anchor" href="#examples-styleoptionalarguments"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def foo(a = 1, b, c)
end

# good
def baz(a, b, c = 1)
end

def foobar(a = 1, b = 2, c = 3)
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleoptionalarguments"><a class="anchor" href="#references-styleoptionalarguments"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#optional-arguments" class="bare">https://rubystyle.guide#optional-arguments</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleoptionalbooleanparameter"><a class="anchor" href="#styleoptionalbooleanparameter"></a>Style/OptionalBooleanParameter</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.89</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for places where keyword arguments can be used instead of
boolean arguments when defining methods. <code>respond_to_missing?</code> method is allowed by default.
These are customizable with <code>AllowedMethods</code> option.</p>
</div>
<div class="sect2">
<h3 id="safety-styleoptionalbooleanparameter"><a class="anchor" href="#safety-styleoptionalbooleanparameter"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because changing a method signature will
implicitly change behavior.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleoptionalbooleanparameter"><a class="anchor" href="#examples-styleoptionalbooleanparameter"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def some_method(bar = false)
  puts bar
end

# bad - common hack before keyword args were introduced
def some_method(options = {})
  bar = options.fetch(:bar, false)
  puts bar
end

# good
def some_method(bar: false)
  puts bar
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowedmethods_-__some_method__-styleoptionalbooleanparameter"><a class="anchor" href="#allowedmethods_-__some_method__-styleoptionalbooleanparameter"></a>AllowedMethods: ['some_method']</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
def some_method(bar = false)
  puts bar
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleoptionalbooleanparameter"><a class="anchor" href="#configurable-attributes-styleoptionalbooleanparameter"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>respond_to_missing?</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-styleoptionalbooleanparameter"><a class="anchor" href="#references-styleoptionalbooleanparameter"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#boolean-keyword-arguments" class="bare">https://rubystyle.guide#boolean-keyword-arguments</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleorassignment"><a class="anchor" href="#styleorassignment"></a>Style/OrAssignment</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.50</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for potential usage of the <code>||=</code> operator.</p>
</div>
<div class="sect2">
<h3 id="examples-styleorassignment"><a class="anchor" href="#examples-styleorassignment"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
name = name ? name : 'Bozhidar'

# bad
name = if name
         name
       else
         'Bozhidar'
       end

# bad
unless name
  name = 'Bozhidar'
end

# bad
name = 'Bozhidar' unless name

# good - set name to 'Bozhidar', only if it's nil or false
name ||= 'Bozhidar'</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleorassignment"><a class="anchor" href="#references-styleorassignment"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#double-pipe-for-uninit" class="bare">https://rubystyle.guide#double-pipe-for-uninit</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleparallelassignment"><a class="anchor" href="#styleparallelassignment"></a>Style/ParallelAssignment</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for simple usages of parallel assignment.
This will only complain when the number of variables
being assigned matched the number of assigning variables.</p>
</div>
<div class="sect2">
<h3 id="examples-styleparallelassignment"><a class="anchor" href="#examples-styleparallelassignment"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
a, b, c = 1, 2, 3
a, b, c = [1, 2, 3]

# good
one, two = *foo
a, b = foo()
a, b = b, a

a = 1
b = 2
c = 3</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleparallelassignment"><a class="anchor" href="#references-styleparallelassignment"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#parallel-assignment" class="bare">https://rubystyle.guide#parallel-assignment</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleparenthesesaroundcondition"><a class="anchor" href="#styleparenthesesaroundcondition"></a>Style/ParenthesesAroundCondition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.56</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the presence of superfluous parentheses around the
condition of if/unless/while/until.</p>
</div>
<div class="paragraph">
<p><code>AllowSafeAssignment</code> option for safe assignment.
By safe assignment we mean putting parentheses around
an assignment to indicate "I know I&#8217;m using an assignment
as a condition. It&#8217;s not a mistake."</p>
</div>
<div class="sect2">
<h3 id="examples-styleparenthesesaroundcondition"><a class="anchor" href="#examples-styleparenthesesaroundcondition"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
x += 1 while (x &lt; 10)
foo unless (bar || baz)

if (x &gt; 10)
elsif (x &lt; 3)
end

# good
x += 1 while x &lt; 10
foo unless bar || baz

if x &gt; 10
elsif x &lt; 3
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowsafeassignment_-true-_default_-styleparenthesesaroundcondition"><a class="anchor" href="#allowsafeassignment_-true-_default_-styleparenthesesaroundcondition"></a>AllowSafeAssignment: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
foo unless (bar = baz)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowsafeassignment_-false-styleparenthesesaroundcondition"><a class="anchor" href="#allowsafeassignment_-false-styleparenthesesaroundcondition"></a>AllowSafeAssignment: false</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo unless (bar = baz)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowinmultilineconditions_-false-_default_-styleparenthesesaroundcondition"><a class="anchor" href="#allowinmultilineconditions_-false-_default_-styleparenthesesaroundcondition"></a>AllowInMultilineConditions: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if (x &gt; 10 &amp;&amp;
   y &gt; 10)
end

# good
 if x &gt; 10 &amp;&amp;
    y &gt; 10
 end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowinmultilineconditions_-true-styleparenthesesaroundcondition"><a class="anchor" href="#allowinmultilineconditions_-true-styleparenthesesaroundcondition"></a>AllowInMultilineConditions: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
if (x &gt; 10 &amp;&amp;
   y &gt; 10)
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleparenthesesaroundcondition"><a class="anchor" href="#configurable-attributes-styleparenthesesaroundcondition"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowSafeAssignment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowInMultilineConditions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-styleparenthesesaroundcondition"><a class="anchor" href="#references-styleparenthesesaroundcondition"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-parens-around-condition" class="bare">https://rubystyle.guide#no-parens-around-condition</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylepercentliteraldelimiters"><a class="anchor" href="#stylepercentliteraldelimiters"></a>Style/PercentLiteralDelimiters</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.48</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the consistent usage of <code>%</code>-literal delimiters.</p>
</div>
<div class="paragraph">
<p>Specify the 'default' key to set all preferred delimiters at once. You
can continue to specify individual preferred delimiters to override the
default.</p>
</div>
<div class="sect2">
<h3 id="examples-stylepercentliteraldelimiters"><a class="anchor" href="#examples-stylepercentliteraldelimiters"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># Style/PercentLiteralDelimiters:
#   PreferredDelimiters:
#     default: '[]'
#     '%i':    '()'

# good
%w[alpha beta] + %i(gamma delta)

# bad
%W(alpha #{beta})

# bad
%I(alpha beta)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylepercentliteraldelimiters"><a class="anchor" href="#configurable-attributes-stylepercentliteraldelimiters"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PreferredDelimiters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{"default"&#8658;"()", "%i"&#8658;"[]", "%I"&#8658;"[]", "%r"&#8658;"{}", "%w"&#8658;"[]", "%W"&#8658;"[]"}</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylepercentliteraldelimiters"><a class="anchor" href="#references-stylepercentliteraldelimiters"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#percent-literal-braces" class="bare">https://rubystyle.guide#percent-literal-braces</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylepercentqliterals"><a class="anchor" href="#stylepercentqliterals"></a>Style/PercentQLiterals</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for usage of the %Q() syntax when %q() would do.</p>
</div>
<div class="sect2">
<h3 id="examples-stylepercentqliterals"><a class="anchor" href="#examples-stylepercentqliterals"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-lower_case_q-_default_-stylepercentqliterals"><a class="anchor" href="#enforcedstyle_-lower_case_q-_default_-stylepercentqliterals"></a>EnforcedStyle: lower_case_q (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># The `lower_case_q` style prefers `%q` unless
# interpolation is needed.
# bad
%Q[Mix the foo into the baz.]
%Q(They all said: 'Hooray!')

# good
%q[Mix the foo into the baz]
%q(They all said: 'Hooray!')</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-upper_case_q-stylepercentqliterals"><a class="anchor" href="#enforcedstyle_-upper_case_q-stylepercentqliterals"></a>EnforcedStyle: upper_case_q</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># The `upper_case_q` style requires the sole use of `%Q`.
# bad
%q/Mix the foo into the baz./
%q{They all said: 'Hooray!'}

# good
%Q/Mix the foo into the baz./
%Q{They all said: 'Hooray!'}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylepercentqliterals"><a class="anchor" href="#configurable-attributes-stylepercentqliterals"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lower_case_q</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lower_case_q</code>, <code>upper_case_q</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleperlbackrefs"><a class="anchor" href="#styleperlbackrefs"></a>Style/PerlBackrefs</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for uses of Perl-style regexp match
backreferences and their English versions like
$1, $2, $&amp;, &amp;+, $MATCH, $PREMATCH, etc.</p>
</div>
<div class="sect2">
<h3 id="examples-styleperlbackrefs"><a class="anchor" href="#examples-styleperlbackrefs"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
puts $1

# good
puts Regexp.last_match(1)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleperlbackrefs"><a class="anchor" href="#references-styleperlbackrefs"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-perl-regexp-last-matchers" class="bare">https://rubystyle.guide#no-perl-regexp-last-matchers</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylepreferredhashmethods"><a class="anchor" href="#stylepreferredhashmethods"></a>Style/PreferredHashMethods</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.41</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.70</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of methods <code>Hash#has_key?</code> and
<code>Hash#has_value?</code>, and suggests using <code>Hash#key?</code> and <code>Hash#value?</code> instead.</p>
</div>
<div class="paragraph">
<p>It is configurable to enforce the verbose method names, by using the
<code>EnforcedStyle: verbose</code> configuration.</p>
</div>
<div class="sect2">
<h3 id="safety-stylepreferredhashmethods"><a class="anchor" href="#safety-stylepreferredhashmethods"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because it cannot be guaranteed that the receiver
is a <code>Hash</code> or responds to the replacement methods.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylepreferredhashmethods"><a class="anchor" href="#examples-stylepreferredhashmethods"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-short-_default_-stylepreferredhashmethods"><a class="anchor" href="#enforcedstyle_-short-_default_-stylepreferredhashmethods"></a>EnforcedStyle: short (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
Hash#has_key?
Hash#has_value?

# good
Hash#key?
Hash#value?</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-verbose-stylepreferredhashmethods"><a class="anchor" href="#enforcedstyle_-verbose-stylepreferredhashmethods"></a>EnforcedStyle: verbose</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
Hash#key?
Hash#value?

# good
Hash#has_key?
Hash#has_value?</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylepreferredhashmethods"><a class="anchor" href="#configurable-attributes-stylepreferredhashmethods"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>short</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>short</code>, <code>verbose</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylepreferredhashmethods"><a class="anchor" href="#references-stylepreferredhashmethods"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#hash-key" class="bare">https://rubystyle.guide#hash-key</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleproc"><a class="anchor" href="#styleproc"></a>Style/Proc</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.18</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of Proc.new where Kernel#proc
would be more appropriate.</p>
</div>
<div class="sect2">
<h3 id="examples-styleproc"><a class="anchor" href="#examples-styleproc"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
p = Proc.new { |n| puts n }

# good
p = proc { |n| puts n }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleproc"><a class="anchor" href="#references-styleproc"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#proc" class="bare">https://rubystyle.guide#proc</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylequotedsymbols"><a class="anchor" href="#stylequotedsymbols"></a>Style/QuotedSymbols</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks if the quotes used for quoted symbols match the configured defaults.
By default uses the same configuration as <code>Style/StringLiterals</code>; if that
cop is not enabled, the default <code>EnforcedStyle</code> is <code>single_quotes</code>.</p>
</div>
<div class="paragraph">
<p>String interpolation is always kept in double quotes.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>Lint/SymbolConversion</code> can be used in parallel to ensure that symbols
are not quoted that don&#8217;t need to be. This cop is for configuring the quoting
style to use for symbols that require quotes.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-stylequotedsymbols"><a class="anchor" href="#examples-stylequotedsymbols"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-same_as_string_literals-_default_--single_quotes-stylequotedsymbols"><a class="anchor" href="#enforcedstyle_-same_as_string_literals-_default_--single_quotes-stylequotedsymbols"></a>EnforcedStyle: same_as_string_literals (default) / single_quotes</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
:"abc-def"

# good
:'abc-def'
:"#{str}"
:"a\'b"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-double_quotes-stylequotedsymbols"><a class="anchor" href="#enforcedstyle_-double_quotes-stylequotedsymbols"></a>EnforcedStyle: double_quotes</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
:'abc-def'

# good
:"abc-def"
:"#{str}"
:"a\'b"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylequotedsymbols"><a class="anchor" href="#configurable-attributes-stylequotedsymbols"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>same_as_string_literals</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>same_as_string_literals</code>, <code>single_quotes</code>, <code>double_quotes</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleraiseargs"><a class="anchor" href="#styleraiseargs"></a>Style/RaiseArgs</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.61</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks the args passed to <code>fail</code> and <code>raise</code>. For exploded
style (default), it recommends passing the exception class and message
to <code>raise</code>, rather than construct an instance of the error. It will
still allow passing just a message, or the construction of an error
with more than one argument.</p>
</div>
<div class="paragraph">
<p>The exploded style works identically, but with the addition that it
will also suggest constructing error objects when the exception is
passed multiple arguments.</p>
</div>
<div class="paragraph">
<p>The exploded style has an <code>AllowedCompactTypes</code> configuration
option that takes an Array of exception name Strings.</p>
</div>
<div class="sect2">
<h3 id="safety-styleraiseargs"><a class="anchor" href="#safety-styleraiseargs"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because <code>raise Foo</code> calls <code>Foo.exception</code>, not <code>Foo.new</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleraiseargs"><a class="anchor" href="#examples-styleraiseargs"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-exploded-_default_-styleraiseargs"><a class="anchor" href="#enforcedstyle_-exploded-_default_-styleraiseargs"></a>EnforcedStyle: exploded (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
raise StandardError.new('message')

# good
raise StandardError, 'message'
fail 'message'
raise MyCustomError
raise MyCustomError.new(arg1, arg2, arg3)
raise MyKwArgError.new(key1: val1, key2: val2)

# With `AllowedCompactTypes` set to ['MyWrappedError']
raise MyWrappedError.new(obj)
raise MyWrappedError.new(obj), 'message'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-compact-styleraiseargs"><a class="anchor" href="#enforcedstyle_-compact-styleraiseargs"></a>EnforcedStyle: compact</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
raise StandardError, 'message'
raise RuntimeError, arg1, arg2, arg3

# good
raise StandardError.new('message')
raise MyCustomError
raise MyCustomError.new(arg1, arg2, arg3)
fail 'message'</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleraiseargs"><a class="anchor" href="#configurable-attributes-styleraiseargs"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>exploded</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>compact</code>, <code>exploded</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedCompactTypes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-styleraiseargs"><a class="anchor" href="#references-styleraiseargs"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#exception-class-messages" class="bare">https://rubystyle.guide#exception-class-messages</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylerandomwithoffset"><a class="anchor" href="#stylerandomwithoffset"></a>Style/RandomWithOffset</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the use of randomly generated numbers,
added/subtracted with integer literals, as well as those with
Integer#succ and Integer#pred methods. Prefer using ranges instead,
as it clearly states the intentions.</p>
</div>
<div class="sect2">
<h3 id="examples-stylerandomwithoffset"><a class="anchor" href="#examples-stylerandomwithoffset"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
rand(6) + 1
1 + rand(6)
rand(6) - 1
1 - rand(6)
rand(6).succ
rand(6).pred
Random.rand(6) + 1
Kernel.rand(6) + 1
rand(0..5) + 1

# good
rand(1..6)
rand(1...7)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylerandomwithoffset"><a class="anchor" href="#references-stylerandomwithoffset"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#random-numbers" class="bare">https://rubystyle.guide#random-numbers</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantargument"><a class="anchor" href="#styleredundantargument"></a>Style/RedundantArgument</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.55</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for a redundant argument passed to certain methods.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This cop is limited to methods with single parameter.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Method names and their redundant arguments can be configured like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">Methods:
  join: ''
  sum: 0
  split: ' '
  chomp: "\n"
  chomp!: "\n"
  foo: 2</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="safety-styleredundantargument"><a class="anchor" href="#safety-styleredundantargument"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because of the following limitations:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>This cop matches by method names only and hence cannot tell apart
methods with same name in different classes.</p>
</li>
<li>
<p>This cop may be unsafe if certain special global variables (e.g. <code>$;</code>, <code>$/</code>) are set.
That depends on the nature of the target methods, of course. For example, the default
argument to join is <code>$OUTPUT_FIELD_SEPARATOR</code> (or <code>$,</code>) rather than <code>''</code>, and if that
global is changed, <code>''</code> is no longer a redundant argument.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleredundantargument"><a class="anchor" href="#examples-styleredundantargument"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
array.join('')
[1, 2, 3].join("")
array.sum(0)
exit(true)
exit!(false)
string.split(" ")
"first\nsecond".split(" ")
string.chomp("\n")
string.chomp!("\n")
A.foo(2)

# good
array.join
[1, 2, 3].join
array.sum
exit
exit!
string.split
"first second".split
string.chomp
string.chomp!
A.foo</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleredundantargument"><a class="anchor" href="#configurable-attributes-styleredundantargument"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Methods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{"join"&#8658;"", "sum"&#8658;0, "exit"&#8658;true, "exit!"&#8658;false, "split"&#8658;" ", "chomp"&#8658;"\n", "chomp!"&#8658;"\n"}</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantarrayconstructor"><a class="anchor" href="#styleredundantarrayconstructor"></a>Style/RedundantArrayConstructor</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the instantiation of array using redundant <code>Array</code> constructor.
Autocorrect replaces to array literal which is the simplest and fastest.</p>
</div>
<div class="sect2">
<h3 id="examples-styleredundantarrayconstructor"><a class="anchor" href="#examples-styleredundantarrayconstructor"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
Array.new([])
Array[]
Array([])
Array.new(['foo', 'foo', 'foo'])
Array['foo', 'foo', 'foo']
Array(['foo', 'foo', 'foo'])

# good
[]
['foo', 'foo', 'foo']
Array.new(3, 'foo')
Array.new(3) { 'foo' }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantassignment"><a class="anchor" href="#styleredundantassignment"></a>Style/RedundantAssignment</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.87</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant assignment before returning.</p>
</div>
<div class="sect2">
<h3 id="examples-styleredundantassignment"><a class="anchor" href="#examples-styleredundantassignment"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def test
  x = foo
  x
end

# bad
def test
  if x
    z = foo
    z
  elsif y
    z = bar
    z
  end
end

# good
def test
  foo
end

# good
def test
  if x
    foo
  elsif y
    bar
  end
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantbegin"><a class="anchor" href="#styleredundantbegin"></a>Style/RedundantBegin</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.21</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant <code>begin</code> blocks.</p>
</div>
<div class="paragraph">
<p>Currently it checks for code like this:</p>
</div>
<div class="sect2">
<h3 id="examples-styleredundantbegin"><a class="anchor" href="#examples-styleredundantbegin"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def redundant
  begin
    ala
    bala
  rescue StandardError =&gt; e
    something
  end
end

# good
def preferred
  ala
  bala
rescue StandardError =&gt; e
  something
end

# bad
begin
  do_something
end

# good
do_something

# bad
# When using Ruby 2.5 or later.
do_something do
  begin
    something
  rescue =&gt; ex
    anything
  end
end

# good
# In Ruby 2.5 or later, you can omit `begin` in `do-end` block.
do_something do
  something
rescue =&gt; ex
  anything
end

# good
# Stabby lambdas don't support implicit `begin` in `do-end` blocks.
-&gt; do
  begin
    foo
  rescue Bar
    baz
  end
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleredundantbegin"><a class="anchor" href="#references-styleredundantbegin"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#begin-implicit" class="bare">https://rubystyle.guide#begin-implicit</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantcapitalw"><a class="anchor" href="#styleredundantcapitalw"></a>Style/RedundantCapitalW</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.76</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for usage of the %W() syntax when %w() would do.</p>
</div>
<div class="sect2">
<h3 id="examples-styleredundantcapitalw"><a class="anchor" href="#examples-styleredundantcapitalw"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
%W(cat dog pig)
%W[door wall floor]

# good
%w/swim run bike/
%w[shirt pants shoes]
%W(apple #{fruit} grape)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantcondition"><a class="anchor" href="#styleredundantcondition"></a>Style/RedundantCondition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.76</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for unnecessary conditional expressions.</p>
</div>
<div class="sect2">
<h3 id="examples-styleredundantcondition"><a class="anchor" href="#examples-styleredundantcondition"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
a = b ? b : c

# good
a = b || c

# bad
if b
  b
else
  c
end

# good
b || c

# good
if b
  b
elsif cond
  c
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantconditional"><a class="anchor" href="#styleredundantconditional"></a>Style/RedundantConditional</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.50</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant returning of true/false in conditionals.</p>
</div>
<div class="sect2">
<h3 id="examples-styleredundantconditional"><a class="anchor" href="#examples-styleredundantconditional"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
x == y ? true : false

# bad
if x == y
  true
else
  false
end

# good
x == y

# bad
x == y ? false : true

# good
x != y</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantconstantbase"><a class="anchor" href="#styleredundantconstantbase"></a>Style/RedundantConstantBase</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.40</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Avoid redundant <code>::</code> prefix on constant.</p>
</div>
<div class="paragraph">
<p>How Ruby searches constant is a bit complicated, and it can often be difficult to
understand from the code whether the <code>::</code> is intended or not. Where <code>Module.nesting</code>
is empty, there is no need to prepend <code>::</code>, so it would be nice to consistently
avoid such meaningless <code>::</code> prefix to avoid confusion.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This cop is disabled if <code>Lint/ConstantResolution</code> cop is enabled to prevent
conflicting rules. Because it respects user configurations that want to enable
<code>Lint/ConstantResolution</code> cop which is disabled by default.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-styleredundantconstantbase"><a class="anchor" href="#examples-styleredundantconstantbase"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
::Const

# good
Const

# bad
class &lt;&lt; self
  ::Const
end

# good
class &lt;&lt; self
  Const
end

# good
class A
  ::Const
end

# good
module A
  ::Const
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantcurrentdirectoryinpath"><a class="anchor" href="#styleredundantcurrentdirectoryinpath"></a>Style/RedundantCurrentDirectoryInPath</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses a redundant current directory in path.</p>
</div>
<div class="sect2">
<h3 id="examples-styleredundantcurrentdirectoryinpath"><a class="anchor" href="#examples-styleredundantcurrentdirectoryinpath"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
require_relative './path/to/feature'

# good
require_relative 'path/to/feature'</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantdoublesplathashbraces"><a class="anchor" href="#styleredundantdoublesplathashbraces"></a>Style/RedundantDoubleSplatHashBraces</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.41</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant uses of double splat hash braces.</p>
</div>
<div class="sect2">
<h3 id="examples-styleredundantdoublesplathashbraces"><a class="anchor" href="#examples-styleredundantdoublesplathashbraces"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
do_something(**{foo: bar, baz: qux})

# good
do_something(foo: bar, baz: qux)

# bad
do_something(**{foo: bar, baz: qux}.merge(options))

# good
do_something(foo: bar, baz: qux, **options)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundanteach"><a class="anchor" href="#styleredundanteach"></a>Style/RedundantEach</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.38</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant <code>each</code>.</p>
</div>
<div class="sect2">
<h3 id="safety-styleredundanteach"><a class="anchor" href="#safety-styleredundanteach"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe, as it can produce false positives if the receiver
is not an <code>Enumerator</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleredundanteach"><a class="anchor" href="#examples-styleredundanteach"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
array.each.each { |v| do_something(v) }

# good
array.each { |v| do_something(v) }

# bad
array.each.each_with_index { |v, i| do_something(v, i) }

# good
array.each.with_index { |v, i| do_something(v, i) }
array.each_with_index { |v, i| do_something(v, i) }

# bad
array.each.each_with_object { |v, o| do_something(v, o) }

# good
array.each.with_object { |v, o| do_something(v, o) }
array.each_with_object { |v, o| do_something(v, o) }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantexception"><a class="anchor" href="#styleredundantexception"></a>Style/RedundantException</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.29</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for RuntimeError as the argument of raise/fail.</p>
</div>
<div class="sect2">
<h3 id="examples-styleredundantexception"><a class="anchor" href="#examples-styleredundantexception"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
raise RuntimeError, 'message'
raise RuntimeError.new('message')

# good
raise 'message'

# bad - message is not a string
raise RuntimeError, Object.new
raise RuntimeError.new(Object.new)

# good
raise Object.new.to_s</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleredundantexception"><a class="anchor" href="#references-styleredundantexception"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-explicit-runtimeerror" class="bare">https://rubystyle.guide#no-explicit-runtimeerror</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantfetchblock"><a class="anchor" href="#styleredundantfetchblock"></a>Style/RedundantFetchBlock</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.86</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Identifies places where <code>fetch(key) { value }</code> can be replaced by <code>fetch(key, value)</code>.</p>
</div>
<div class="paragraph">
<p>In such cases <code>fetch(key, value)</code> method is faster than <code>fetch(key) { value }</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The block string <code>'value'</code> in <code>hash.fetch(:key) { 'value' }</code> is detected
when frozen string literal magic comment is enabled (i.e. <code># frozen_string_literal: true</code>),
but not when disabled.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="safety-styleredundantfetchblock"><a class="anchor" href="#safety-styleredundantfetchblock"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because it cannot be guaranteed that the receiver
does not have a different implementation of <code>fetch</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleredundantfetchblock"><a class="anchor" href="#examples-styleredundantfetchblock"></a>Examples</h3>
<div class="sect3">
<h4 id="safeforconstants_-false-_default_-styleredundantfetchblock"><a class="anchor" href="#safeforconstants_-false-_default_-styleredundantfetchblock"></a>SafeForConstants: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
hash.fetch(:key) { 5 }
hash.fetch(:key) { true }
hash.fetch(:key) { nil }
array.fetch(5) { :value }
ENV.fetch(:key) { 'value' }

# good
hash.fetch(:key, 5)
hash.fetch(:key, true)
hash.fetch(:key, nil)
array.fetch(5, :value)
ENV.fetch(:key, 'value')</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="safeforconstants_-true-styleredundantfetchblock"><a class="anchor" href="#safeforconstants_-true-styleredundantfetchblock"></a>SafeForConstants: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
ENV.fetch(:key) { VALUE }

# good
ENV.fetch(:key, VALUE)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleredundantfetchblock"><a class="anchor" href="#configurable-attributes-styleredundantfetchblock"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SafeForConstants</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-styleredundantfetchblock"><a class="anchor" href="#references-styleredundantfetchblock"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/fastruby/fast-ruby#hashfetch-with-argument-vs-hashfetch&#8212;&#8203;block-code" class="bare">https://github.com/fastruby/fast-ruby#hashfetch-with-argument-vs-hashfetch&#8212;&#8203;block-code</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantfileextensioninrequire"><a class="anchor" href="#styleredundantfileextensioninrequire"></a>Style/RedundantFileExtensionInRequire</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.88</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the presence of superfluous <code>.rb</code> extension in
the filename provided to <code>require</code> and <code>require_relative</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the extension is omitted, Ruby tries adding '.rb', '.so',
      and so on to the name until found. If the file named cannot be found,
      a <code>LoadError</code> will be raised.
      There is an edge case where <code>foo.so</code> file is loaded instead of a <code>LoadError</code>
      if <code>foo.so</code> file exists when <code>require 'foo.rb'</code> will be changed to <code>require 'foo'</code>,
      but that seems harmless.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-styleredundantfileextensioninrequire"><a class="anchor" href="#examples-styleredundantfileextensioninrequire"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
require 'foo.rb'
require_relative '../foo.rb'

# good
require 'foo'
require 'foo.so'
require_relative '../foo'
require_relative '../foo.so'</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleredundantfileextensioninrequire"><a class="anchor" href="#references-styleredundantfileextensioninrequire"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-explicit-rb-to-require" class="bare">https://rubystyle.guide#no-explicit-rb-to-require</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantfilterchain"><a class="anchor" href="#styleredundantfilterchain"></a>Style/RedundantFilterChain</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.57</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Identifies usages of <code>any?</code>, <code>empty?</code> or <code>none?</code> predicate methods
chained to <code>select</code>/<code>filter</code>/<code>find_all</code> and change them to use predicate method instead.</p>
</div>
<div class="sect2">
<h3 id="safety-styleredundantfilterchain"><a class="anchor" href="#safety-styleredundantfilterchain"></a>Safety</h3>
<div class="paragraph">
<p>This cop&#8217;s autocorrection is unsafe because <code>array.select.any?</code> evaluates all elements
through the <code>select</code> method, while <code>array.any?</code> uses short-circuit evaluation.
In other words, <code>array.select.any?</code> guarantees the evaluation of every element,
but <code>array.any?</code> does not necessarily evaluate all of them.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleredundantfilterchain"><a class="anchor" href="#examples-styleredundantfilterchain"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
arr.select { |x| x &gt; 1 }.any?

# good
arr.any? { |x| x &gt; 1 }

# bad
arr.select { |x| x &gt; 1 }.empty?
arr.select { |x| x &gt; 1 }.none?

# good
arr.none? { |x| x &gt; 1 }

# good
relation.select(:name).any?
arr.select { |x| x &gt; 1 }.any?(&amp;:odd?)</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allcops_activesupportextensionsenabled_-false-_default_-styleredundantfilterchain"><a class="anchor" href="#allcops_activesupportextensionsenabled_-false-_default_-styleredundantfilterchain"></a>AllCops:ActiveSupportExtensionsEnabled: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
arr.select { |x| x &gt; 1 }.many?

# good
arr.select { |x| x &gt; 1 }.present?</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allcops_activesupportextensionsenabled_-true-styleredundantfilterchain"><a class="anchor" href="#allcops_activesupportextensionsenabled_-true-styleredundantfilterchain"></a>AllCops:ActiveSupportExtensionsEnabled: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
arr.select { |x| x &gt; 1 }.many?

# good
arr.many? { |x| x &gt; 1 }

# bad
arr.select { |x| x &gt; 1 }.present?

# good
arr.any? { |x| x &gt; 1 }</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantfreeze"><a class="anchor" href="#styleredundantfreeze"></a>Style/RedundantFreeze</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.34</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.66</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Check for uses of <code>Object#freeze</code> on immutable objects.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Regexp and Range literals are frozen objects since Ruby 3.0.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
From Ruby 3.0, this cop allows explicit freezing of interpolated
string literals when <code># frozen-string-literal: true</code> is used.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-styleredundantfreeze"><a class="anchor" href="#examples-styleredundantfreeze"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
CONST = 1.freeze

# good
CONST = 1</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantheredocdelimiterquotes"><a class="anchor" href="#styleredundantheredocdelimiterquotes"></a>Style/RedundantHeredocDelimiterQuotes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.45</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant heredoc delimiter quotes.</p>
</div>
<div class="sect2">
<h3 id="examples-styleredundantheredocdelimiterquotes"><a class="anchor" href="#examples-styleredundantheredocdelimiterquotes"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
do_something(&lt;&lt;~'EOS')
  no string interpolation style text
EOS

# good
do_something(&lt;&lt;~EOS)
  no string interpolation style text
EOS

do_something(&lt;&lt;~'EOS')
  #{string_interpolation_style_text_not_evaluated}
EOS

do_something(&lt;&lt;~'EOS')
  Preserve \
  newlines
EOS</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantinitialize"><a class="anchor" href="#styleredundantinitialize"></a>Style/RedundantInitialize</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command-line only (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.27</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.61</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for <code>initialize</code> methods that are redundant.</p>
</div>
<div class="paragraph">
<p>An initializer is redundant if it does not do anything, or if it only
calls <code>super</code> with the same arguments given to it. If the initializer takes
an argument that accepts multiple values (<code>restarg</code>, <code>kwrestarg</code>, etc.) it
will not register an offense, because it allows the initializer to take a different
number of arguments as its superclass potentially does.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If an initializer argument has a default value, RuboCop assumes it
to <strong>not</strong> be redundant.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Empty initializers are registered as offenses, but it is possible
to purposely create an empty <code>initialize</code> method to override a superclass&#8217;s
initializer.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="safety-styleredundantinitialize"><a class="anchor" href="#safety-styleredundantinitialize"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because if subclass overrides <code>initialize</code> method with
a different arity than superclass.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleredundantinitialize"><a class="anchor" href="#examples-styleredundantinitialize"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def initialize
end

# bad
def initialize
  super
end

# bad
def initialize(a, b)
  super
end

# bad
def initialize(a, b)
  super(a, b)
end

# good
def initialize
  do_something
end

# good
def initialize
  do_something
  super
end

# good (different number of parameters)
def initialize(a, b)
  super(a)
end

# good (default value)
def initialize(a, b = 5)
  super
end

# good (default value)
def initialize(a, b: 5)
  super
end

# good (changes the parameter requirements)
def initialize(*)
end

# good (changes the parameter requirements)
def initialize(**)
end

# good (changes the parameter requirements)
def initialize(...)
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowcomments_-true-_default_-styleredundantinitialize"><a class="anchor" href="#allowcomments_-true-_default_-styleredundantinitialize"></a>AllowComments: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
def initialize
  # Overriding to negate superclass `initialize` method.
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowcomments_-false-styleredundantinitialize"><a class="anchor" href="#allowcomments_-false-styleredundantinitialize"></a>AllowComments: false</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def initialize
  # Overriding to negate superclass `initialize` method.
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleredundantinitialize"><a class="anchor" href="#configurable-attributes-styleredundantinitialize"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowComments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantinterpolation"><a class="anchor" href="#styleredundantinterpolation"></a>Style/RedundantInterpolation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.76</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.30</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for strings that are just an interpolated expression.</p>
</div>
<div class="sect2">
<h3 id="safety-styleredundantinterpolation"><a class="anchor" href="#safety-styleredundantinterpolation"></a>Safety</h3>
<div class="paragraph">
<p>Autocorrection is unsafe because when calling a destructive method to string,
the resulting string may have different behavior or raise <code>FrozenError</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">x = 'a'
y = "#{x}"
y &lt;&lt; 'b'   # return 'ab'
x          # return 'a'
y = x.to_s
y &lt;&lt; 'b'   # return 'ab'
x          # return 'ab'

x = 'a'.freeze
y = "#{x}"
y &lt;&lt; 'b'   # return 'ab'.
y = x.to_s
y &lt;&lt; 'b'   # raise `FrozenError`.</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleredundantinterpolation"><a class="anchor" href="#examples-styleredundantinterpolation"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
"#{@var}"

# good
@var.to_s

# good if @var is already a String
@var</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantinterpolationunfreeze"><a class="anchor" href="#styleredundantinterpolationunfreeze"></a>Style/RedundantInterpolationUnfreeze</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Required Ruby version: 3.0
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.66</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Before Ruby 3.0, interpolated strings followed the frozen string literal
magic comment which sometimes made it necessary to explicitly unfreeze them.
Ruby 3.0 changed interpolated strings to always be unfrozen which makes
unfreezing them redundant.</p>
</div>
<div class="sect2">
<h3 id="examples-styleredundantinterpolationunfreeze"><a class="anchor" href="#examples-styleredundantinterpolationunfreeze"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
+"#{foo} bar"

# bad
"#{foo} bar".dup

# good
"#{foo} bar"</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantlinecontinuation"><a class="anchor" href="#styleredundantlinecontinuation"></a>Style/RedundantLineContinuation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.49</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Check for redundant line continuation.</p>
</div>
<div class="paragraph">
<p>This cop marks a line continuation as redundant if removing the backslash
does not result in a syntax error.
However, a backslash at the end of a comment or
for string concatenation is not redundant and is not considered an offense.</p>
</div>
<div class="sect2">
<h3 id="examples-styleredundantlinecontinuation"><a class="anchor" href="#examples-styleredundantlinecontinuation"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo. \
  bar
foo \
  &amp;.bar \
    .baz

# good
foo.
  bar
foo
  &amp;.bar
    .baz

# bad
[foo, \
  bar]
{foo: \
  bar}

# good
[foo,
  bar]
{foo:
  bar}

# bad
foo(bar, \
  baz)

# good
foo(bar,
  baz)

# also good - backslash in string concatenation is not redundant
foo('bar' \
  'baz')

# also good - backslash at the end of a comment is not redundant
foo(bar, # \
  baz)

# also good - backslash at the line following the newline begins with a + or -,
# it is not redundant
1 \
  + 2 \
    - 3

# also good - backslash with newline between the method name and its arguments,
# it is not redundant.
some_method \
  (argument)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantparentheses"><a class="anchor" href="#styleredundantparentheses"></a>Style/RedundantParentheses</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant parentheses.</p>
</div>
<div class="sect2">
<h3 id="examples-styleredundantparentheses"><a class="anchor" href="#examples-styleredundantparentheses"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
(x) if ((y.z).nil?)

# good
x if y.z.nil?</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantpercentq"><a class="anchor" href="#styleredundantpercentq"></a>Style/RedundantPercentQ</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.76</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for usage of the %q/%Q syntax when '' or "" would do.</p>
</div>
<div class="sect2">
<h3 id="examples-styleredundantpercentq"><a class="anchor" href="#examples-styleredundantpercentq"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
name = %q(Bruce Wayne)
time = %q(8 o'clock)
question = %q("What did you say?")

# good
name = 'Bruce Wayne'
time = "8 o'clock"
question = '"What did you say?"'</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleredundantpercentq"><a class="anchor" href="#references-styleredundantpercentq"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#percent-q" class="bare">https://rubystyle.guide#percent-q</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantregexpargument"><a class="anchor" href="#styleredundantregexpargument"></a>Style/RedundantRegexpArgument</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Identifies places where argument can be replaced from
a deterministic regexp to a string.</p>
</div>
<div class="sect2">
<h3 id="examples-styleredundantregexpargument"><a class="anchor" href="#examples-styleredundantregexpargument"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
'foo'.byteindex(/f/)
'foo'.byterindex(/f/)
'foo'.gsub(/f/, 'x')
'foo'.gsub!(/f/, 'x')
'foo'.partition(/f/)
'foo'.rpartition(/f/)
'foo'.scan(/f/)
'foo'.split(/f/)
'foo'.start_with?(/f/)
'foo'.sub(/f/, 'x')
'foo'.sub!(/f/, 'x')

# good
'foo'.byteindex('f')
'foo'.byterindex('f')
'foo'.gsub('f', 'x')
'foo'.gsub!('f', 'x')
'foo'.partition('f')
'foo'.rpartition('f')
'foo'.scan('f')
'foo'.split('f')
'foo'.start_with?('f')
'foo'.sub('f', 'x')
'foo'.sub!('f', 'x')</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantregexpcharacterclass"><a class="anchor" href="#styleredundantregexpcharacterclass"></a>Style/RedundantRegexpCharacterClass</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.85</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for unnecessary single-element Regexp character classes.</p>
</div>
<div class="sect2">
<h3 id="examples-styleredundantregexpcharacterclass"><a class="anchor" href="#examples-styleredundantregexpcharacterclass"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
r = /[x]/

# good
r = /x/

# bad
r = /[\s]/

# good
r = /\s/

# bad
r = %r{/[b]}

# good
r = %r{/b}

# good
r = /[ab]/</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantregexpconstructor"><a class="anchor" href="#styleredundantregexpconstructor"></a>Style/RedundantRegexpConstructor</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the instantiation of regexp using redundant <code>Regexp.new</code> or <code>Regexp.compile</code>.
Autocorrect replaces to regexp literal which is the simplest and fastest.</p>
</div>
<div class="sect2">
<h3 id="examples-styleredundantregexpconstructor"><a class="anchor" href="#examples-styleredundantregexpconstructor"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
Regexp.new(/regexp/)
Regexp.compile(/regexp/)

# good
/regexp/
Regexp.new('regexp')
Regexp.compile('regexp')</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantregexpescape"><a class="anchor" href="#styleredundantregexpescape"></a>Style/RedundantRegexpEscape</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.85</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant escapes inside Regexp literals.</p>
</div>
<div class="sect2">
<h3 id="examples-styleredundantregexpescape"><a class="anchor" href="#examples-styleredundantregexpescape"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
%r{foo\/bar}

# good
%r{foo/bar}

# good
/foo\/bar/

# good
%r/foo\/bar/

# good
%r!foo\!bar!

# bad
/a\-b/

# good
/a-b/

# bad
/[\+\-]\d/

# good
/[+\-]\d/</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantreturn"><a class="anchor" href="#styleredundantreturn"></a>Style/RedundantReturn</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.14</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant <code>return</code> expressions.</p>
</div>
<div class="sect2">
<h3 id="examples-styleredundantreturn"><a class="anchor" href="#examples-styleredundantreturn"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># These bad cases should be extended to handle methods whose body is
# if/else or a case expression with a default branch.

# bad
def test
  return something
end

# bad
def test
  one
  two
  three
  return something
end

# bad
def test
  return something if something_else
end

# good
def test
  something if something_else
end

# good
def test
  if x
  elsif y
  else
  end
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowmultiplereturnvalues_-false-_default_-styleredundantreturn"><a class="anchor" href="#allowmultiplereturnvalues_-false-_default_-styleredundantreturn"></a>AllowMultipleReturnValues: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def test
  return x, y
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowmultiplereturnvalues_-true-styleredundantreturn"><a class="anchor" href="#allowmultiplereturnvalues_-true-styleredundantreturn"></a>AllowMultipleReturnValues: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
def test
  return x, y
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleredundantreturn"><a class="anchor" href="#configurable-attributes-styleredundantreturn"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowMultipleReturnValues</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-styleredundantreturn"><a class="anchor" href="#references-styleredundantreturn"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-explicit-return" class="bare">https://rubystyle.guide#no-explicit-return</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantself"><a class="anchor" href="#styleredundantself"></a>Style/RedundantSelf</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.13</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant uses of <code>self</code>.</p>
</div>
<div class="paragraph">
<p>The usage of <code>self</code> is only needed when:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sending a message to same object with zero arguments in
presence of a method name clash with an argument or a local
variable.</p>
</li>
<li>
<p>Calling an attribute writer to prevent a local variable assignment.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note, with using explicit self you can only send messages with public or
protected scope, you cannot send private messages this way.</p>
</div>
<div class="paragraph">
<p>Note we allow uses of <code>self</code> with operators because it would be awkward
otherwise. Also allows the use of <code>self.it</code> without arguments in blocks,
as in <code>0.times { self.it }</code>, following <code>Lint/ItWithoutArgumentsInBlock</code> cop.</p>
</div>
<div class="sect2">
<h3 id="examples-styleredundantself"><a class="anchor" href="#examples-styleredundantself"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def foo(bar)
  self.baz
end

# good
def foo(bar)
  self.bar  # Resolves name clash with the argument.
end

def foo
  bar = 1
  self.bar  # Resolves name clash with the local variable.
end

def foo
  %w[x y z].select do |bar|
    self.bar == bar  # Resolves name clash with argument of the block.
  end
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleredundantself"><a class="anchor" href="#references-styleredundantself"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-self-unless-required" class="bare">https://rubystyle.guide#no-self-unless-required</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantselfassignment"><a class="anchor" href="#styleredundantselfassignment"></a>Style/RedundantSelfAssignment</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.90</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for places where redundant assignments are made for in place
modification methods.</p>
</div>
<div class="sect2">
<h3 id="safety-styleredundantselfassignment"><a class="anchor" href="#safety-styleredundantselfassignment"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe, because it can produce false positives for
user defined methods having one of the expected names, but not modifying
its receiver in place.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleredundantselfassignment"><a class="anchor" href="#examples-styleredundantselfassignment"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
args = args.concat(ary)
hash = hash.merge!(other)

# good
args.concat(foo)
args += foo
hash.merge!(other)

# bad
self.foo = foo.concat(ary)

# good
foo.concat(ary)
self.foo += ary</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantselfassignmentbranch"><a class="anchor" href="#styleredundantselfassignmentbranch"></a>Style/RedundantSelfAssignmentBranch</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for places where conditional branch makes redundant self-assignment.</p>
</div>
<div class="paragraph">
<p>It only detects local variable because it may replace state of instance variable,
class variable, and global variable that have state across methods with <code>nil</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-styleredundantselfassignmentbranch"><a class="anchor" href="#examples-styleredundantselfassignmentbranch"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo = condition ? bar : foo

# good
foo = bar if condition

# bad
foo = condition ? foo : bar

# good
foo = bar unless condition</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantsort"><a class="anchor" href="#styleredundantsort"></a>Style/RedundantSort</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.76</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.22</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Identifies instances of sorting and then
taking only the first or last element. The same behavior can
be accomplished without a relatively expensive sort by using
<code>Enumerable#min</code> instead of sorting and taking the first
element and <code>Enumerable#max</code> instead of sorting and taking the
last element. Similarly, <code>Enumerable#min_by</code> and
<code>Enumerable#max_by</code> can replace <code>Enumerable#sort_by</code> calls
after which only the first or last element is used.</p>
</div>
<div class="sect2">
<h3 id="safety-styleredundantsort"><a class="anchor" href="#safety-styleredundantsort"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe, because <code>sort&#8230;&#8203;last</code> and <code>max</code> may not return the
same element in all cases.</p>
</div>
<div class="paragraph">
<p>In an enumerable where there are multiple elements where <code>a &lt;&#8658; b == 0</code>,
or where the transformation done by the <code>sort_by</code> block has the
same result, <code>sort.last</code> and <code>max</code> (or <code>sort_by.last</code> and <code>max_by</code>)
will return different elements. <code>sort.last</code> will return the last
element but <code>max</code> will return the first element.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">  class MyString &lt; String; end
  strings = [MyString.new('test'), 'test']
  strings.sort.last.class   #=&gt; String
  strings.max.class         #=&gt; MyString</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">  words = %w(dog horse mouse)
  words.sort_by { |word| word.length }.last   #=&gt; 'mouse'
  words.max_by { |word| word.length }         #=&gt; 'horse'</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleredundantsort"><a class="anchor" href="#examples-styleredundantsort"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
[2, 1, 3].sort.first
[2, 1, 3].sort[0]
[2, 1, 3].sort.at(0)
[2, 1, 3].sort.slice(0)

# good
[2, 1, 3].min

# bad
[2, 1, 3].sort.last
[2, 1, 3].sort[-1]
[2, 1, 3].sort.at(-1)
[2, 1, 3].sort.slice(-1)

# good
[2, 1, 3].max

# bad
arr.sort_by(&amp;:foo).first
arr.sort_by(&amp;:foo)[0]
arr.sort_by(&amp;:foo).at(0)
arr.sort_by(&amp;:foo).slice(0)

# good
arr.min_by(&amp;:foo)

# bad
arr.sort_by(&amp;:foo).last
arr.sort_by(&amp;:foo)[-1]
arr.sort_by(&amp;:foo).at(-1)
arr.sort_by(&amp;:foo).slice(-1)

# good
arr.max_by(&amp;:foo)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantsortby"><a class="anchor" href="#styleredundantsortby"></a>Style/RedundantSortBy</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Identifies places where <code>sort_by { &#8230;&#8203; }</code> can be replaced by
<code>sort</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-styleredundantsortby"><a class="anchor" href="#examples-styleredundantsortby"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
array.sort_by { |x| x }
array.sort_by do |var|
  var
end

# good
array.sort</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleredundantstringescape"><a class="anchor" href="#styleredundantstringescape"></a>Style/RedundantStringEscape</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.37</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant escapes in string literals.</p>
</div>
<div class="sect2">
<h3 id="examples-styleredundantstringescape"><a class="anchor" href="#examples-styleredundantstringescape"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad - no need to escape # without following {/$/@
"\#foo"

# bad - no need to escape single quotes inside double quoted string
"\'foo\'"

# bad - heredocs are also checked for unnecessary escapes
&lt;&lt;~STR
  \#foo \"foo\"
STR

# good
"#foo"

# good
"\#{no_interpolation}"

# good
"'foo'"

# good
"foo\
bar"

# good
&lt;&lt;~STR
  #foo "foo"
STR</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleregexpliteral"><a class="anchor" href="#styleregexpliteral"></a>Style/RegexpLiteral</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.30</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces using <code>//</code> or <code>%r</code> around regular expressions.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The following <code>%r</code> cases using a regexp starts with a blank or <code>=</code>
as a method argument allowed to prevent syntax errors.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">do_something %r{ regexp} # `do_something / regexp/` is an invalid syntax.
do_something %r{=regexp} # `do_something /=regexp/` is an invalid syntax.</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleregexpliteral"><a class="anchor" href="#examples-styleregexpliteral"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-slashes-_default_-styleregexpliteral"><a class="anchor" href="#enforcedstyle_-slashes-_default_-styleregexpliteral"></a>EnforcedStyle: slashes (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
snake_case = %r{^[\dA-Z_]+$}

# bad
regex = %r{
  foo
  (bar)
  (baz)
}x

# good
snake_case = /^[\dA-Z_]+$/

# good
regex = /
  foo
  (bar)
  (baz)
/x</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-percent_r-styleregexpliteral"><a class="anchor" href="#enforcedstyle_-percent_r-styleregexpliteral"></a>EnforcedStyle: percent_r</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
snake_case = /^[\dA-Z_]+$/

# bad
regex = /
  foo
  (bar)
  (baz)
/x

# good
snake_case = %r{^[\dA-Z_]+$}

# good
regex = %r{
  foo
  (bar)
  (baz)
}x</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-mixed-styleregexpliteral"><a class="anchor" href="#enforcedstyle_-mixed-styleregexpliteral"></a>EnforcedStyle: mixed</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
snake_case = %r{^[\dA-Z_]+$}

# bad
regex = /
  foo
  (bar)
  (baz)
/x

# good
snake_case = /^[\dA-Z_]+$/

# good
regex = %r{
  foo
  (bar)
  (baz)
}x</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowinnerslashes_-false-_default_-styleregexpliteral"><a class="anchor" href="#allowinnerslashes_-false-_default_-styleregexpliteral"></a>AllowInnerSlashes: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># If `false`, the cop will always recommend using `%r` if one or more
# slashes are found in the regexp string.

# bad
x =~ /home\//

# good
x =~ %r{home/}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowinnerslashes_-true-styleregexpliteral"><a class="anchor" href="#allowinnerslashes_-true-styleregexpliteral"></a>AllowInnerSlashes: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
x =~ /home\//</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleregexpliteral"><a class="anchor" href="#configurable-attributes-styleregexpliteral"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>slashes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>slashes</code>, <code>percent_r</code>, <code>mixed</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowInnerSlashes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-styleregexpliteral"><a class="anchor" href="#references-styleregexpliteral"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#percent-r" class="bare">https://rubystyle.guide#percent-r</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylerequireorder"><a class="anchor" href="#stylerequireorder"></a>Style/RequireOrder</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.40</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Sort <code>require</code> and <code>require_relative</code> in alphabetical order.</p>
</div>
<div class="sect2">
<h3 id="safety-stylerequireorder"><a class="anchor" href="#safety-stylerequireorder"></a>Safety</h3>
<div class="paragraph">
<p>This cop&#8217;s autocorrection is unsafe because it will obviously change the execution order.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylerequireorder"><a class="anchor" href="#examples-stylerequireorder"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
require 'b'
require 'a'

# good
require 'a'
require 'b'

# bad
require_relative 'b'
require_relative 'a'

# good
require_relative 'a'
require_relative 'b'

# good (sorted within each section separated by a blank line)
require 'a'
require 'd'

require 'b'
require 'c'

# good
require 'b'
require_relative 'c'
require 'a'

# bad
require 'a'
require 'c' if foo
require 'b'

# good
require 'a'
require 'b'
require 'c' if foo

# bad
require 'c'
if foo
  require 'd'
  require 'b'
end
require 'a'

# good
require 'c'
if foo
  require 'b'
  require 'd'
end
require 'a'</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylerescuemodifier"><a class="anchor" href="#stylerescuemodifier"></a>Style/RescueModifier</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.34</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of <code>rescue</code> in its modifier form is added for following
reasons:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The syntax of modifier form <code>rescue</code> can be misleading because it
might lead us to believe that <code>rescue</code> handles the given exception
but it actually rescue all exceptions to return the given rescue
block. In this case, value returned by handle_error or
SomeException.</p>
</li>
<li>
<p>Modifier form <code>rescue</code> would rescue all the exceptions. It would
silently skip all exception or errors and handle the error.
Example: If <code>NoMethodError</code> is raised, modifier form rescue would
handle the exception.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="examples-stylerescuemodifier"><a class="anchor" href="#examples-stylerescuemodifier"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
some_method rescue handle_error

# bad
some_method rescue SomeException

# good
begin
  some_method
rescue
  handle_error
end

# good
begin
  some_method
rescue SomeException
  handle_error
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylerescuemodifier"><a class="anchor" href="#references-stylerescuemodifier"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-rescue-modifiers" class="bare">https://rubystyle.guide#no-rescue-modifiers</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylerescuestandarderror"><a class="anchor" href="#stylerescuestandarderror"></a>Style/RescueStandardError</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for rescuing <code>StandardError</code>. There are two supported
styles <code>implicit</code> and <code>explicit</code>. This cop will not register an offense
if any error other than <code>StandardError</code> is specified.</p>
</div>
<div class="sect2">
<h3 id="examples-stylerescuestandarderror"><a class="anchor" href="#examples-stylerescuestandarderror"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-explicit-_default_-stylerescuestandarderror"><a class="anchor" href="#enforcedstyle_-explicit-_default_-stylerescuestandarderror"></a>EnforcedStyle: explicit (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># `explicit` will enforce using `rescue StandardError`
# instead of `rescue`.

# bad
begin
  foo
rescue
  bar
end

# good
begin
  foo
rescue StandardError
  bar
end

# good
begin
  foo
rescue OtherError
  bar
end

# good
begin
  foo
rescue StandardError, SecurityError
  bar
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-implicit-stylerescuestandarderror"><a class="anchor" href="#enforcedstyle_-implicit-stylerescuestandarderror"></a>EnforcedStyle: implicit</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># `implicit` will enforce using `rescue` instead of
# `rescue StandardError`.

# bad
begin
  foo
rescue StandardError
  bar
end

# good
begin
  foo
rescue
  bar
end

# good
begin
  foo
rescue OtherError
  bar
end

# good
begin
  foo
rescue StandardError, SecurityError
  bar
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylerescuestandarderror"><a class="anchor" href="#configurable-attributes-stylerescuestandarderror"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>explicit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>implicit</code>, <code>explicit</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylereturnnil"><a class="anchor" href="#stylereturnnil"></a>Style/ReturnNil</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.50</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces consistency between <code>return nil</code> and <code>return</code>.</p>
</div>
<div class="paragraph">
<p>This cop is disabled by default. Because there seems to be a perceived semantic difference
between <code>return</code> and <code>return nil</code>. The former can be seen as just halting evaluation,
while the latter might be used when the return value is of specific concern.</p>
</div>
<div class="paragraph">
<p>Supported styles are <code>return</code> and <code>return_nil</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-stylereturnnil"><a class="anchor" href="#examples-stylereturnnil"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-return-_default_-stylereturnnil"><a class="anchor" href="#enforcedstyle_-return-_default_-stylereturnnil"></a>EnforcedStyle: return (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def foo(arg)
  return nil if arg
end

# good
def foo(arg)
  return if arg
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-return_nil-stylereturnnil"><a class="anchor" href="#enforcedstyle_-return_nil-stylereturnnil"></a>EnforcedStyle: return_nil</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def foo(arg)
  return if arg
end

# good
def foo(arg)
  return nil if arg
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylereturnnil"><a class="anchor" href="#configurable-attributes-stylereturnnil"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>return</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>return</code>, <code>return_nil</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylereturnnilinpredicatemethoddefinition"><a class="anchor" href="#stylereturnnilinpredicatemethoddefinition"></a>Style/ReturnNilInPredicateMethodDefinition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.67</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for predicate method definitions that return <code>nil</code>.
A predicate method should only return a boolean value.</p>
</div>
<div class="sect2">
<h3 id="safety-stylereturnnilinpredicatemethoddefinition"><a class="anchor" href="#safety-stylereturnnilinpredicatemethoddefinition"></a>Safety</h3>
<div class="paragraph">
<p>Autocorrection is marked as unsafe because the change of the return value
from <code>nil</code> to <code>false</code> could potentially lead to incompatibility issues.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylereturnnilinpredicatemethoddefinition"><a class="anchor" href="#examples-stylereturnnilinpredicatemethoddefinition"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def foo?
  return if condition

  do_something?
end

# bad
def foo?
  return nil if condition

  do_something?
end

# good
def foo?
  return false if condition

  do_something?
end

# bad
def foo?
  if condition
    nil
  else
    true
  end
end

# good
def foo?
  if condition
    false
  else
    true
  end
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowedmethods_-__foo___-stylereturnnilinpredicatemethoddefinition"><a class="anchor" href="#allowedmethods_-__foo___-stylereturnnilinpredicatemethoddefinition"></a>AllowedMethods: ['foo?']</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
def foo?
  return if condition

  do_something?
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowedpatterns_-_foo_-stylereturnnilinpredicatemethoddefinition"><a class="anchor" href="#allowedpatterns_-_foo_-stylereturnnilinpredicatemethoddefinition"></a>AllowedPatterns: [/foo/]</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
def foo?
  return if condition

  do_something?
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylereturnnilinpredicatemethoddefinition"><a class="anchor" href="#configurable-attributes-stylereturnnilinpredicatemethoddefinition"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedPatterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylereturnnilinpredicatemethoddefinition"><a class="anchor" href="#references-stylereturnnilinpredicatemethoddefinition"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#bool-methods-qmark" class="bare">https://rubystyle.guide#bool-methods-qmark</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylesafenavigation"><a class="anchor" href="#stylesafenavigation"></a>Style/SafeNavigation</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Required Ruby version: 2.3
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.43</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.67</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Transforms usages of a method call safeguarded by a non <code>nil</code>
check for the variable whose method is being called to
safe navigation (<code>&amp;.</code>). If there is a method chain, all of the methods
in the chain need to be checked for safety, and all of the methods will
need to be changed to use safe navigation.</p>
</div>
<div class="paragraph">
<p>The default for <code>ConvertCodeThatCanStartToReturnNil</code> is <code>false</code>.
When configured to <code>true</code>, this will
check for code in the format <code>!foo.nil? &amp;&amp; foo.bar</code>. As it is written,
the return of this code is limited to <code>false</code> and whatever the return
of the method is. If this is converted to safe navigation,
<code>foo&amp;.bar</code> can start returning <code>nil</code> as well as what the method
returns.</p>
</div>
<div class="paragraph">
<p>The default for <code>MaxChainLength</code> is <code>2</code>.
We have limited the cop to not register an offense for method chains
that exceed this option&#8217;s value.</p>
</div>
<div class="sect2">
<h3 id="safety-stylesafenavigation"><a class="anchor" href="#safety-stylesafenavigation"></a>Safety</h3>
<div class="paragraph">
<p>Autocorrection is unsafe because if a value is <code>false</code>, the resulting
code will have different behavior or raise an error.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">x = false
x &amp;&amp; x.foo  # return false
x&amp;.foo      # raises NoMethodError</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylesafenavigation"><a class="anchor" href="#examples-stylesafenavigation"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo.bar if foo
foo.bar.baz if foo
foo.bar(param1, param2) if foo
foo.bar { |e| e.something } if foo
foo.bar(param) { |e| e.something } if foo

foo.bar if !foo.nil?
foo.bar unless !foo
foo.bar unless foo.nil?

foo &amp;&amp; foo.bar
foo &amp;&amp; foo.bar.baz
foo &amp;&amp; foo.bar(param1, param2)
foo &amp;&amp; foo.bar { |e| e.something }
foo &amp;&amp; foo.bar(param) { |e| e.something }

foo ? foo.bar : nil
foo.nil? ? nil : foo.bar
!foo.nil? ? foo.bar : nil
!foo ? nil : foo.bar

# good
foo&amp;.bar
foo&amp;.bar&amp;.baz
foo&amp;.bar(param1, param2)
foo&amp;.bar { |e| e.something }
foo&amp;.bar(param) { |e| e.something }
foo &amp;&amp; foo.bar.baz.qux # method chain with more than 2 methods
foo &amp;&amp; foo.nil? # method that `nil` responds to

# Method calls that do not use `.`
foo &amp;&amp; foo &lt; bar
foo &lt; bar if foo

# When checking `foo&amp;.empty?` in a conditional, `foo` being `nil` will actually
# do the opposite of what the author intends.
foo &amp;&amp; foo.empty?

# This could start returning `nil` as well as the return of the method
foo.nil? || foo.bar
!foo || foo.bar

# Methods that are used on assignment, arithmetic operation or
# comparison should not be converted to use safe navigation
foo.baz = bar if foo
foo.baz + bar if foo
foo.bar &gt; 2 if foo</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylesafenavigation"><a class="anchor" href="#configurable-attributes-stylesafenavigation"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConvertCodeThatCanStartToReturnNil</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>present?</code>, <code>blank?</code>, <code>presence</code>, <code>try</code>, <code>try!</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MaxChainLength</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylesample"><a class="anchor" href="#stylesample"></a>Style/Sample</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Identifies usages of <code>shuffle.first</code>,
<code>shuffle.last</code>, and <code>shuffle[]</code> and change them to use
<code>sample</code> instead.</p>
</div>
<div class="sect2">
<h3 id="examples-stylesample"><a class="anchor" href="#examples-stylesample"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
[1, 2, 3].shuffle.first
[1, 2, 3].shuffle.first(2)
[1, 2, 3].shuffle.last
[2, 1, 3].shuffle.at(0)
[2, 1, 3].shuffle.slice(0)
[1, 2, 3].shuffle[2]
[1, 2, 3].shuffle[0, 2]    # sample(2) will do the same
[1, 2, 3].shuffle[0..2]    # sample(3) will do the same
[1, 2, 3].shuffle(random: Random.new).first

# good
[1, 2, 3].shuffle
[1, 2, 3].sample
[1, 2, 3].sample(3)
[1, 2, 3].shuffle[1, 3]    # sample(3) might return a longer Array
[1, 2, 3].shuffle[1..3]    # sample(3) might return a longer Array
[1, 2, 3].shuffle[foo, bar]
[1, 2, 3].shuffle(random: Random.new)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylesample"><a class="anchor" href="#references-stylesample"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/fastruby/fast-ruby#arrayshufflefirst-vs-arraysample-code" class="bare">https://github.com/fastruby/fast-ruby#arrayshufflefirst-vs-arraysample-code</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleselectbyregexp"><a class="anchor" href="#styleselectbyregexp"></a>Style/SelectByRegexp</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for places where an subset of an Enumerable (array,
range, set, etc.; see note below) is calculated based on a <code>Regexp</code>
match, and suggests <code>grep</code> or <code>grep_v</code> instead.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Hashes do not behave as you may expect with <code>grep</code>, which
means that <code>hash.grep</code> is not equivalent to <code>hash.select</code>. Although
RuboCop is limited by static analysis, this cop attempts to avoid
registering an offense when the receiver is a hash (hash literal,
<code>Hash.new</code>, <code>Hash#[]</code>, or <code>to_h</code>/<code>to_hash</code>).
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>grep</code> and <code>grep_v</code> were optimized when used without a block
in Ruby 3.0, but may be slower in previous versions.
See <a href="https://bugs.ruby-lang.org/issues/17030" class="bare">https://bugs.ruby-lang.org/issues/17030</a>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="safety-styleselectbyregexp"><a class="anchor" href="#safety-styleselectbyregexp"></a>Safety</h3>
<div class="paragraph">
<p>Autocorrection is marked as unsafe because <code>MatchData</code> will
not be created by <code>grep</code>, but may have previously been relied
upon after the <code>match?</code> or <code>=~</code> call.</p>
</div>
<div class="paragraph">
<p>Additionally, the cop cannot guarantee that the receiver of
<code>select</code> or <code>reject</code> is actually an array by static analysis,
so the correction may not be actually equivalent.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleselectbyregexp"><a class="anchor" href="#examples-styleselectbyregexp"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad (select, filter, or find_all)
array.select { |x| x.match? /regexp/ }
array.select { |x| /regexp/.match?(x) }
array.select { |x| x =~ /regexp/ }
array.select { |x| /regexp/ =~ x }

# bad (reject)
array.reject { |x| x.match? /regexp/ }
array.reject { |x| /regexp/.match?(x) }
array.reject { |x| x =~ /regexp/ }
array.reject { |x| /regexp/ =~ x }

# good
array.grep(regexp)
array.grep_v(regexp)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleselfassignment"><a class="anchor" href="#styleselfassignment"></a>Style/SelfAssignment</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.29</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the use the shorthand for self-assignment.</p>
</div>
<div class="sect2">
<h3 id="examples-styleselfassignment"><a class="anchor" href="#examples-styleselfassignment"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
x = x + 1

# good
x += 1</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleselfassignment"><a class="anchor" href="#references-styleselfassignment"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#self-assignment" class="bare">https://rubystyle.guide#self-assignment</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylesemicolon"><a class="anchor" href="#stylesemicolon"></a>Style/Semicolon</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.19</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for multiple expressions placed on the same line.
It also checks for lines terminated with a semicolon.</p>
</div>
<div class="paragraph">
<p>This cop has <code>AllowAsExpressionSeparator</code> configuration option.
It allows <code>;</code> to separate several expressions on the same line.</p>
</div>
<div class="sect2">
<h3 id="examples-stylesemicolon"><a class="anchor" href="#examples-stylesemicolon"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo = 1; bar = 2;
baz = 3;

# good
foo = 1
bar = 2
baz = 3</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowasexpressionseparator_-false-_default_-stylesemicolon"><a class="anchor" href="#allowasexpressionseparator_-false-_default_-stylesemicolon"></a>AllowAsExpressionSeparator: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo = 1; bar = 2</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowasexpressionseparator_-true-stylesemicolon"><a class="anchor" href="#allowasexpressionseparator_-true-stylesemicolon"></a>AllowAsExpressionSeparator: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
foo = 1; bar = 2</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylesemicolon"><a class="anchor" href="#configurable-attributes-stylesemicolon"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowAsExpressionSeparator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylesemicolon"><a class="anchor" href="#references-stylesemicolon"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-semicolon" class="bare">https://rubystyle.guide#no-semicolon</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylesend"><a class="anchor" href="#stylesend"></a>Style/Send</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.33</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the use of the send method.</p>
</div>
<div class="sect2">
<h3 id="examples-stylesend"><a class="anchor" href="#examples-stylesend"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
Foo.send(bar)
quuz.send(fred)

# good
Foo.__send__(bar)
quuz.public_send(fred)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylesend"><a class="anchor" href="#references-stylesend"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#prefer-public-send" class="bare">https://rubystyle.guide#prefer-public-send</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylesendwithliteralmethodname"><a class="anchor" href="#stylesendwithliteralmethodname"></a>Style/SendWithLiteralMethodName</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Detects the use of the <code>public_send</code> method with a literal method name argument.
Since the <code>send</code> method can be used to call private methods, by default,
only the <code>public_send</code> method is detected.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Writer methods with names ending in <code>=</code> are always permitted because their
behavior differs as follows:
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">def foo=(foo)
  @foo = foo
  42
end

self.foo = 1   # =&gt; 1
send(:foo=, 1) # =&gt; 42</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="safety-stylesendwithliteralmethodname"><a class="anchor" href="#safety-stylesendwithliteralmethodname"></a>Safety</h3>
<div class="paragraph">
<p>This cop is not safe because it can incorrectly detect based on the receiver.
Additionally, when <code>AllowSend</code> is set to <code>true</code>, it cannot determine whether
the <code>send</code> method being detected is calling a private method.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylesendwithliteralmethodname"><a class="anchor" href="#examples-stylesendwithliteralmethodname"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
obj.public_send(:method_name)
obj.public_send('method_name')

# good
obj.method_name</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowsend_-true-_default_-stylesendwithliteralmethodname"><a class="anchor" href="#allowsend_-true-_default_-stylesendwithliteralmethodname"></a>AllowSend: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
obj.send(:method_name)
obj.send('method_name')
obj.__send__(:method_name)
obj.__send__('method_name')</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowsend_-false-stylesendwithliteralmethodname"><a class="anchor" href="#allowsend_-false-stylesendwithliteralmethodname"></a>AllowSend: false</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
obj.send(:method_name)
obj.send('method_name')
obj.__send__(:method_name)
obj.__send__('method_name')

# good
obj.method_name</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylesendwithliteralmethodname"><a class="anchor" href="#configurable-attributes-stylesendwithliteralmethodname"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowSend</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylesignalexception"><a class="anchor" href="#stylesignalexception"></a>Style/SignalException</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.37</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of <code>fail</code> and <code>raise</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-stylesignalexception"><a class="anchor" href="#examples-stylesignalexception"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-only_raise-_default_-stylesignalexception"><a class="anchor" href="#enforcedstyle_-only_raise-_default_-stylesignalexception"></a>EnforcedStyle: only_raise (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># The `only_raise` style enforces the sole use of `raise`.
# bad
begin
  fail
rescue Exception
  # handle it
end

def watch_out
  fail
rescue Exception
  # handle it
end

Kernel.fail

# good
begin
  raise
rescue Exception
  # handle it
end

def watch_out
  raise
rescue Exception
  # handle it
end

Kernel.raise</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-only_fail-stylesignalexception"><a class="anchor" href="#enforcedstyle_-only_fail-stylesignalexception"></a>EnforcedStyle: only_fail</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># The `only_fail` style enforces the sole use of `fail`.
# bad
begin
  raise
rescue Exception
  # handle it
end

def watch_out
  raise
rescue Exception
  # handle it
end

Kernel.raise

# good
begin
  fail
rescue Exception
  # handle it
end

def watch_out
  fail
rescue Exception
  # handle it
end

Kernel.fail</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-semantic-stylesignalexception"><a class="anchor" href="#enforcedstyle_-semantic-stylesignalexception"></a>EnforcedStyle: semantic</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># The `semantic` style enforces the use of `fail` to signal an
# exception, then will use `raise` to trigger an offense after
# it has been rescued.
# bad
begin
  raise
rescue Exception
  # handle it
end

def watch_out
  # Error thrown
rescue Exception
  fail
end

Kernel.fail
Kernel.raise

# good
begin
  fail
rescue Exception
  # handle it
end

def watch_out
  fail
rescue Exception
  raise 'Preferably with descriptive message'
end

explicit_receiver.fail
explicit_receiver.raise</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylesignalexception"><a class="anchor" href="#configurable-attributes-stylesignalexception"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>only_raise</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>only_raise</code>, <code>only_fail</code>, <code>semantic</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylesignalexception"><a class="anchor" href="#references-stylesignalexception"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#prefer-raise-over-fail" class="bare">https://rubystyle.guide#prefer-raise-over-fail</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylesingleargumentdig"><a class="anchor" href="#stylesingleargumentdig"></a>Style/SingleArgumentDig</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.89</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Sometimes using <code>dig</code> method ends up with just a single
argument. In such cases, dig should be replaced with <code>[]</code>.</p>
</div>
<div class="paragraph">
<p>Since replacing <code>hash&amp;.dig(:key)</code> with <code>hash[:key]</code> could potentially lead to error,
calls to the <code>dig</code> method using safe navigation will be ignored.</p>
</div>
<div class="sect2">
<h3 id="safety-stylesingleargumentdig"><a class="anchor" href="#safety-stylesingleargumentdig"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because it cannot be guaranteed that the receiver
is an <code>Enumerable</code> or does not have a nonstandard implementation
of <code>dig</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylesingleargumentdig"><a class="anchor" href="#examples-stylesingleargumentdig"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
{ key: 'value' }.dig(:key)
[1, 2, 3].dig(0)

# good
{ key: 'value' }[:key]
[1, 2, 3][0]

# good
{ key1: { key2: 'value' } }.dig(:key1, :key2)
[1, [2, [3]]].dig(1, 1)

# good
keys = %i[key1 key2]
{ key1: { key2: 'value' } }.dig(*keys)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylesinglelineblockparams"><a class="anchor" href="#stylesinglelineblockparams"></a>Style/SingleLineBlockParams</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.6</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks whether the block parameters of a single-line
method accepting a block match the names specified via configuration.</p>
</div>
<div class="paragraph">
<p>For instance one can configure <code>reduce</code>(<code>inject</code>) to use |a, e| as
parameters.</p>
</div>
<div class="paragraph">
<p>Configuration option: Methods
Should be set to use this cop. Array of hashes, where each key is the
method name and value - array of argument names.</p>
</div>
<div class="sect2">
<h3 id="examples-stylesinglelineblockparams"><a class="anchor" href="#examples-stylesinglelineblockparams"></a>Examples</h3>
<div class="sect3">
<h4 id="methods_-__reduce_-_w_a-b___-stylesinglelineblockparams"><a class="anchor" href="#methods_-__reduce_-_w_a-b___-stylesinglelineblockparams"></a>Methods: [{reduce: %w[a b]}]</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo.reduce { |c, d| c + d }
foo.reduce { |_, _d| 1 }

# good
foo.reduce { |a, b| a + b }
foo.reduce { |a, _b| a }
foo.reduce { |a, (id, _)| a + id }
foo.reduce { true }

# good
foo.reduce do |c, d|
  c + d
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylesinglelineblockparams"><a class="anchor" href="#configurable-attributes-stylesinglelineblockparams"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Methods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{"reduce"&#8658;["acc", "elem"]}</code>, <code>{"inject"&#8658;["acc", "elem"]}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylesinglelinedoendblock"><a class="anchor" href="#stylesinglelinedoendblock"></a>Style/SingleLineDoEndBlock</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.57</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for single-line <code>do</code>&#8230;&#8203;<code>end</code> block.</p>
</div>
<div class="paragraph">
<p>In practice a single line <code>do</code>&#8230;&#8203;<code>end</code> is autocorrected when <code>EnforcedStyle: semantic</code>
in <code>Style/BlockDelimiters</code>. The autocorrection maintains the <code>do</code> &#8230;&#8203; <code>end</code> syntax to
preserve semantics and does not change it to <code>{</code>&#8230;&#8203;<code>}</code> block.</p>
</div>
<div class="sect2">
<h3 id="examples-stylesinglelinedoendblock"><a class="anchor" href="#examples-stylesinglelinedoendblock"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo do |arg| bar(arg) end

# good
foo do |arg|
  bar(arg)
end

# bad
-&gt;(arg) do bar(arg) end

# good
-&gt;(arg) { bar(arg) }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylesinglelinedoendblock"><a class="anchor" href="#references-stylesinglelinedoendblock"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#single-line-do-end-block" class="bare">https://rubystyle.guide#single-line-do-end-block</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylesinglelinemethods"><a class="anchor" href="#stylesinglelinemethods"></a>Style/SingleLineMethods</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.8</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for single-line method definitions that contain a body.
It will accept single-line methods with no body.</p>
</div>
<div class="paragraph">
<p>Endless methods added in Ruby 3.0 are also accepted by this cop.</p>
</div>
<div class="paragraph">
<p>If <code>Style/EndlessMethod</code> is enabled with <code>EnforcedStyle: allow_single_line</code> or
<code>allow_always</code>, single-line methods will be autocorrected to endless
methods if there is only one statement in the body.</p>
</div>
<div class="sect2">
<h3 id="examples-stylesinglelinemethods"><a class="anchor" href="#examples-stylesinglelinemethods"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def some_method; body end
def link_to(url); {:name =&gt; url}; end
def @table.columns; super; end

# good
def self.resource_class=(klass); end
def @table.columns; end
def some_method() = body</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowifmethodisempty_-true-_default_-stylesinglelinemethods"><a class="anchor" href="#allowifmethodisempty_-true-_default_-stylesinglelinemethods"></a>AllowIfMethodIsEmpty: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
def no_op; end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowifmethodisempty_-false-stylesinglelinemethods"><a class="anchor" href="#allowifmethodisempty_-false-stylesinglelinemethods"></a>AllowIfMethodIsEmpty: false</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def no_op; end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylesinglelinemethods"><a class="anchor" href="#configurable-attributes-stylesinglelinemethods"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowIfMethodIsEmpty</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylesinglelinemethods"><a class="anchor" href="#references-stylesinglelinemethods"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-single-line-methods" class="bare">https://rubystyle.guide#no-single-line-methods</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleslicingwithrange"><a class="anchor" href="#styleslicingwithrange"></a>Style/SlicingWithRange</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Required Ruby version: 2.6
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.83</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks that arrays are not sliced with the redundant <code>ary[0..-1]</code>, replacing it with <code>ary</code>,
and ensures arrays are sliced with endless ranges instead of <code>ary[start..-1]</code> on Ruby 2.6+,
and with beginless ranges instead of <code>ary[nil..end]</code> on Ruby 2.7+.</p>
</div>
<div class="sect2">
<h3 id="safety-styleslicingwithrange"><a class="anchor" href="#safety-styleslicingwithrange"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because <code>x..-1</code> and <code>x..</code> are only guaranteed to
be equivalent for <code>Array#[]</code>, <code>String#[]</code>, and the cop cannot determine what class
the receiver is.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">sum = proc { |ary| ary.sum }
sum[-3..-1] # =&gt; -6
sum[-3..] # Hangs forever</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleslicingwithrange"><a class="anchor" href="#examples-styleslicingwithrange"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
items[0..-1]
items[0..nil]
items[0...nil]

# good
items

# bad
items[1..-1]   # Ruby 2.6+
items[1..nil]  # Ruby 2.6+

# good
items[1..]     # Ruby 2.6+

# bad
items[nil..42] # Ruby 2.7+

# good
items[..42]    # Ruby 2.7+
items[0..42]   # Ruby 2.7+</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleslicingwithrange"><a class="anchor" href="#references-styleslicingwithrange"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#slicing-with-ranges" class="bare">https://rubystyle.guide#slicing-with-ranges</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylesolenestedconditional"><a class="anchor" href="#stylesolenestedconditional"></a>Style/SoleNestedConditional</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.89</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.5</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If the branch of a conditional consists solely of a conditional node,
its conditions can be combined with the conditions of the outer branch.
This helps to keep the nesting level from getting too deep.</p>
</div>
<div class="sect2">
<h3 id="examples-stylesolenestedconditional"><a class="anchor" href="#examples-stylesolenestedconditional"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if condition_a
  if condition_b
    do_something
  end
end

# bad
if condition_b
  do_something
end if condition_a

# good
if condition_a &amp;&amp; condition_b
  do_something
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowmodifier_-false-_default_-stylesolenestedconditional"><a class="anchor" href="#allowmodifier_-false-_default_-stylesolenestedconditional"></a>AllowModifier: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if condition_a
  do_something if condition_b
end

# bad
if condition_b
  do_something
end if condition_a</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowmodifier_-true-stylesolenestedconditional"><a class="anchor" href="#allowmodifier_-true-stylesolenestedconditional"></a>AllowModifier: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
if condition_a
  do_something if condition_b
end

# good
if condition_b
  do_something
end if condition_a</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylesolenestedconditional"><a class="anchor" href="#configurable-attributes-stylesolenestedconditional"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowModifier</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylespecialglobalvars"><a class="anchor" href="#stylespecialglobalvars"></a>Style/SpecialGlobalVars</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.36</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for uses of Perl-style global variables.
Correcting to global variables in the 'English' library
will add a require statement to the top of the file if
enabled by RequireEnglish config.</p>
</div>
<div class="sect2">
<h3 id="safety-stylespecialglobalvars"><a class="anchor" href="#safety-stylespecialglobalvars"></a>Safety</h3>
<div class="paragraph">
<p>Autocorrection is marked as unsafe because if <code>RequireEnglish</code> is not
true, replacing perl-style variables with english variables will break.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylespecialglobalvars"><a class="anchor" href="#examples-stylespecialglobalvars"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-use_english_names-_default_-stylespecialglobalvars"><a class="anchor" href="#enforcedstyle_-use_english_names-_default_-stylespecialglobalvars"></a>EnforcedStyle: use_english_names (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
require 'English' # or this could be in another file.

puts $LOAD_PATH
puts $LOADED_FEATURES
puts $PROGRAM_NAME
puts $ERROR_INFO
puts $ERROR_POSITION
puts $FIELD_SEPARATOR # or $FS
puts $OUTPUT_FIELD_SEPARATOR # or $OFS
puts $INPUT_RECORD_SEPARATOR # or $RS
puts $OUTPUT_RECORD_SEPARATOR # or $ORS
puts $INPUT_LINE_NUMBER # or $NR
puts $LAST_READ_LINE
puts $DEFAULT_OUTPUT
puts $DEFAULT_INPUT
puts $PROCESS_ID # or $PID
puts $CHILD_STATUS
puts $LAST_MATCH_INFO
puts $IGNORECASE
puts $ARGV # or ARGV</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-use_perl_names-stylespecialglobalvars"><a class="anchor" href="#enforcedstyle_-use_perl_names-stylespecialglobalvars"></a>EnforcedStyle: use_perl_names</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
puts $:
puts $"
puts $0
puts $!
puts $@
puts $;
puts $,
puts $/
puts $\
puts $.
puts $_
puts $&gt;
puts $&lt;
puts $$
puts $?
puts $~
puts $=
puts $*</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-use_builtin_english_names-stylespecialglobalvars"><a class="anchor" href="#enforcedstyle_-use_builtin_english_names-stylespecialglobalvars"></a>EnforcedStyle: use_builtin_english_names</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
# Like `use_perl_names` but allows builtin global vars.
puts $LOAD_PATH
puts $LOADED_FEATURES
puts $PROGRAM_NAME
puts ARGV
puts $:
puts $"
puts $0
puts $!
puts $@
puts $;
puts $,
puts $/
puts $\
puts $.
puts $_
puts $&gt;
puts $&lt;
puts $$
puts $?
puts $~
puts $=
puts $*</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylespecialglobalvars"><a class="anchor" href="#configurable-attributes-stylespecialglobalvars"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RequireEnglish</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>use_english_names</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>use_perl_names</code>, <code>use_english_names</code>, <code>use_builtin_english_names</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylespecialglobalvars"><a class="anchor" href="#references-stylespecialglobalvars"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-cryptic-perlisms" class="bare">https://rubystyle.guide#no-cryptic-perlisms</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylestabbylambdaparentheses"><a class="anchor" href="#stylestabbylambdaparentheses"></a>Style/StabbyLambdaParentheses</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.35</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Check for parentheses around stabby lambda arguments.
There are two different styles. Defaults to <code>require_parentheses</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-stylestabbylambdaparentheses"><a class="anchor" href="#examples-stylestabbylambdaparentheses"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-require_parentheses-_default_-stylestabbylambdaparentheses"><a class="anchor" href="#enforcedstyle_-require_parentheses-_default_-stylestabbylambdaparentheses"></a>EnforcedStyle: require_parentheses (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
-&gt;a,b,c { a + b + c }

# good
-&gt;(a,b,c) { a + b + c}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-require_no_parentheses-stylestabbylambdaparentheses"><a class="anchor" href="#enforcedstyle_-require_no_parentheses-stylestabbylambdaparentheses"></a>EnforcedStyle: require_no_parentheses</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
-&gt;(a,b,c) { a + b + c }

# good
-&gt;a,b,c { a + b + c}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylestabbylambdaparentheses"><a class="anchor" href="#configurable-attributes-stylestabbylambdaparentheses"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>require_parentheses</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>require_parentheses</code>, <code>require_no_parentheses</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylestabbylambdaparentheses"><a class="anchor" href="#references-stylestabbylambdaparentheses"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#stabby-lambda-with-args" class="bare">https://rubystyle.guide#stabby-lambda-with-args</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylestaticclass"><a class="anchor" href="#stylestaticclass"></a>Style/StaticClass</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for places where classes with only class methods can be
replaced with a module. Classes should be used only when it makes sense to create
instances out of them.</p>
</div>
<div class="sect2">
<h3 id="safety-stylestaticclass"><a class="anchor" href="#safety-stylestaticclass"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe, because it is possible that this class is a parent
for some other subclass, monkey-patched with instance methods or
a dummy instance is instantiated from it somewhere.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylestaticclass"><a class="anchor" href="#examples-stylestaticclass"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class SomeClass
  def self.some_method
    # body omitted
  end

  def self.some_other_method
    # body omitted
  end
end

# good
module SomeModule
  module_function

  def some_method
    # body omitted
  end

  def some_other_method
    # body omitted
  end
end

# good - has instance method
class SomeClass
  def instance_method; end
  def self.class_method; end
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylestaticclass"><a class="anchor" href="#references-stylestaticclass"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#modules-vs-classes" class="bare">https://rubystyle.guide#modules-vs-classes</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylestderrputs"><a class="anchor" href="#stylestderrputs"></a>Style/StderrPuts</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.51</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Identifies places where <code>$stderr.puts</code> can be replaced by
<code>warn</code>. The latter has the advantage of easily being disabled by,
the <code>-W0</code> interpreter flag or setting <code>$VERBOSE</code> to <code>nil</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-stylestderrputs"><a class="anchor" href="#examples-stylestderrputs"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
$stderr.puts('hello')

# good
warn('hello')</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylestderrputs"><a class="anchor" href="#references-stylestderrputs"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#warn" class="bare">https://rubystyle.guide#warn</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylestringchars"><a class="anchor" href="#stylestringchars"></a>Style/StringChars</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of <code>String#split</code> with empty string or regexp literal argument.</p>
</div>
<div class="sect2">
<h3 id="safety-stylestringchars"><a class="anchor" href="#safety-stylestringchars"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because it cannot be guaranteed that the receiver
is actually a string. If another class has a <code>split</code> method with
different behavior, it would be registered as a false positive.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylestringchars"><a class="anchor" href="#examples-stylestringchars"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
string.split(//)
string.split('')

# good
string.chars</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylestringchars"><a class="anchor" href="#references-stylestringchars"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#string-chars" class="bare">https://rubystyle.guide#string-chars</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylestringconcatenation"><a class="anchor" href="#stylestringconcatenation"></a>Style/StringConcatenation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.89</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.18</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for places where string concatenation
can be replaced with string interpolation.</p>
</div>
<div class="paragraph">
<p>The cop can autocorrect simple cases but will skip autocorrecting
more complex cases where the resulting code would be harder to read.
In those cases, it might be useful to extract statements to local
variables or methods which you can then interpolate in a string.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
When concatenation between two strings is broken over multiple
lines, this cop does not register an offense; instead,
<code>Style/LineEndConcatenation</code> will pick up the offense if enabled.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Two modes are supported:
1. <code>aggressive</code> style checks and corrects all occurrences of <code>` where
either the left or right side of `</code> is a string literal.
2. <code>conservative</code> style on the other hand, checks and corrects only if
left side (receiver of <code>+</code> method call) is a string literal.
This is useful when the receiver is some expression that returns string like <code>Pathname</code>
instead of a string literal.</p>
</div>
<div class="sect2">
<h3 id="safety-stylestringconcatenation"><a class="anchor" href="#safety-stylestringconcatenation"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe in <code>aggressive</code> mode, as it cannot be guaranteed that
the receiver is actually a string, which can result in a false positive.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylestringconcatenation"><a class="anchor" href="#examples-stylestringconcatenation"></a>Examples</h3>
<div class="sect3">
<h4 id="mode_-aggressive-_default_-stylestringconcatenation"><a class="anchor" href="#mode_-aggressive-_default_-stylestringconcatenation"></a>Mode: aggressive (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
email_with_name = user.name + ' &lt;' + user.email + '&gt;'
Pathname.new('/') + 'test'

# good
email_with_name = "#{user.name} &lt;#{user.email}&gt;"
email_with_name = format('%s &lt;%s&gt;', user.name, user.email)
"#{Pathname.new('/')}test"

# accepted, line-end concatenation
name = 'First' +
  'Last'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="mode_-conservative-stylestringconcatenation"><a class="anchor" href="#mode_-conservative-stylestringconcatenation"></a>Mode: conservative</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
'Hello' + user.name

# good
"Hello #{user.name}"
user.name + '!!'
Pathname.new('/') + 'test'</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylestringconcatenation"><a class="anchor" href="#configurable-attributes-stylestringconcatenation"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>aggressive</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylestringconcatenation"><a class="anchor" href="#references-stylestringconcatenation"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#string-interpolation" class="bare">https://rubystyle.guide#string-interpolation</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylestringhashkeys"><a class="anchor" href="#stylestringhashkeys"></a>Style/StringHashKeys</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.75</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the use of strings as keys in hashes. The use of
symbols is preferred instead.</p>
</div>
<div class="sect2">
<h3 id="safety-stylestringhashkeys"><a class="anchor" href="#safety-stylestringhashkeys"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because while symbols are preferred for hash keys,
there are instances when string keys are required.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylestringhashkeys"><a class="anchor" href="#examples-stylestringhashkeys"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
{ 'one' =&gt; 1, 'two' =&gt; 2, 'three' =&gt; 3 }

# good
{ one: 1, two: 2, three: 3 }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylestringhashkeys"><a class="anchor" href="#references-stylestringhashkeys"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#symbols-as-keys" class="bare">https://rubystyle.guide#symbols-as-keys</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylestringliterals"><a class="anchor" href="#stylestringliterals"></a>Style/StringLiterals</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.36</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks if uses of quotes match the configured preference.</p>
</div>
<div class="sect2">
<h3 id="examples-stylestringliterals"><a class="anchor" href="#examples-stylestringliterals"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-single_quotes-_default_-stylestringliterals"><a class="anchor" href="#enforcedstyle_-single_quotes-_default_-stylestringliterals"></a>EnforcedStyle: single_quotes (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
"No special symbols"
"No string interpolation"
"Just text"

# good
'No special symbols'
'No string interpolation'
'Just text'
"Wait! What's #{this}!"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-double_quotes-stylestringliterals"><a class="anchor" href="#enforcedstyle_-double_quotes-stylestringliterals"></a>EnforcedStyle: double_quotes</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
'Just some text'
'No special chars or interpolation'

# good
"Just some text"
"No special chars or interpolation"
"Every string in #{project} uses double_quotes"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylestringliterals"><a class="anchor" href="#configurable-attributes-stylestringliterals"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>single_quotes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>single_quotes</code>, <code>double_quotes</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConsistentQuotesInMultiline</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylestringliterals"><a class="anchor" href="#references-stylestringliterals"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#consistent-string-literals" class="bare">https://rubystyle.guide#consistent-string-literals</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylestringliteralsininterpolation"><a class="anchor" href="#stylestringliteralsininterpolation"></a>Style/StringLiteralsInInterpolation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.27</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks that quotes inside string, symbol, and regexp interpolations
match the configured preference.</p>
</div>
<div class="sect2">
<h3 id="examples-stylestringliteralsininterpolation"><a class="anchor" href="#examples-stylestringliteralsininterpolation"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-single_quotes-_default_-stylestringliteralsininterpolation"><a class="anchor" href="#enforcedstyle_-single_quotes-_default_-stylestringliteralsininterpolation"></a>EnforcedStyle: single_quotes (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
string = "Tests #{success ? "PASS" : "FAIL"}"
symbol = :"Tests #{success ? "PASS" : "FAIL"}"
heredoc = &lt;&lt;~TEXT
  Tests #{success ? "PASS" : "FAIL"}
TEXT
regexp = /Tests #{success ? "PASS" : "FAIL"}/

# good
string = "Tests #{success ? 'PASS' : 'FAIL'}"
symbol = :"Tests #{success ? 'PASS' : 'FAIL'}"
heredoc = &lt;&lt;~TEXT
  Tests #{success ? 'PASS' : 'FAIL'}
TEXT
regexp = /Tests #{success ? 'PASS' : 'FAIL'}/</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-double_quotes-stylestringliteralsininterpolation"><a class="anchor" href="#enforcedstyle_-double_quotes-stylestringliteralsininterpolation"></a>EnforcedStyle: double_quotes</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
string = "Tests #{success ? 'PASS' : 'FAIL'}"
symbol = :"Tests #{success ? 'PASS' : 'FAIL'}"
heredoc = &lt;&lt;~TEXT
  Tests #{success ? 'PASS' : 'FAIL'}
TEXT
regexp = /Tests #{success ? 'PASS' : 'FAIL'}/

# good
string = "Tests #{success ? "PASS" : "FAIL"}"
symbol = :"Tests #{success ? "PASS" : "FAIL"}"
heredoc = &lt;&lt;~TEXT
  Tests #{success ? "PASS" : "FAIL"}
TEXT
regexp = /Tests #{success ? "PASS" : "FAIL"}/</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylestringliteralsininterpolation"><a class="anchor" href="#configurable-attributes-stylestringliteralsininterpolation"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>single_quotes</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>single_quotes</code>, <code>double_quotes</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylestringmethods"><a class="anchor" href="#stylestringmethods"></a>Style/StringMethods</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.34</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.34</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the use of consistent method names
from the String class.</p>
</div>
<div class="sect2">
<h3 id="examples-stylestringmethods"><a class="anchor" href="#examples-stylestringmethods"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
'name'.intern
'var'.unfavored_method

# good
'name'.to_sym
'var'.preferred_method</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylestringmethods"><a class="anchor" href="#configurable-attributes-stylestringmethods"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PreferredMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{"intern"&#8658;"to_sym"}</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylestrip"><a class="anchor" href="#stylestrip"></a>Style/Strip</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Identifies places where <code>lstrip.rstrip</code> can be replaced by
<code>strip</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-stylestrip"><a class="anchor" href="#examples-stylestrip"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
'abc'.lstrip.rstrip
'abc'.rstrip.lstrip

# good
'abc'.strip</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylestructinheritance"><a class="anchor" href="#stylestructinheritance"></a>Style/StructInheritance</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.29</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.20</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for inheritance from Struct.new.</p>
</div>
<div class="sect2">
<h3 id="safety-stylestructinheritance"><a class="anchor" href="#safety-stylestructinheritance"></a>Safety</h3>
<div class="paragraph">
<p>Autocorrection is unsafe because it will change the inheritance
tree (e.g. return value of <code>Module#ancestors</code>) of the constant.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylestructinheritance"><a class="anchor" href="#examples-stylestructinheritance"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class Person &lt; Struct.new(:first_name, :last_name)
  def age
    42
  end
end

# good
Person = Struct.new(:first_name, :last_name) do
  def age
    42
  end
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylestructinheritance"><a class="anchor" href="#references-stylestructinheritance"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-extend-struct-new" class="bare">https://rubystyle.guide#no-extend-struct-new</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylesuperarguments"><a class="anchor" href="#stylesuperarguments"></a>Style/SuperArguments</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant argument forwarding when calling super with arguments identical to
the method definition.</p>
</div>
<div class="paragraph">
<p>Using zero arity <code>super</code> within a <code>define_method</code> block results in <code>RuntimeError</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">def m
  define_method(:foo) { super() } # =&gt; OK
end

def m
  define_method(:foo) { super }   # =&gt; RuntimeError
end</code></pre>
</div>
</div>
<div class="paragraph">
<p>Furthermore, any arguments accompanied by a block may potentially be delegating to
<code>define_method</code>, therefore, <code>super</code> used within these blocks will be allowed.
This approach might result in false negatives, yet ensuring safe detection takes precedence.</p>
</div>
<div class="sect2">
<h3 id="examples-stylesuperarguments"><a class="anchor" href="#examples-stylesuperarguments"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def method(*args, **kwargs)
  super(*args, **kwargs)
end

# good - implicitly passing all arguments
def method(*args, **kwargs)
  super
end

# good - forwarding a subset of the arguments
def method(*args, **kwargs)
  super(*args)
end

# good - forwarding no arguments
def method(*args, **kwargs)
  super()
end

# good - assigning to the block variable before calling super
def method(&amp;block)
  # Assigning to the block variable would pass the old value to super,
  # under this circumstance the block must be referenced explicitly.
  block ||= proc { 'fallback behavior' }
  super(&amp;block)
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylesuperwithargsparentheses"><a class="anchor" href="#stylesuperwithargsparentheses"></a>Style/SuperWithArgsParentheses</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.58</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the presence of parentheses in <code>super</code> containing arguments.</p>
</div>
<div class="paragraph">
<p><code>super</code> is a keyword and is provided as a distinct cop from those designed for method call.</p>
</div>
<div class="sect2">
<h3 id="examples-stylesuperwithargsparentheses"><a class="anchor" href="#examples-stylesuperwithargsparentheses"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
super name, age

# good
super(name, age)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylesuperwithargsparentheses"><a class="anchor" href="#references-stylesuperwithargsparentheses"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#super-with-args" class="bare">https://rubystyle.guide#super-with-args</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleswapvalues"><a class="anchor" href="#styleswapvalues"></a>Style/SwapValues</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces the use of shorthand-style swapping of 2 variables.</p>
</div>
<div class="sect2">
<h3 id="safety-styleswapvalues"><a class="anchor" href="#safety-styleswapvalues"></a>Safety</h3>
<div class="paragraph">
<p>Autocorrection is unsafe, because the temporary variable used to
swap variables will be removed, but may be referred to elsewhere.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleswapvalues"><a class="anchor" href="#examples-styleswapvalues"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
tmp = x
x = y
y = tmp

# good
x, y = y, x</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleswapvalues"><a class="anchor" href="#references-styleswapvalues"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#values-swapping" class="bare">https://rubystyle.guide#values-swapping</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylesymbolarray"><a class="anchor" href="#stylesymbolarray"></a>Style/SymbolArray</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Required Ruby version: 2.0
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.49</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for array literals made up of symbols that are not
using the %i() syntax.</p>
</div>
<div class="paragraph">
<p>Alternatively, it checks for symbol arrays using the %i() syntax on
projects which do not want to use that syntax, perhaps because they
support a version of Ruby lower than 2.0.</p>
</div>
<div class="paragraph">
<p>Configuration option: MinSize
If set, arrays with fewer elements than this value will not trigger the
cop. For example, a <code>MinSize</code> of <code>3</code> will not enforce a style on an
array of 2 or fewer elements.</p>
</div>
<div class="sect2">
<h3 id="examples-stylesymbolarray"><a class="anchor" href="#examples-stylesymbolarray"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-percent-_default_-stylesymbolarray"><a class="anchor" href="#enforcedstyle_-percent-_default_-stylesymbolarray"></a>EnforcedStyle: percent (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
%i[foo bar baz]

# bad
[:foo, :bar, :baz]

# bad (contains spaces)
%i[foo\ bar baz\ quux]

# bad (contains [] with spaces)
%i[foo \[ \]]

# bad (contains () with spaces)
%i(foo \( \))</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-brackets-stylesymbolarray"><a class="anchor" href="#enforcedstyle_-brackets-stylesymbolarray"></a>EnforcedStyle: brackets</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
[:foo, :bar, :baz]

# bad
%i[foo bar baz]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylesymbolarray"><a class="anchor" href="#configurable-attributes-stylesymbolarray"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>percent</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>percent</code>, <code>brackets</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MinSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylesymbolarray"><a class="anchor" href="#references-stylesymbolarray"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#percent-i" class="bare">https://rubystyle.guide#percent-i</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylesymbolliteral"><a class="anchor" href="#stylesymbolliteral"></a>Style/SymbolLiteral</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks symbol literal syntax.</p>
</div>
<div class="sect2">
<h3 id="examples-stylesymbolliteral"><a class="anchor" href="#examples-stylesymbolliteral"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
:"symbol"

# good
:symbol</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylesymbolproc"><a class="anchor" href="#stylesymbolproc"></a>Style/SymbolProc</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.26</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.64</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Use symbols as procs when possible.</p>
</div>
<div class="paragraph">
<p>If you prefer a style that allows block for method with arguments,
please set <code>true</code> to <code>AllowMethodsWithArguments</code>.
<code>define_method?</code> methods are allowed by default.
These are customizable with <code>AllowedMethods</code> option.</p>
</div>
<div class="sect2">
<h3 id="safety-stylesymbolproc"><a class="anchor" href="#safety-stylesymbolproc"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because there is a difference that a <code>Proc</code>
generated from <code>Symbol#to_proc</code> behaves as a lambda, while
a <code>Proc</code> generated from a block does not.
For example, a lambda will raise an <code>ArgumentError</code> if the
number of arguments is wrong, but a non-lambda <code>Proc</code> will not.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">class Foo
  def bar
    :bar
  end
end

def call(options = {}, &amp;block)
  block.call(Foo.new, options)
end

call { |x| x.bar }
#=&gt; :bar
call(&amp;:bar)
# ArgumentError: wrong number of arguments (given 1, expected 0)</code></pre>
</div>
</div>
<div class="paragraph">
<p>It is also unsafe because <code>Symbol#to_proc</code> does not work with
<code>protected</code> methods which would otherwise be accessible.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">class Box
  def initialize
    @secret = rand
  end

  def normal_matches?(*others)
    others.map { |other| other.secret }.any?(secret)
  end

  def symbol_to_proc_matches?(*others)
    others.map(&amp;:secret).any?(secret)
  end

  protected

  attr_reader :secret
end

boxes = [Box.new, Box.new]
Box.new.normal_matches?(*boxes)
# =&gt; false
boxes.first.normal_matches?(*boxes)
# =&gt; true
Box.new.symbol_to_proc_matches?(*boxes)
# =&gt; NoMethodError: protected method `secret' called for #&lt;Box...&gt;
boxes.first.symbol_to_proc_matches?(*boxes)
# =&gt; NoMethodError: protected method `secret' called for #&lt;Box...&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylesymbolproc"><a class="anchor" href="#examples-stylesymbolproc"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
something.map { |s| s.upcase }
something.map { _1.upcase }

# good
something.map(&amp;:upcase)</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowmethodswitharguments_-false-_default_-stylesymbolproc"><a class="anchor" href="#allowmethodswitharguments_-false-_default_-stylesymbolproc"></a>AllowMethodsWithArguments: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
something.do_something(foo) { |o| o.bar }

# good
something.do_something(foo, &amp;:bar)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowmethodswitharguments_-true-stylesymbolproc"><a class="anchor" href="#allowmethodswitharguments_-true-stylesymbolproc"></a>AllowMethodsWithArguments: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
something.do_something(foo) { |o| o.bar }</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowcomments_-false-_default_-stylesymbolproc"><a class="anchor" href="#allowcomments_-false-_default_-stylesymbolproc"></a>AllowComments: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
something.do_something do |s| # some comment
  # some comment
  s.upcase # some comment
  # some comment
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowcomments_-true-stylesymbolproc"><a class="anchor" href="#allowcomments_-true-stylesymbolproc"></a>AllowComments: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good  - if there are comment in either position
something.do_something do |s| # some comment
  # some comment
  s.upcase # some comment
  # some comment
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowedmethods_-_define_method_-_default_-stylesymbolproc"><a class="anchor" href="#allowedmethods_-_define_method_-_default_-stylesymbolproc"></a>AllowedMethods: [define_method] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
define_method(:foo) { |foo| foo.bar }</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowedpatterns_-__-_default_-stylesymbolproc"><a class="anchor" href="#allowedpatterns_-__-_default_-stylesymbolproc"></a>AllowedPatterns: [] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
something.map { |s| s.upcase }</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowedpatterns_-__map__-_default_-stylesymbolproc"><a class="anchor" href="#allowedpatterns_-__map__-_default_-stylesymbolproc"></a>AllowedPatterns: ['map'] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
something.map { |s| s.upcase }</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allcops_activesupportextensionsenabled_-false-_default_-stylesymbolproc"><a class="anchor" href="#allcops_activesupportextensionsenabled_-false-_default_-stylesymbolproc"></a>AllCops:ActiveSupportExtensionsEnabled: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
-&gt;(x) { x.foo }
proc { |x| x.foo }
Proc.new { |x| x.foo }

# good
lambda(&amp;:foo)
proc(&amp;:foo)
Proc.new(&amp;:foo)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allcops_activesupportextensionsenabled_-true-stylesymbolproc"><a class="anchor" href="#allcops_activesupportextensionsenabled_-true-stylesymbolproc"></a>AllCops:ActiveSupportExtensionsEnabled: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
-&gt;(x) { x.foo }
proc { |x| x.foo }
Proc.new { |x| x.foo }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylesymbolproc"><a class="anchor" href="#configurable-attributes-stylesymbolproc"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowMethodsWithArguments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>define_method</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedPatterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowComments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleternaryparentheses"><a class="anchor" href="#styleternaryparentheses"></a>Style/TernaryParentheses</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.42</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.46</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the presence of parentheses around ternary
conditions. It is configurable to enforce inclusion or omission of
parentheses using <code>EnforcedStyle</code>. Omission is only enforced when
removing the parentheses won&#8217;t cause a different behavior.</p>
</div>
<div class="paragraph">
<p><code>AllowSafeAssignment</code> option for safe assignment.
By safe assignment we mean putting parentheses around
an assignment to indicate "I know I&#8217;m using an assignment
as a condition. It&#8217;s not a mistake."</p>
</div>
<div class="sect2">
<h3 id="examples-styleternaryparentheses"><a class="anchor" href="#examples-styleternaryparentheses"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-require_no_parentheses-_default_-styleternaryparentheses"><a class="anchor" href="#enforcedstyle_-require_no_parentheses-_default_-styleternaryparentheses"></a>EnforcedStyle: require_no_parentheses (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo = (bar?) ? a : b
foo = (bar.baz?) ? a : b
foo = (bar &amp;&amp; baz) ? a : b

# good
foo = bar? ? a : b
foo = bar.baz? ? a : b
foo = bar &amp;&amp; baz ? a : b</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-require_parentheses-styleternaryparentheses"><a class="anchor" href="#enforcedstyle_-require_parentheses-styleternaryparentheses"></a>EnforcedStyle: require_parentheses</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo = bar? ? a : b
foo = bar.baz? ? a : b
foo = bar &amp;&amp; baz ? a : b

# good
foo = (bar?) ? a : b
foo = (bar.baz?) ? a : b
foo = (bar &amp;&amp; baz) ? a : b</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-require_parentheses_when_complex-styleternaryparentheses"><a class="anchor" href="#enforcedstyle_-require_parentheses_when_complex-styleternaryparentheses"></a>EnforcedStyle: require_parentheses_when_complex</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo = (bar?) ? a : b
foo = (bar.baz?) ? a : b
foo = bar &amp;&amp; baz ? a : b

# good
foo = bar? ? a : b
foo = bar.baz? ? a : b
foo = (bar &amp;&amp; baz) ? a : b</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowsafeassignment_-true-_default_-styleternaryparentheses"><a class="anchor" href="#allowsafeassignment_-true-_default_-styleternaryparentheses"></a>AllowSafeAssignment: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
foo = (bar = baz) ? a : b</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowsafeassignment_-false-styleternaryparentheses"><a class="anchor" href="#allowsafeassignment_-false-styleternaryparentheses"></a>AllowSafeAssignment: false</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo = (bar = baz) ? a : b</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleternaryparentheses"><a class="anchor" href="#configurable-attributes-styleternaryparentheses"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>require_no_parentheses</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>require_parentheses</code>, <code>require_no_parentheses</code>, <code>require_parentheses_when_complex</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowSafeAssignment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styletoplevelmethoddefinition"><a class="anchor" href="#styletoplevelmethoddefinition"></a>Style/TopLevelMethodDefinition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Newcomers to ruby applications may write top-level methods,
when ideally they should be organized in appropriate classes or modules.
This cop looks for definitions of top-level methods and warns about them.</p>
</div>
<div class="paragraph">
<p>However for ruby scripts it is perfectly fine to use top-level methods.
Hence this cop is disabled by default.</p>
</div>
<div class="sect2">
<h3 id="examples-styletoplevelmethoddefinition"><a class="anchor" href="#examples-styletoplevelmethoddefinition"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def some_method
end

# bad
def self.some_method
end

# bad
define_method(:foo) { puts 1 }

# good
module Foo
  def some_method
  end
end

# good
class Foo
  def self.some_method
  end
end

# good
Struct.new do
  def some_method
  end
end

# good
class Foo
  define_method(:foo) { puts 1 }
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styletoplevelmethoddefinition"><a class="anchor" href="#references-styletoplevelmethoddefinition"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#top-level-methods" class="bare">https://rubystyle.guide#top-level-methods</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styletrailingbodyonclass"><a class="anchor" href="#styletrailingbodyonclass"></a>Style/TrailingBodyOnClass</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for trailing code after the class definition.</p>
</div>
<div class="sect2">
<h3 id="examples-styletrailingbodyonclass"><a class="anchor" href="#examples-styletrailingbodyonclass"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class Foo; def foo; end
end

# good
class Foo
  def foo; end
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styletrailingbodyonmethoddefinition"><a class="anchor" href="#styletrailingbodyonmethoddefinition"></a>Style/TrailingBodyOnMethodDefinition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for trailing code after the method definition.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
It always accepts endless method definitions that are basically on the same line.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-styletrailingbodyonmethoddefinition"><a class="anchor" href="#examples-styletrailingbodyonmethoddefinition"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def some_method; do_stuff
end

def f(x); b = foo
  b[c: x]
end

# good
def some_method
  do_stuff
end

def f(x)
  b = foo
  b[c: x]
end

def endless_method = do_stuff</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styletrailingbodyonmodule"><a class="anchor" href="#styletrailingbodyonmodule"></a>Style/TrailingBodyOnModule</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for trailing code after the module definition.</p>
</div>
<div class="sect2">
<h3 id="examples-styletrailingbodyonmodule"><a class="anchor" href="#examples-styletrailingbodyonmodule"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
module Foo extend self
end

# good
module Foo
  extend self
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styletrailingcommainarguments"><a class="anchor" href="#styletrailingcommainarguments"></a>Style/TrailingCommaInArguments</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for trailing comma in argument lists.
The supported styles are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>consistent_comma</code>: Requires a comma after the last argument,
for all parenthesized method calls with arguments.</p>
</li>
<li>
<p><code>comma</code>: Requires a comma after the last argument, but only for
parenthesized method calls where each argument is on its own line.</p>
</li>
<li>
<p><code>no_comma</code>: Requires that there is no comma after the last
argument.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="examples-styletrailingcommainarguments"><a class="anchor" href="#examples-styletrailingcommainarguments"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyleformultiline_-consistent_comma-styletrailingcommainarguments"><a class="anchor" href="#enforcedstyleformultiline_-consistent_comma-styletrailingcommainarguments"></a>EnforcedStyleForMultiline: consistent_comma</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
method(1, 2,)

# good
method(1, 2)

# good
method(
  1, 2,
  3,
)

# good
method(
  1, 2, 3,
)

# good
method(
  1,
  2,
)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyleformultiline_-comma-styletrailingcommainarguments"><a class="anchor" href="#enforcedstyleformultiline_-comma-styletrailingcommainarguments"></a>EnforcedStyleForMultiline: comma</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
method(1, 2,)

# good
method(1, 2)

# bad
method(
  1, 2,
  3,
)

# good
method(
  1, 2,
  3
)

# bad
method(
  1, 2, 3,
)

# good
method(
  1, 2, 3
)

# good
method(
  1,
  2,
)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyleformultiline_-no_comma-_default_-styletrailingcommainarguments"><a class="anchor" href="#enforcedstyleformultiline_-no_comma-_default_-styletrailingcommainarguments"></a>EnforcedStyleForMultiline: no_comma (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
method(1, 2,)

# good
method(1, 2)

# good
method(
  1,
  2
)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styletrailingcommainarguments"><a class="anchor" href="#configurable-attributes-styletrailingcommainarguments"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyleForMultiline</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>no_comma</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>comma</code>, <code>consistent_comma</code>, <code>no_comma</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-styletrailingcommainarguments"><a class="anchor" href="#references-styletrailingcommainarguments"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-trailing-params-comma" class="bare">https://rubystyle.guide#no-trailing-params-comma</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styletrailingcommainarrayliteral"><a class="anchor" href="#styletrailingcommainarrayliteral"></a>Style/TrailingCommaInArrayLiteral</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for trailing comma in array literals.
The configuration options are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>consistent_comma</code>: Requires a comma after the
last item of all non-empty, multiline array literals.</p>
</li>
<li>
<p><code>comma</code>: Requires a comma after last item in an array,
but only when each item is on its own line.</p>
</li>
<li>
<p><code>no_comma</code>: Does not require a comma after the
last item in an array</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="examples-styletrailingcommainarrayliteral"><a class="anchor" href="#examples-styletrailingcommainarrayliteral"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyleformultiline_-consistent_comma-styletrailingcommainarrayliteral"><a class="anchor" href="#enforcedstyleformultiline_-consistent_comma-styletrailingcommainarrayliteral"></a>EnforcedStyleForMultiline: consistent_comma</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
a = [1, 2,]

# good
a = [1, 2]

# good
a = [
  1, 2,
  3,
]

# good
a = [
  1, 2, 3,
]

# good
a = [
  1,
  2,
]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyleformultiline_-comma-styletrailingcommainarrayliteral"><a class="anchor" href="#enforcedstyleformultiline_-comma-styletrailingcommainarrayliteral"></a>EnforcedStyleForMultiline: comma</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
a = [1, 2,]

# good
a = [1, 2]

# bad
a = [
  1, 2,
  3,
]

# good
a = [
  1, 2,
  3
]

# bad
a = [
  1, 2, 3,
]

# good
a = [
  1, 2, 3
]

# good
a = [
  1,
  2,
]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyleformultiline_-no_comma-_default_-styletrailingcommainarrayliteral"><a class="anchor" href="#enforcedstyleformultiline_-no_comma-_default_-styletrailingcommainarrayliteral"></a>EnforcedStyleForMultiline: no_comma (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
a = [1, 2,]

# good
a = [
  1,
  2
]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styletrailingcommainarrayliteral"><a class="anchor" href="#configurable-attributes-styletrailingcommainarrayliteral"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyleForMultiline</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>no_comma</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>comma</code>, <code>consistent_comma</code>, <code>no_comma</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-styletrailingcommainarrayliteral"><a class="anchor" href="#references-styletrailingcommainarrayliteral"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-trailing-array-commas" class="bare">https://rubystyle.guide#no-trailing-array-commas</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styletrailingcommainblockargs"><a class="anchor" href="#styletrailingcommainblockargs"></a>Style/TrailingCommaInBlockArgs</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.81</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks whether trailing commas in block arguments are
required. Blocks with only one argument and a trailing comma require
that comma to be present. Blocks with more than one argument never
require a trailing comma.</p>
</div>
<div class="sect2">
<h3 id="safety-styletrailingcommainblockargs"><a class="anchor" href="#safety-styletrailingcommainblockargs"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because a trailing comma can indicate there are
more parameters that are not used.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># with a trailing comma
{foo: 1, bar: 2, baz: 3}.map {|key,| key }
#=&gt; [:foo, :bar, :baz]

# without a trailing comma
{foo: 1, bar: 2, baz: 3}.map {|key| key }
#=&gt; [[:foo, 1], [:bar, 2], [:baz, 3]]</code></pre>
</div>
</div>
<div class="paragraph">
<p>This can be fixed by replacing the trailing comma with a placeholder
argument (such as <code>|key, _value|</code>).</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-styletrailingcommainblockargs"><a class="anchor" href="#examples-styletrailingcommainblockargs"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
add { |foo, bar,| foo + bar }

# good
add { |foo, bar| foo + bar }

# good
add { |foo,| foo }

# good
add { foo }

# bad
add do |foo, bar,|
  foo + bar
end

# good
add do |foo, bar|
  foo + bar
end

# good
add do |foo,|
  foo
end

# good
add do
  foo + bar
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styletrailingcommainhashliteral"><a class="anchor" href="#styletrailingcommainhashliteral"></a>Style/TrailingCommaInHashLiteral</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for trailing comma in hash literals.
The configuration options are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>consistent_comma</code>: Requires a comma after the
last item of all non-empty, multiline hash literals.</p>
</li>
<li>
<p><code>comma</code>: Requires a comma after the last item in a hash,
but only when each item is on its own line.</p>
</li>
<li>
<p><code>no_comma</code>: Does not require a comma after the
last item in a hash</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="examples-styletrailingcommainhashliteral"><a class="anchor" href="#examples-styletrailingcommainhashliteral"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyleformultiline_-consistent_comma-styletrailingcommainhashliteral"><a class="anchor" href="#enforcedstyleformultiline_-consistent_comma-styletrailingcommainhashliteral"></a>EnforcedStyleForMultiline: consistent_comma</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
a = { foo: 1, bar: 2, }

# good
a = { foo: 1, bar: 2 }

# good
a = {
  foo: 1, bar: 2,
  qux: 3,
}

# good
a = {
  foo: 1, bar: 2, qux: 3,
}

# good
a = {
  foo: 1,
  bar: 2,
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyleformultiline_-comma-styletrailingcommainhashliteral"><a class="anchor" href="#enforcedstyleformultiline_-comma-styletrailingcommainhashliteral"></a>EnforcedStyleForMultiline: comma</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
a = { foo: 1, bar: 2, }

# good
a = { foo: 1, bar: 2 }

# bad
a = {
  foo: 1, bar: 2,
  qux: 3,
}

# good
a = {
  foo: 1, bar: 2,
  qux: 3
}

# bad
a = {
  foo: 1, bar: 2, qux: 3,
}

# good
a = {
  foo: 1, bar: 2, qux: 3
}

# good
a = {
  foo: 1,
  bar: 2,
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyleformultiline_-no_comma-_default_-styletrailingcommainhashliteral"><a class="anchor" href="#enforcedstyleformultiline_-no_comma-_default_-styletrailingcommainhashliteral"></a>EnforcedStyleForMultiline: no_comma (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
a = { foo: 1, bar: 2, }

# good
a = {
  foo: 1,
  bar: 2
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styletrailingcommainhashliteral"><a class="anchor" href="#configurable-attributes-styletrailingcommainhashliteral"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyleForMultiline</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>no_comma</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>comma</code>, <code>consistent_comma</code>, <code>no_comma</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styletrailingmethodendstatement"><a class="anchor" href="#styletrailingmethodendstatement"></a>Style/TrailingMethodEndStatement</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for trailing code after the method definition.</p>
</div>
<div class="sect2">
<h3 id="examples-styletrailingmethodendstatement"><a class="anchor" href="#examples-styletrailingmethodendstatement"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def some_method
do_stuff; end

def do_this(x)
  baz.map { |b| b.this(x) } end

def foo
  block do
    bar
  end end

# good
def some_method
  do_stuff
end

def do_this(x)
  baz.map { |b| b.this(x) }
end

def foo
  block do
    bar
  end
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styletrailingunderscorevariable"><a class="anchor" href="#styletrailingunderscorevariable"></a>Style/TrailingUnderscoreVariable</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.35</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for extra underscores in variable assignment.</p>
</div>
<div class="sect2">
<h3 id="examples-styletrailingunderscorevariable"><a class="anchor" href="#examples-styletrailingunderscorevariable"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
a, b, _ = foo()
a, b, _, = foo()
a, _, _ = foo()
a, _, _, = foo()

# good
a, b, = foo()
a, = foo()
*a, b, _ = foo()
# =&gt; We need to know to not include 2 variables in a
a, *b, _ = foo()
# =&gt; The correction `a, *b, = foo()` is a syntax error</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allownamedunderscorevariables_-true-_default_-styletrailingunderscorevariable"><a class="anchor" href="#allownamedunderscorevariables_-true-_default_-styletrailingunderscorevariable"></a>AllowNamedUnderscoreVariables: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
a, b, _something = foo()</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allownamedunderscorevariables_-false-styletrailingunderscorevariable"><a class="anchor" href="#allownamedunderscorevariables_-false-styletrailingunderscorevariable"></a>AllowNamedUnderscoreVariables: false</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
a, b, _something = foo()</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styletrailingunderscorevariable"><a class="anchor" href="#configurable-attributes-styletrailingunderscorevariable"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowNamedUnderscoreVariables</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styletrivialaccessors"><a class="anchor" href="#styletrivialaccessors"></a>Style/TrivialAccessors</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.15</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for trivial reader/writer methods, that could
have been created with the attr_* family of functions automatically.
<code>to_ary</code>, <code>to_a</code>, <code>to_c</code>, <code>to_enum</code>, <code>to_h</code>, <code>to_hash</code>, <code>to_i</code>, <code>to_int</code>, <code>to_io</code>,
<code>to_open</code>, <code>to_path</code>, <code>to_proc</code>, <code>to_r</code>, <code>to_regexp</code>, <code>to_str</code>, <code>to_s</code>, and <code>to_sym</code> methods
are allowed by default. These are customizable with <code>AllowedMethods</code> option.</p>
</div>
<div class="sect2">
<h3 id="examples-styletrivialaccessors"><a class="anchor" href="#examples-styletrivialaccessors"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def foo
  @foo
end

def bar=(val)
  @bar = val
end

def self.baz
  @baz
end

# good
attr_reader :foo
attr_writer :bar

class &lt;&lt; self
  attr_reader :baz
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="exactnamematch_-true-_default_-styletrivialaccessors"><a class="anchor" href="#exactnamematch_-true-_default_-styletrivialaccessors"></a>ExactNameMatch: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
def name
  @other_name
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="exactnamematch_-false-styletrivialaccessors"><a class="anchor" href="#exactnamematch_-false-styletrivialaccessors"></a>ExactNameMatch: false</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def name
  @other_name
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowpredicates_-true-_default_-styletrivialaccessors"><a class="anchor" href="#allowpredicates_-true-_default_-styletrivialaccessors"></a>AllowPredicates: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
def foo?
  @foo
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowpredicates_-false-styletrivialaccessors"><a class="anchor" href="#allowpredicates_-false-styletrivialaccessors"></a>AllowPredicates: false</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def foo?
  @foo
end

# good
attr_reader :foo</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowdslwriters_-true-_default_-styletrivialaccessors"><a class="anchor" href="#allowdslwriters_-true-_default_-styletrivialaccessors"></a>AllowDSLWriters: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
def on_exception(action)
  @on_exception=action
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowdslwriters_-false-styletrivialaccessors"><a class="anchor" href="#allowdslwriters_-false-styletrivialaccessors"></a>AllowDSLWriters: false</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def on_exception(action)
  @on_exception=action
end

# good
attr_writer :on_exception</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ignoreclassmethods_-false-_default_-styletrivialaccessors"><a class="anchor" href="#ignoreclassmethods_-false-_default_-styletrivialaccessors"></a>IgnoreClassMethods: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def self.foo
  @foo
end

# good
class &lt;&lt; self
  attr_reader :foo
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ignoreclassmethods_-true-styletrivialaccessors"><a class="anchor" href="#ignoreclassmethods_-true-styletrivialaccessors"></a>IgnoreClassMethods: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
def self.foo
  @foo
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowedmethods_-__allowed_method__-styletrivialaccessors"><a class="anchor" href="#allowedmethods_-__allowed_method__-styletrivialaccessors"></a>AllowedMethods: ['allowed_method']</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
def allowed_method
  @foo
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styletrivialaccessors"><a class="anchor" href="#configurable-attributes-styletrivialaccessors"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ExactNameMatch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowPredicates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowDSLWriters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IgnoreClassMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>to_ary</code>, <code>to_a</code>, <code>to_c</code>, <code>to_enum</code>, <code>to_h</code>, <code>to_hash</code>, <code>to_i</code>, <code>to_int</code>, <code>to_io</code>, <code>to_open</code>, <code>to_path</code>, <code>to_proc</code>, <code>to_r</code>, <code>to_regexp</code>, <code>to_str</code>, <code>to_s</code>, <code>to_sym</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-styletrivialaccessors"><a class="anchor" href="#references-styletrivialaccessors"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#attr_family" class="bare">https://rubystyle.guide#attr_family</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleunlesselse"><a class="anchor" href="#styleunlesselse"></a>Style/UnlessElse</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for <code>unless</code> expressions with <code>else</code> clauses.</p>
</div>
<div class="sect2">
<h3 id="examples-styleunlesselse"><a class="anchor" href="#examples-styleunlesselse"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
unless foo_bar.nil?
  # do something...
else
  # do a different thing...
end

# good
if foo_bar.present?
  # do something...
else
  # do a different thing...
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-styleunlesselse"><a class="anchor" href="#references-styleunlesselse"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-else-with-unless" class="bare">https://rubystyle.guide#no-else-with-unless</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleunlesslogicaloperators"><a class="anchor" href="#styleunlesslogicaloperators"></a>Style/UnlessLogicalOperators</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the use of logical operators in an <code>unless</code> condition.
It discourages such code, as the condition becomes more difficult
to read and understand.</p>
</div>
<div class="paragraph">
<p>This cop supports two styles:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>forbid_mixed_logical_operators</code> (default)</p>
</li>
<li>
<p><code>forbid_logical_operators</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>forbid_mixed_logical_operators</code> style forbids the use of more than one type
of logical operators. This makes the <code>unless</code> condition easier to read
because either all conditions need to be met or any condition need to be met
in order for the expression to be truthy or falsey.</p>
</div>
<div class="paragraph">
<p><code>forbid_logical_operators</code> style forbids any use of logical operator.
This makes it even more easy to read the <code>unless</code> condition as
there is only one condition in the expression.</p>
</div>
<div class="sect2">
<h3 id="examples-styleunlesslogicaloperators"><a class="anchor" href="#examples-styleunlesslogicaloperators"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-forbid_mixed_logical_operators-_default_-styleunlesslogicaloperators"><a class="anchor" href="#enforcedstyle_-forbid_mixed_logical_operators-_default_-styleunlesslogicaloperators"></a>EnforcedStyle: forbid_mixed_logical_operators (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
return unless a || b &amp;&amp; c
return unless a &amp;&amp; b || c
return unless a &amp;&amp; b and c
return unless a || b or c
return unless a &amp;&amp; b or c
return unless a || b and c

# good
return unless a &amp;&amp; b &amp;&amp; c
return unless a || b || c
return unless a and b and c
return unless a or b or c
return unless a?</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-forbid_logical_operators-styleunlesslogicaloperators"><a class="anchor" href="#enforcedstyle_-forbid_logical_operators-styleunlesslogicaloperators"></a>EnforcedStyle: forbid_logical_operators</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
return unless a || b
return unless a &amp;&amp; b
return unless a or b
return unless a and b

# good
return unless a
return unless a?</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleunlesslogicaloperators"><a class="anchor" href="#configurable-attributes-styleunlesslogicaloperators"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>forbid_mixed_logical_operators</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>forbid_mixed_logical_operators</code>, <code>forbid_logical_operators</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleunpackfirst"><a class="anchor" href="#styleunpackfirst"></a>Style/UnpackFirst</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Required Ruby version: 2.4
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.54</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for accessing the first element of <code>String#unpack</code>
which can be replaced with the shorter method <code>unpack1</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-styleunpackfirst"><a class="anchor" href="#examples-styleunpackfirst"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
'foo'.unpack('h*').first
'foo'.unpack('h*')[0]
'foo'.unpack('h*').slice(0)
'foo'.unpack('h*').at(0)

# good
'foo'.unpack1('h*')</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylevariableinterpolation"><a class="anchor" href="#stylevariableinterpolation"></a>Style/VariableInterpolation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.20</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for variable interpolation (like "#@ivar").</p>
</div>
<div class="sect2">
<h3 id="examples-stylevariableinterpolation"><a class="anchor" href="#examples-stylevariableinterpolation"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
"His name is #$name"
/check #$pattern/
"Let's go to the #@store"

# good
"His name is #{$name}"
/check #{$pattern}/
"Let's go to the #{@store}"</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylevariableinterpolation"><a class="anchor" href="#references-stylevariableinterpolation"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#curlies-interpolate" class="bare">https://rubystyle.guide#curlies-interpolate</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylewhenthen"><a class="anchor" href="#stylewhenthen"></a>Style/WhenThen</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for <code>when;</code> uses in <code>case</code> expressions.</p>
</div>
<div class="sect2">
<h3 id="examples-stylewhenthen"><a class="anchor" href="#examples-stylewhenthen"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
case foo
when 1; 'baz'
when 2; 'bar'
end

# good
case foo
when 1 then 'baz'
when 2 then 'bar'
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylewhenthen"><a class="anchor" href="#references-stylewhenthen"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-when-semicolons" class="bare">https://rubystyle.guide#no-when-semicolons</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylewhileuntildo"><a class="anchor" href="#stylewhileuntildo"></a>Style/WhileUntilDo</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of <code>do</code> in multi-line <code>while/until</code> statements.</p>
</div>
<div class="sect2">
<h3 id="examples-stylewhileuntildo"><a class="anchor" href="#examples-stylewhileuntildo"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
while x.any? do
  do_something(x.pop)
end

# good
while x.any?
  do_something(x.pop)
end

# bad
until x.empty? do
  do_something(x.pop)
end

# good
until x.empty?
  do_something(x.pop)
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylewhileuntildo"><a class="anchor" href="#references-stylewhileuntildo"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-multiline-while-do" class="bare">https://rubystyle.guide#no-multiline-while-do</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylewhileuntilmodifier"><a class="anchor" href="#stylewhileuntilmodifier"></a>Style/WhileUntilModifier</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.30</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for while and until statements that would fit on one line
if written as a modifier while/until. The maximum line length is
configured in the <code>Layout/LineLength</code> cop.</p>
</div>
<div class="sect2">
<h3 id="examples-stylewhileuntilmodifier"><a class="anchor" href="#examples-stylewhileuntilmodifier"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
while x &lt; 10
  x += 1
end

# good
x += 1 while x &lt; 10

# bad
until x &gt; 10
  x += 1
end

# good
x += 1 until x &gt; 10</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
x += 100 while x &lt; 500 # a long comment that makes code too long if it were a single line

# good
while x &lt; 500 # a long comment that makes code too long if it were a single line
  x += 100
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-stylewhileuntilmodifier"><a class="anchor" href="#references-stylewhileuntilmodifier"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#while-as-a-modifier" class="bare">https://rubystyle.guide#while-as-a-modifier</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylewordarray"><a class="anchor" href="#stylewordarray"></a>Style/WordArray</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.19</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for array literals made up of word-like
strings, that are not using the %w() syntax.</p>
</div>
<div class="paragraph">
<p>Alternatively, it can check for uses of the %w() syntax, in projects
which do not want to include that syntax.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
When using the <code>percent</code> style, %w() arrays containing a space
will be registered as offenses.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Configuration option: MinSize
If set, arrays with fewer elements than this value will not trigger the
cop. For example, a <code>MinSize</code> of <code>3</code> will not enforce a style on an
array of 2 or fewer elements.</p>
</div>
<div class="sect2">
<h3 id="examples-stylewordarray"><a class="anchor" href="#examples-stylewordarray"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-percent-_default_-stylewordarray"><a class="anchor" href="#enforcedstyle_-percent-_default_-stylewordarray"></a>EnforcedStyle: percent (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
%w[foo bar baz]

# bad
['foo', 'bar', 'baz']

# bad (contains spaces)
%w[foo\ bar baz\ quux]

# bad
[
  ['one', 'One'],
  ['two', 'Two']
]

# good
[
  %w[one One],
  %w[two Two]
]

# good (2d array containing spaces)
[
  ['one', 'One'],
  ['two', 'Two'],
  ['forty two', 'Forty Two']
]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-brackets-stylewordarray"><a class="anchor" href="#enforcedstyle_-brackets-stylewordarray"></a>EnforcedStyle: brackets</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
['foo', 'bar', 'baz']

# bad
%w[foo bar baz]

# good (contains spaces)
['foo bar', 'baz quux']

# good
[
  ['one', 'One'],
  ['two', 'Two']
]

# bad
[
  %w[one One],
  %w[two Two]
]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-stylewordarray"><a class="anchor" href="#configurable-attributes-stylewordarray"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>percent</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>percent</code>, <code>brackets</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MinSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WordRegex</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(?-mix:\A(?:\p{Word}|\p{Word}-\p{Word}|\n|\t)+\z)</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-stylewordarray"><a class="anchor" href="#references-stylewordarray"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#percent-w" class="bare">https://rubystyle.guide#percent-w</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleyamlfileread"><a class="anchor" href="#styleyamlfileread"></a>Style/YAMLFileRead</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the use of <code>YAML.load</code>, <code>YAML.safe_load</code>, and <code>YAML.parse</code> with
<code>File.read</code> argument.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>YAML.safe_load_file</code> was introduced in Ruby 3.0.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-styleyamlfileread"><a class="anchor" href="#examples-styleyamlfileread"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
YAML.load(File.read(path))
YAML.parse(File.read(path))

# good
YAML.load_file(path)
YAML.parse_file(path)

# bad
YAML.safe_load(File.read(path)) # Ruby 3.0 and newer

# good
YAML.safe_load_file(path)       # Ruby 3.0 and newer</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleyodacondition"><a class="anchor" href="#styleyodacondition"></a>Style/YodaCondition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.49</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.75</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces or forbids Yoda conditions,
i.e. comparison operations where the order of expression is reversed.
eg. <code>5 == x</code></p>
</div>
<div class="sect2">
<h3 id="safety-styleyodacondition"><a class="anchor" href="#safety-styleyodacondition"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because comparison operators can be defined
differently on different classes, and are not guaranteed to
have the same result if reversed.</p>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">class MyKlass
  def ==(other)
    true
  end
end

obj = MyKlass.new
obj == 'string'   #=&gt; true
'string' == obj   #=&gt; false</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleyodacondition"><a class="anchor" href="#examples-styleyodacondition"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-forbid_for_all_comparison_operators-_default_-styleyodacondition"><a class="anchor" href="#enforcedstyle_-forbid_for_all_comparison_operators-_default_-styleyodacondition"></a>EnforcedStyle: forbid_for_all_comparison_operators (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
99 == foo
"bar" != foo
42 &gt;= foo
10 &lt; bar
99 == CONST

# good
foo == 99
foo == "bar"
foo &lt;= 42
bar &gt; 10
CONST == 99
"#{interpolation}" == foo
/#{interpolation}/ == foo</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-forbid_for_equality_operators_only-styleyodacondition"><a class="anchor" href="#enforcedstyle_-forbid_for_equality_operators_only-styleyodacondition"></a>EnforcedStyle: forbid_for_equality_operators_only</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
99 == foo
"bar" != foo

# good
99 &gt;= foo
3 &lt; a &amp;&amp; a &lt; 5</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-require_for_all_comparison_operators-styleyodacondition"><a class="anchor" href="#enforcedstyle_-require_for_all_comparison_operators-styleyodacondition"></a>EnforcedStyle: require_for_all_comparison_operators</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo == 99
foo == "bar"
foo &lt;= 42
bar &gt; 10

# good
99 == foo
"bar" != foo
42 &gt;= foo
10 &lt; bar</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-require_for_equality_operators_only-styleyodacondition"><a class="anchor" href="#enforcedstyle_-require_for_equality_operators_only-styleyodacondition"></a>EnforcedStyle: require_for_equality_operators_only</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
99 &gt;= foo
3 &lt; a &amp;&amp; a &lt; 5

# good
99 == foo
"bar" != foo</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleyodacondition"><a class="anchor" href="#configurable-attributes-styleyodacondition"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>forbid_for_all_comparison_operators</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>forbid_for_all_comparison_operators</code>, <code>forbid_for_equality_operators_only</code>, <code>require_for_all_comparison_operators</code>, <code>require_for_equality_operators_only</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-styleyodacondition"><a class="anchor" href="#references-styleyodacondition"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://en.wikipedia.org/wiki/Yoda_conditions" class="bare">https://en.wikipedia.org/wiki/Yoda_conditions</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styleyodaexpression"><a class="anchor" href="#styleyodaexpression"></a>Style/YodaExpression</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.42</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.43</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Forbids Yoda expressions, i.e. binary operations (using <code>*</code>, <code>+</code>, <code>&amp;</code>, <code>|</code>,
and <code>^</code> operators) where the order of expression is reversed, eg. <code>1 + x</code>.
This cop complements <code>Style/YodaCondition</code> cop, which has a similar purpose.</p>
</div>
<div class="paragraph">
<p>This cop is disabled by default to respect user intentions such as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">config.server_port = 9000 + ENV["TEST_ENV_NUMBER"].to_i</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="safety-styleyodaexpression"><a class="anchor" href="#safety-styleyodaexpression"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because binary operators can be defined
differently on different classes, and are not guaranteed to
have the same result if reversed.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-styleyodaexpression"><a class="anchor" href="#examples-styleyodaexpression"></a>Examples</h3>
<div class="sect3">
<h4 id="supportedoperators_-_____-____-____-____-____-_default_-styleyodaexpression"><a class="anchor" href="#supportedoperators_-_____-____-____-____-____-_default_-styleyodaexpression"></a>SupportedOperators: ['*', '+', '&amp;', '|', '^'] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
10 * y
1 + x
1 &amp; z
1 | x
1 ^ x
1 + CONST

# good
y * 10
x + 1
z &amp; 1
x | 1
x ^ 1
CONST + 1
60 * 24</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-styleyodaexpression"><a class="anchor" href="#configurable-attributes-styleyodaexpression"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="stylezerolengthpredicate"><a class="anchor" href="#stylezerolengthpredicate"></a>Style/ZeroLengthPredicate</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.37</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.39</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for numeric comparisons that can be replaced
by a predicate method, such as <code>receiver.length == 0</code>,
<code>receiver.length &gt; 0</code>, and <code>receiver.length != 0</code>,
<code>receiver.length &lt; 1</code> and <code>receiver.size == 0</code> that can be
replaced by <code>receiver.empty?</code> and <code>!receiver.empty?</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>File</code>, <code>Tempfile</code>, and <code>StringIO</code> do not have <code>empty?</code>
so allow <code>size == 0</code> and <code>size.zero?</code>.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="safety-stylezerolengthpredicate"><a class="anchor" href="#safety-stylezerolengthpredicate"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because it cannot be guaranteed that the receiver
has an <code>empty?</code> method that is defined in terms of <code>length</code>. If there
is a non-standard class that redefines <code>length</code> or <code>empty?</code>, the cop
may register a false positive.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-stylezerolengthpredicate"><a class="anchor" href="#examples-stylezerolengthpredicate"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
[1, 2, 3].length == 0
0 == "foobar".length
array.length &lt; 1
{a: 1, b: 2}.length != 0
string.length &gt; 0
hash.size &gt; 0

# good
[1, 2, 3].empty?
"foobar".empty?
array.empty?
!{a: 1, b: 2}.empty?
!string.empty?
!hash.empty?</code></pre>
</div>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="cops_security.html">Security</a></span>
  <span class="next"><a href="v1_upgrade_notes.html">Upgrade Notes</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>Copyright (C) 2012-2024 <a href="https://batsov.com">Bozhidar Batsov</a> and RuboCop contributors.</p>
  <p>Except where otherwise noted, docs.rubocop.org is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution-ShareAlike 4.0 International</a> (CC BY-SA 4.0).</p>
</footer>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@docsearch/js@3.3.3"></script>
<script type="text/javascript">
 docsearch({
   container: '#docsearch',
   appId: '2GTF3GZ5BX',
   apiKey: 'b6bbe6539f46224f4f39cd14a1b7ae78',
   indexName: 'rubocop',
   debug: false // Set debug to true if you want to inspect the dropdown
 });
</script>
<script id="site-script" src="../../_/js/site.js" data-ui-root-path="../../_"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
