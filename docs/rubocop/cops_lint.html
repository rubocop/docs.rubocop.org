<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Lint :: RuboCop Docs</title>
    <link rel="canonical" href="https://docs.rubocop.org/rubocop/cops_lint.html">
    <link rel="prev" href="cops_layout.html">
    <link rel="next" href="cops_metrics.html">
    <meta name="generator" content="Antora 3.1.10">
    <link rel="stylesheet" href="../_/css/site.css">
<link rel="stylesheet" href="../_/css/site-extra.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3.3.3">
<style>:root{--docsearch-primary-color: #bd362f} </style>
<link rel="icon" href="../_/img/favicon.ico" type="image/x-icon">
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-140153536-1"></script>
    <script>function gtag(){dataLayer.push(arguments)};window.dataLayer=window.dataLayer||[];gtag('js',new Date());gtag('config','UA-140153536-1')</script>
  </head>
  <body class="article">
<header class="header" role="banner">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <a href="https://rubocop.org">RuboCop</a>
        <span class="separator">//</span>
        <a href="https://docs.rubocop.org">Docs</a>
      </div>
      <div class="navbar-item">
        <div id="docsearch"></div>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href=index.html>Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Style Guides</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://rubystyle.guide">Ruby</a>
            <a class="navbar-item" href="https://rails.rubystyle.guide">Rails</a>
            <a class="navbar-item" href="https://rspec.rubystyle.guide">RSpec</a>
            <a class="navbar-item" href="https://minitest.rubystyle.guide">Minitest</a>
          </div>
        </div>
        <a class="navbar-item" href="https://www.rubydoc.info/gems/rubocop">API Docs</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Projects</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://github.com/rubocop/rubocop">RuboCop</a>
            <a class="navbar-item" href="https://github.com/rubocop/rubocop-ast">RuboCop AST</a>
            <a class="navbar-item" href="https://github.com/rubocop/rubocop-capybara">RuboCop Capybara</a>
            <a class="navbar-item" href="https://github.com/rubocop/rubocop-factory_bot">RuboCop factory_bot</a>
            <a class="navbar-item" href="https://github.com/rubocop/rubocop-minitest">RuboCop Minitest</a>
            <a class="navbar-item" href="https://github.com/rubocop/rubocop-performance">RuboCop Performance</a>
            <a class="navbar-item" href="https://github.com/rubocop/rubocop-rails">RuboCop Rails</a>
            <a class="navbar-item" href="https://github.com/rubocop/rubocop-rake">RuboCop Rake</a>
            <a class="navbar-item" href="https://github.com/rubocop/rubocop-rspec">RuboCop RSpec</a>
            <a class="navbar-item" href="https://github.com/rubocop/rubocop-rspec_rails">RuboCop RSpec Rails</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Community</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://github.com/rubocop">GitHub Org</a>
            <a class="navbar-item" href="https://gitter.im/bbatsov/rubocop">Chat (Gitter)</a>
            <a class="navbar-item" href="https://opencollective.com/rubocop">Open Collective</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="rubocop" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="index.html">RuboCop</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="index.html">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="installation.html">Installation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="compatibility.html">Compatibility</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Usage</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="usage/basic_usage.html">Basic Usage</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="usage/autocorrect.html">Autocorrect</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="usage/caching.html">Caching</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="usage/lsp.html">LSP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="usage/server.html">Server</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="usage/profiling.html">Profiling</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="cops.html">Cops</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="formatters.html">Formatters</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Cop Documentation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cops_bundler.html">Bundler</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cops_gemspec.html">Gemspec</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cops_layout.html">Layout</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="cops_lint.html">Lint</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cops_metrics.html">Metrics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cops_migration.html">Migration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cops_naming.html">Naming</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cops_security.html">Security</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cops_style.html">Style</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="v1_upgrade_notes.html">Upgrade Notes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="plugin_migration_guide.html">Plugin Migration Guide</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="extensions.html">Extensions</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="integration_with_other_tools.html">Integration with Other Tools</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="automated_code_review.html">Automated Code Review</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="development.html">Development</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="contributing.html">Contributing</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="support.html">Support</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="versioning.html">Versioning</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">About</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="about/history.html">History</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="about/team.html">Team</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="about/changelog.html">Changelog</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="about/logo.html">Logo</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="about/license.html">License</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">RuboCop</span>
    <span class="version"></span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <div class="title"><a href="index.html">RuboCop</a></div>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">default</a>
        </li>
        <li class="version">
          <a href="1.72/index.html">1.72</a>
        </li>
        <li class="version">
          <a href="1.71/index.html">1.71</a>
        </li>
        <li class="version">
          <a href="1.70/index.html">1.70</a>
        </li>
        <li class="version">
          <a href="1.69/index.html">1.69</a>
        </li>
        <li class="version">
          <a href="1.68/index.html">1.68</a>
        </li>
        <li class="version">
          <a href="1.67/index.html">1.67</a>
        </li>
        <li class="version">
          <a href="1.66/index.html">1.66</a>
        </li>
        <li class="version">
          <a href="1.65/index.html">1.65</a>
        </li>
        <li class="version">
          <a href="1.64/index.html">1.64</a>
        </li>
        <li class="version">
          <a href="1.63/index.html">1.63</a>
        </li>
        <li class="version">
          <a href="1.62/index.html">1.62</a>
        </li>
        <li class="version">
          <a href="1.61/index.html">1.61</a>
        </li>
        <li class="version">
          <a href="1.60/index.html">1.60</a>
        </li>
        <li class="version">
          <a href="1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../rubocop-ast/index.html">RuboCop AST</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../rubocop-ast/index.html">master</a>
        </li>
        <li class="version">
          <a href="../rubocop-ast/1.12/index.html">1.12</a>
        </li>
        <li class="version">
          <a href="../rubocop-ast/1.11/index.html">1.11</a>
        </li>
        <li class="version">
          <a href="../rubocop-ast/1.10/index.html">1.10</a>
        </li>
        <li class="version">
          <a href="../rubocop-ast/1.9/index.html">1.9</a>
        </li>
        <li class="version">
          <a href="../rubocop-ast/1.8/index.html">1.8</a>
        </li>
        <li class="version">
          <a href="../rubocop-ast/1.7/index.html">1.7</a>
        </li>
        <li class="version">
          <a href="../rubocop-ast/1.6/index.html">1.6</a>
        </li>
        <li class="version">
          <a href="../rubocop-ast/1.5/index.html">1.5</a>
        </li>
        <li class="version">
          <a href="../rubocop-ast/1.4/index.html">1.4</a>
        </li>
        <li class="version">
          <a href="../rubocop-ast/1.3/index.html">1.3</a>
        </li>
        <li class="version">
          <a href="../rubocop-ast/1.2/index.html">1.2</a>
        </li>
        <li class="version">
          <a href="../rubocop-ast/1.1/index.html">1.1</a>
        </li>
        <li class="version">
          <a href="../rubocop-ast/1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../rubocop-capybara/index.html">RuboCop Capybara</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../rubocop-capybara/index.html">default</a>
        </li>
        <li class="version">
          <a href="../rubocop-capybara/2.21/index.html">2.21</a>
        </li>
        <li class="version">
          <a href="../rubocop-capybara/2.20/index.html">2.20</a>
        </li>
        <li class="version">
          <a href="../rubocop-capybara/2.19/index.html">2.19</a>
        </li>
        <li class="version">
          <a href="../rubocop-capybara/2.18/index.html">2.18</a>
        </li>
        <li class="version">
          <a href="../rubocop-capybara/2.17/index.html">2.17</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../rubocop-factory_bot/index.html">RuboCop factory_bot</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../rubocop-factory_bot/index.html">default</a>
        </li>
        <li class="version">
          <a href="../rubocop-factory_bot/2.26/index.html">2.26</a>
        </li>
        <li class="version">
          <a href="../rubocop-factory_bot/2.25/index.html">2.25</a>
        </li>
        <li class="version">
          <a href="../rubocop-factory_bot/2.24/index.html">2.24</a>
        </li>
        <li class="version">
          <a href="../rubocop-factory_bot/2.23/index.html">2.23</a>
        </li>
        <li class="version">
          <a href="../rubocop-factory_bot/2.22/index.html">2.22</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../rubocop-minitest/index.html">RuboCop Minitest</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../rubocop-minitest/index.html">default</a>
        </li>
        <li class="version">
          <a href="../rubocop-minitest/0.36/index.html">0.36</a>
        </li>
        <li class="version">
          <a href="../rubocop-minitest/0.35/index.html">0.35</a>
        </li>
        <li class="version">
          <a href="../rubocop-minitest/0.34/index.html">0.34</a>
        </li>
        <li class="version">
          <a href="../rubocop-minitest/0.33/index.html">0.33</a>
        </li>
        <li class="version">
          <a href="../rubocop-minitest/0.32/index.html">0.32</a>
        </li>
        <li class="version">
          <a href="../rubocop-minitest/0.31/index.html">0.31</a>
        </li>
        <li class="version">
          <a href="../rubocop-minitest/0.30/index.html">0.30</a>
        </li>
        <li class="version">
          <a href="../rubocop-minitest/0.29/index.html">0.29</a>
        </li>
        <li class="version">
          <a href="../rubocop-minitest/0.28/index.html">0.28</a>
        </li>
        <li class="version">
          <a href="../rubocop-minitest/0.27/index.html">0.27</a>
        </li>
        <li class="version">
          <a href="../rubocop-minitest/0.26/index.html">0.26</a>
        </li>
        <li class="version">
          <a href="../rubocop-minitest/0.25/index.html">0.25</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../rubocop-packaging/index.html">RuboCop Packaging</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../rubocop-packaging/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../rubocop-performance/index.html">RuboCop Performance</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../rubocop-performance/index.html">default</a>
        </li>
        <li class="version">
          <a href="../rubocop-performance/1.23/index.html">1.23</a>
        </li>
        <li class="version">
          <a href="../rubocop-performance/1.22/index.html">1.22</a>
        </li>
        <li class="version">
          <a href="../rubocop-performance/1.21/index.html">1.21</a>
        </li>
        <li class="version">
          <a href="../rubocop-performance/1.20/index.html">1.20</a>
        </li>
        <li class="version">
          <a href="../rubocop-performance/1.19/index.html">1.19</a>
        </li>
        <li class="version">
          <a href="../rubocop-performance/1.18/index.html">1.18</a>
        </li>
        <li class="version">
          <a href="../rubocop-performance/1.17/index.html">1.17</a>
        </li>
        <li class="version">
          <a href="../rubocop-performance/1.16/index.html">1.16</a>
        </li>
        <li class="version">
          <a href="../rubocop-performance/1.15/index.html">1.15</a>
        </li>
        <li class="version">
          <a href="../rubocop-performance/1.14/index.html">1.14</a>
        </li>
        <li class="version">
          <a href="../rubocop-performance/1.13/index.html">1.13</a>
        </li>
        <li class="version">
          <a href="../rubocop-performance/1.12/index.html">1.12</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../rubocop-rails/index.html">RuboCop Rails</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../rubocop-rails/index.html">default</a>
        </li>
        <li class="version">
          <a href="../rubocop-rails/2.29/index.html">2.29</a>
        </li>
        <li class="version">
          <a href="../rubocop-rails/2.28/index.html">2.28</a>
        </li>
        <li class="version">
          <a href="../rubocop-rails/2.27/index.html">2.27</a>
        </li>
        <li class="version">
          <a href="../rubocop-rails/2.26/index.html">2.26</a>
        </li>
        <li class="version">
          <a href="../rubocop-rails/2.25/index.html">2.25</a>
        </li>
        <li class="version">
          <a href="../rubocop-rails/2.24/index.html">2.24</a>
        </li>
        <li class="version">
          <a href="../rubocop-rails/2.23/index.html">2.23</a>
        </li>
        <li class="version">
          <a href="../rubocop-rails/2.22/index.html">2.22</a>
        </li>
        <li class="version">
          <a href="../rubocop-rails/2.21/index.html">2.21</a>
        </li>
        <li class="version">
          <a href="../rubocop-rails/2.20/index.html">2.20</a>
        </li>
        <li class="version">
          <a href="../rubocop-rails/2.19/index.html">2.19</a>
        </li>
        <li class="version">
          <a href="../rubocop-rails/2.18/index.html">2.18</a>
        </li>
        <li class="version">
          <a href="../rubocop-rails/2.17/index.html">2.17</a>
        </li>
        <li class="version">
          <a href="../rubocop-rails/2.16/index.html">2.16</a>
        </li>
        <li class="version">
          <a href="../rubocop-rails/2.15/index.html">2.15</a>
        </li>
        <li class="version">
          <a href="../rubocop-rails/2.14/index.html">2.14</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../rubocop-rspec/index.html">RuboCop RSpec</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../rubocop-rspec/index.html">default</a>
        </li>
        <li class="version">
          <a href="../rubocop-rspec/3.1/index.html">3.1</a>
        </li>
        <li class="version">
          <a href="../rubocop-rspec/3.0/index.html">3.0</a>
        </li>
        <li class="version">
          <a href="../rubocop-rspec/2.31/index.html">2.31</a>
        </li>
        <li class="version">
          <a href="../rubocop-rspec/2.30/index.html">2.30</a>
        </li>
        <li class="version">
          <a href="../rubocop-rspec/2.29/index.html">2.29</a>
        </li>
        <li class="version">
          <a href="../rubocop-rspec/2.28/index.html">2.28</a>
        </li>
        <li class="version">
          <a href="../rubocop-rspec/2.27/index.html">2.27</a>
        </li>
        <li class="version">
          <a href="../rubocop-rspec/2.26/index.html">2.26</a>
        </li>
        <li class="version">
          <a href="../rubocop-rspec/2.25/index.html">2.25</a>
        </li>
        <li class="version">
          <a href="../rubocop-rspec/1.44/index.html">1.44</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../rubocop-rspec_rails/index.html">RuboCop RSpec Rails</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../rubocop-rspec_rails/index.html">default</a>
        </li>
        <li class="version">
          <a href="../rubocop-rspec_rails/2.30/index.html">2.30</a>
        </li>
        <li class="version">
          <a href="../rubocop-rspec_rails/2.29/index.html">2.29</a>
        </li>
        <li class="version">
          <a href="../rubocop-rspec_rails/2.28/index.html">2.28</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="1.72/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">RuboCop</a></li>
    <li>Cop Documentation</li>
    <li><a href="cops_lint.html">Lint</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">default</button>
  <div class="version-menu">
    <a class="version is-current" href="cops_lint.html">default</a>
    <a class="version" href="1.72/cops_lint.html">1.72</a>
    <a class="version" href="1.71/cops_lint.html">1.71</a>
    <a class="version" href="1.70/cops_lint.html">1.70</a>
    <a class="version" href="1.69/cops_lint.html">1.69</a>
    <a class="version" href="1.68/cops_lint.html">1.68</a>
    <a class="version" href="1.67/cops_lint.html">1.67</a>
    <a class="version" href="1.66/cops_lint.html">1.66</a>
    <a class="version" href="1.65/cops_lint.html">1.65</a>
    <a class="version" href="1.64/cops_lint.html">1.64</a>
    <a class="version" href="1.63/cops_lint.html">1.63</a>
    <a class="version" href="1.62/cops_lint.html">1.62</a>
    <a class="version" href="1.61/cops_lint.html">1.61</a>
    <a class="version" href="1.60/cops_lint.html">1.60</a>
    <a class="version" href="1.0/cops_lint.html">1.0</a>
  </div>
</div>
<div class="edit-this-page"><a href="https://github.com/rubocop/rubocop/edit/master/docs/modules/ROOT/pages/cops_lint.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Lint</h1>
<div class="sect1">
<h2 id="lintambiguousassignment"><a class="anchor" href="#lintambiguousassignment"></a>Lint/AmbiguousAssignment</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for mistyped shorthand assignments.</p>
</div>
<div class="sect2">
<h3 id="examples-lintambiguousassignment"><a class="anchor" href="#examples-lintambiguousassignment"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
x =- y
x =+ y
x =* y
x =! y

# good
x -= y # or x = -y
x += y # or x = +y
x *= y # or x = *y
x != y # or x = !y</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintambiguousblockassociation"><a class="anchor" href="#lintambiguousblockassociation"></a>Lint/AmbiguousBlockAssociation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.48</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.13</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for ambiguous block association with method
when param passed without parentheses.</p>
</div>
<div class="paragraph">
<p>This cop can customize allowed methods with <code>AllowedMethods</code>.
By default, there are no methods to allowed.</p>
</div>
<div class="sect2">
<h3 id="examples-lintambiguousblockassociation"><a class="anchor" href="#examples-lintambiguousblockassociation"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
some_method a { |val| puts val }

# good
# With parentheses, there's no ambiguity.
some_method(a { |val| puts val })
# or (different meaning)
some_method(a) { |val| puts val }

# good
# Operator methods require no disambiguation
foo == bar { |b| b.baz }

# good
# Lambda arguments require no disambiguation
foo = -&gt;(bar) { bar.baz }</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowedmethods_-__-_default_-lintambiguousblockassociation"><a class="anchor" href="#allowedmethods_-__-_default_-lintambiguousblockassociation"></a>AllowedMethods: [] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
expect { do_something }.to change { object.attribute }</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowedmethods_-_change_-lintambiguousblockassociation"><a class="anchor" href="#allowedmethods_-_change_-lintambiguousblockassociation"></a>AllowedMethods: [change]</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
expect { do_something }.to change { object.attribute }</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowedpatterns_-__-_default_-lintambiguousblockassociation"><a class="anchor" href="#allowedpatterns_-__-_default_-lintambiguousblockassociation"></a>AllowedPatterns: [] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
expect { do_something }.to change { object.attribute }</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowedpatterns_-__change__-lintambiguousblockassociation"><a class="anchor" href="#allowedpatterns_-__change__-lintambiguousblockassociation"></a>AllowedPatterns: ['change']</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
expect { do_something }.to change { object.attribute }
expect { do_something }.to not_change { object.attribute }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintambiguousblockassociation"><a class="anchor" href="#configurable-attributes-lintambiguousblockassociation"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedPatterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintambiguousoperator"><a class="anchor" href="#lintambiguousoperator"></a>Lint/AmbiguousOperator</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.83</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for ambiguous operators in the first argument of a
method invocation without parentheses.</p>
</div>
<div class="sect2">
<h3 id="examples-lintambiguousoperator"><a class="anchor" href="#examples-lintambiguousoperator"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad

# The `*` is interpreted as a splat operator but it could possibly be
# a `*` method invocation (i.e. `do_something.*(some_array)`).
do_something *some_array

# good

# With parentheses, there's no ambiguity.
do_something(*some_array)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-lintambiguousoperator"><a class="anchor" href="#references-lintambiguousoperator"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#method-invocation-parens" class="bare">https://rubystyle.guide#method-invocation-parens</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintambiguousoperatorprecedence"><a class="anchor" href="#lintambiguousoperatorprecedence"></a>Lint/AmbiguousOperatorPrecedence</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for expressions containing multiple binary operators
where precedence is ambiguous due to lack of parentheses. For example,
in <code>1 + 2 * 3</code>, the multiplication will happen before the addition, but
lexically it appears that the addition will happen first.</p>
</div>
<div class="paragraph">
<p>The cop does not consider unary operators (ie. <code>!a</code> or <code>-b</code>) or comparison
operators (ie. <code>a =~ b</code>) because those are not ambiguous.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Ranges are handled by <code>Lint/AmbiguousRange</code>.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-lintambiguousoperatorprecedence"><a class="anchor" href="#examples-lintambiguousoperatorprecedence"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
a + b * c
a || b &amp;&amp; c
a ** b + c

# good (different precedence)
a + (b * c)
a || (b &amp;&amp; c)
(a ** b) + c

# good (same precedence)
a + b + c
a * b / c % d</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintambiguousrange"><a class="anchor" href="#lintambiguousrange"></a>Lint/AmbiguousRange</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for ambiguous ranges.</p>
</div>
<div class="paragraph">
<p>Ranges have quite low precedence, which leads to unexpected behavior when
using a range with other operators. This cop avoids that by making ranges
explicit by requiring parenthesis around complex range boundaries (anything
that is not a literal: numerics, strings, symbols, etc.).</p>
</div>
<div class="paragraph">
<p>This cop can be configured with <code>RequireParenthesesForMethodChains</code> in order to
specify whether method chains (including <code>self.foo</code>) should be wrapped in parens
by this cop.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Regardless of this configuration, if a method receiver is a basic literal
value, it will be wrapped in order to prevent the ambiguity of <code>1..2.to_a</code>.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="safety-lintambiguousrange"><a class="anchor" href="#safety-lintambiguousrange"></a>Safety</h3>
<div class="paragraph">
<p>The cop autocorrects by wrapping the entire boundary in parentheses, which
makes the outcome more explicit but is possible to not be the intention of the
programmer. For this reason, this cop&#8217;s autocorrect is unsafe (it will not
change the behavior of the code, but will not necessarily match the
intent of the program).</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintambiguousrange"><a class="anchor" href="#examples-lintambiguousrange"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
x || 1..2
(x || 1..2)
1..2.to_a

# good, unambiguous
1..2
'a'..'z'
:bar..:baz
MyClass::MIN..MyClass::MAX
@min..@max
a..b
-a..b

# good, ambiguity removed
x || (1..2)
(x || 1)..2
(x || 1)..(y || 2)
(1..2).to_a</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="requireparenthesesformethodchains_-false-_default_-lintambiguousrange"><a class="anchor" href="#requireparenthesesformethodchains_-false-_default_-lintambiguousrange"></a>RequireParenthesesForMethodChains: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
a.foo..b.bar
(a.foo)..(b.bar)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="requireparenthesesformethodchains_-true-lintambiguousrange"><a class="anchor" href="#requireparenthesesformethodchains_-true-lintambiguousrange"></a>RequireParenthesesForMethodChains: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
a.foo..b.bar

# good
(a.foo)..(b.bar)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintambiguousrange"><a class="anchor" href="#configurable-attributes-lintambiguousrange"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RequireParenthesesForMethodChains</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintambiguousregexpliteral"><a class="anchor" href="#lintambiguousregexpliteral"></a>Lint/AmbiguousRegexpLiteral</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.83</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for ambiguous regexp literals in the first argument of
a method invocation without parentheses.</p>
</div>
<div class="sect2">
<h3 id="examples-lintambiguousregexpliteral"><a class="anchor" href="#examples-lintambiguousregexpliteral"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad

# This is interpreted as a method invocation with a regexp literal,
# but it could possibly be `/` method invocations.
# (i.e. `do_something./(pattern)./(i)`)
do_something /pattern/i

# good

# With parentheses, there's no ambiguity.
do_something(/pattern/i)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintarrayliteralinregexp"><a class="anchor" href="#lintarrayliteralinregexp"></a>Lint/ArrayLiteralInRegexp</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.71</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for an array literal interpolated inside a regexp.</p>
</div>
<div class="paragraph">
<p>When interpolating an array literal, it is converted to a string. This means
that when inside a regexp, it acts as a character class but with additional
quotes, spaces and commas that are likely not intended. For example,
<code>/#{%w[a b c]}/</code> parses as <code>/["a", "b", "c"]/</code> (or <code>/["a, bc]/</code> without
repeated characters).</p>
</div>
<div class="paragraph">
<p>The cop can autocorrect to a character class (if all items in the array are a
single character) or alternation (if the array contains longer items).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This only considers interpolated arrays that contain only strings, symbols,
integers, and floats. Any other type is not easily convertible to a character class
or regexp alternation.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="safety-lintarrayliteralinregexp"><a class="anchor" href="#safety-lintarrayliteralinregexp"></a>Safety</h3>
<div class="paragraph">
<p>Autocorrection is unsafe because it will change the regexp pattern, by
removing the additional quotes, spaces and commas from the character class.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintarrayliteralinregexp"><a class="anchor" href="#examples-lintarrayliteralinregexp"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
/#{%w[a b c]}/

# good
/[abc]/

# bad
/#{%w[foo bar baz]}/

# good
/(?:foo|bar|baz)/

# bad - construct a regexp rather than interpolate an array of identifiers
/#{[foo, bar]}/</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintassignmentincondition"><a class="anchor" href="#lintassignmentincondition"></a>Lint/AssignmentInCondition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.45</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for assignments in the conditions of
if/while/until.</p>
</div>
<div class="paragraph">
<p><code>AllowSafeAssignment</code> option for safe assignment.
By safe assignment we mean putting parentheses around
an assignment to indicate "I know I&#8217;m using an assignment
as a condition. It&#8217;s not a mistake."</p>
</div>
<div class="sect2">
<h3 id="safety-lintassignmentincondition"><a class="anchor" href="#safety-lintassignmentincondition"></a>Safety</h3>
<div class="paragraph">
<p>This cop&#8217;s autocorrection is unsafe because it assumes that
the author meant to use an assignment result as a condition.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintassignmentincondition"><a class="anchor" href="#examples-lintassignmentincondition"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if some_var = value
  do_something
end

# good
if some_var == value
  do_something
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowsafeassignment_-true-_default_-lintassignmentincondition"><a class="anchor" href="#allowsafeassignment_-true-_default_-lintassignmentincondition"></a>AllowSafeAssignment: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
if (some_var = value)
  do_something
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowsafeassignment_-false-lintassignmentincondition"><a class="anchor" href="#allowsafeassignment_-false-lintassignmentincondition"></a>AllowSafeAssignment: false</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if (some_var = value)
  do_something
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintassignmentincondition"><a class="anchor" href="#configurable-attributes-lintassignmentincondition"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowSafeAssignment</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-lintassignmentincondition"><a class="anchor" href="#references-lintassignmentincondition"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#safe-assignment-in-condition" class="bare">https://rubystyle.guide#safe-assignment-in-condition</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintbigdecimalnew"><a class="anchor" href="#lintbigdecimalnew"></a>Lint/BigDecimalNew</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><code>BigDecimal.new()</code> is deprecated since BigDecimal 1.3.3.
This cop identifies places where <code>BigDecimal.new()</code>
can be replaced by <code>BigDecimal()</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-lintbigdecimalnew"><a class="anchor" href="#examples-lintbigdecimalnew"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
BigDecimal.new(123.456, 3)

# good
BigDecimal(123.456, 3)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintbinaryoperatorwithidenticaloperands"><a class="anchor" href="#lintbinaryoperatorwithidenticaloperands"></a>Lint/BinaryOperatorWithIdenticalOperands</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.89</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.69</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for places where binary operator has identical operands.</p>
</div>
<div class="paragraph">
<p>It covers comparison operators: <code>==</code>, <code>===</code>, <code>=~</code>, <code>&gt;</code>, <code>&gt;=</code>, <code>&lt;</code>, <code>&#8656;</code>;
bitwise operators: <code>|</code>, <code>^</code>, <code>&amp;</code>;
boolean operators: <code>&amp;&amp;</code>, <code>||</code>
and "spaceship" operator - <code>&lt;&#8658;</code>.</p>
</div>
<div class="paragraph">
<p>Simple arithmetic operations are allowed by this cop: <code>+</code>, <code><strong></code>, <code></strong>*</code>, <code>&lt;&lt;</code> and <code>&gt;&gt;</code>.
Although these can be rewritten in a different way, it should not be necessary to
do so. Operations such as <code>-</code> or <code>/</code> where the result will always be the same
(<code>x - x</code> will always be 0; <code>x / x</code> will always be 1) are offenses, but these
are covered by <code>Lint/NumericOperationWithConstantResult</code> instead.</p>
</div>
<div class="sect2">
<h3 id="safety-lintbinaryoperatorwithidenticaloperands"><a class="anchor" href="#safety-lintbinaryoperatorwithidenticaloperands"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe as it does not consider side effects when calling methods
and thus can generate false positives, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">if wr.take_char == '\0' &amp;&amp; wr.take_char == '\0'
  # ...
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintbinaryoperatorwithidenticaloperands"><a class="anchor" href="#examples-lintbinaryoperatorwithidenticaloperands"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
x.top &gt;= x.top

if a.x != 0 &amp;&amp; a.x != 0
  do_something
end

def child?
  left_child || left_child
end

# good
x + x
1 &lt;&lt; 1</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintbooleansymbol"><a class="anchor" href="#lintbooleansymbol"></a>Lint/BooleanSymbol</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.50</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.22</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for <code>:true</code> and <code>:false</code> symbols.
In most cases it would be a typo.</p>
</div>
<div class="sect2">
<h3 id="safety-lintbooleansymbol"><a class="anchor" href="#safety-lintbooleansymbol"></a>Safety</h3>
<div class="paragraph">
<p>Autocorrection is unsafe for this cop because code relying
on <code>:true</code> or <code>:false</code> symbols will break when those are
changed to actual booleans.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintbooleansymbol"><a class="anchor" href="#examples-lintbooleansymbol"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
:true

# good
true

# bad
:false

# good
false</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintcircularargumentreference"><a class="anchor" href="#lintcircularargumentreference"></a>Lint/CircularArgumentReference</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Requires Ruby version &#8656; 2.6
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.33</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for circular argument references in optional keyword
arguments and optional ordinal arguments.</p>
</div>
<div class="paragraph">
<p>This cop mirrors a warning produced by MRI since 2.2.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This syntax is no longer valid on Ruby 2.7 or higher.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-lintcircularargumentreference"><a class="anchor" href="#examples-lintcircularargumentreference"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def bake(pie: pie)
  pie.heat_up
end

# good
def bake(pie:)
  pie.refrigerate
end

# good
def bake(pie: self.pie)
  pie.feed_to(user)
end

# bad
def cook(dry_ingredients = dry_ingredients)
  dry_ingredients.reduce(&amp;:+)
end

# good
def cook(dry_ingredients = self.dry_ingredients)
  dry_ingredients.combine
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintconstantdefinitioninblock"><a class="anchor" href="#lintconstantdefinitioninblock"></a>Lint/ConstantDefinitionInBlock</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.91</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Do not define constants within a block, since the block&#8217;s scope does not
isolate or namespace the constant in any way.</p>
</div>
<div class="paragraph">
<p>If you are trying to define that constant once, define it outside of
the block instead, or use a variable or method if defining the constant
in the outer scope would be problematic.</p>
</div>
<div class="paragraph">
<p>For meta-programming, use <code>const_set</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-lintconstantdefinitioninblock"><a class="anchor" href="#examples-lintconstantdefinitioninblock"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
task :lint do
  FILES_TO_LINT = Dir['lib/*.rb']
end

# bad
describe 'making a request' do
  class TestRequest; end
end

# bad
module M
  extend ActiveSupport::Concern
  included do
    LIST = []
  end
end

# good
task :lint do
  files_to_lint = Dir['lib/*.rb']
end

# good
describe 'making a request' do
  let(:test_request) { Class.new }
  # see also `stub_const` for RSpec
end

# good
module M
  extend ActiveSupport::Concern
  included do
    const_set(:LIST, [])
  end
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowedmethods_-__enums__-_default_-lintconstantdefinitioninblock"><a class="anchor" href="#allowedmethods_-__enums__-_default_-lintconstantdefinitioninblock"></a>AllowedMethods: ['enums'] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good

# `enums` for Typed Enums via `T::Enum` in Sorbet.
# https://sorbet.org/docs/tenum
class TestEnum &lt; T::Enum
  enums do
    Foo = new("foo")
  end
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintconstantdefinitioninblock"><a class="anchor" href="#configurable-attributes-lintconstantdefinitioninblock"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>enums</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-lintconstantdefinitioninblock"><a class="anchor" href="#references-lintconstantdefinitioninblock"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-constant-definition-in-block" class="bare">https://rubystyle.guide#no-constant-definition-in-block</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintconstantoverwritteninrescue"><a class="anchor" href="#lintconstantoverwritteninrescue"></a>Lint/ConstantOverwrittenInRescue</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for overwriting an exception with an exception result by use <code>rescue &#8658;</code>.</p>
</div>
<div class="paragraph">
<p>You intended to write as <code>rescue StandardError</code>.
However, you have written <code>rescue &#8658; StandardError</code>.
In that case, the result of <code>rescue</code> will overwrite <code>StandardError</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-lintconstantoverwritteninrescue"><a class="anchor" href="#examples-lintconstantoverwritteninrescue"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
begin
  something
rescue =&gt; StandardError
end

# good
begin
  something
rescue StandardError
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintconstantreassignment"><a class="anchor" href="#lintconstantreassignment"></a>Lint/ConstantReassignment</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.70</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for constant reassignments.</p>
</div>
<div class="paragraph">
<p>Emulates Ruby&#8217;s runtime warning "already initialized constant X"
when a constant is reassigned in the same file and namespace using the
<code>NAME = value</code> syntax.</p>
</div>
<div class="paragraph">
<p>The cop cannot catch all offenses, like, for example, when a constant
is reassigned in another file, or when using metaprogramming (<code>Module#const_set</code>).</p>
</div>
<div class="paragraph">
<p>The cop only takes into account constants assigned in a "simple" way: directly
inside class/module definition, or within another constant. Other type of assignments
(e.g., inside a conditional) are disregarded.</p>
</div>
<div class="paragraph">
<p>The cop also tracks constant removal using <code>Module#remove_const</code> with symbol
or string argument.</p>
</div>
<div class="sect2">
<h3 id="examples-lintconstantreassignment"><a class="anchor" href="#examples-lintconstantreassignment"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
X = :foo
X = :bar

# bad
class A
  X = :foo
  X = :bar
end

# bad
module A
  X = :foo
  X = :bar
end

# good - keep only one assignment
X = :bar

class A
  X = :bar
end

module A
  X = :bar
end

# good - use OR assignment
X = :foo
X ||= :bar

# good - use conditional assignment
X = :foo
X = :bar unless defined?(X)

# good - remove the assigned constant first
class A
  X = :foo
  remove_const :X
  X = :bar
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintconstantresolution"><a class="anchor" href="#lintconstantresolution"></a>Lint/ConstantResolution</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.86</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Check that certain constants are fully qualified.</p>
</div>
<div class="paragraph">
<p>This is not enabled by default because it would mark a lot of offenses
unnecessarily.</p>
</div>
<div class="paragraph">
<p>Generally, gems should fully qualify all constants to avoid conflicts with
the code that uses the gem. Enable this cop without using <code>Only</code>/<code>Ignore</code></p>
</div>
<div class="paragraph">
<p>Large projects will over time end up with one or two constant names that
are problematic because of a conflict with a library or just internally
using the same name a namespace and a class. To avoid too many unnecessary
offenses, Enable this cop with <code>Only: [The, Constant, Names, Causing, Issues]</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>Style/RedundantConstantBase</code> cop is disabled if this cop is enabled to prevent
conflicting rules. Because it respects user configurations that want to enable
this cop which is disabled by default.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-lintconstantresolution"><a class="anchor" href="#examples-lintconstantresolution"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># By default checks every constant

# bad
User

# bad
User::Login

# good
::User

# good
::User::Login</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="only_-__login__-lintconstantresolution"><a class="anchor" href="#only_-__login__-lintconstantresolution"></a>Only: ['Login']</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># Restrict this cop to only being concerned about certain constants

# bad
Login

# good
::Login

# good
User::Login</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ignore_-__login__-lintconstantresolution"><a class="anchor" href="#ignore_-__login__-lintconstantresolution"></a>Ignore: ['Login']</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># Restrict this cop not being concerned about certain constants

# bad
User

# good
::User::Login

# good
Login</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintconstantresolution"><a class="anchor" href="#configurable-attributes-lintconstantresolution"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ignore</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintcopdirectivesyntax"><a class="anchor" href="#lintcopdirectivesyntax"></a>Lint/CopDirectiveSyntax</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.72</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks that <code># rubocop:enable &#8230;&#8203;</code> and <code># rubocop:disable &#8230;&#8203;</code> statements
are strictly formatted.</p>
</div>
<div class="paragraph">
<p>A comment can be added to the directive by prefixing it with <code>--</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-lintcopdirectivesyntax"><a class="anchor" href="#examples-lintcopdirectivesyntax"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
# rubocop:disable Layout/LineLength Style/Encoding
#                                  ^ missing comma

# bad
# rubocop:disable

# bad
# rubocop:disable Layout/LineLength # rubocop:disable Style/Encoding

# bad
# rubocop:wrongmode Layout/LineLength

# good
# rubocop:disable Layout/LineLength

# good
# rubocop:disable Layout/LineLength, Style/Encoding

# good
# rubocop:disable all

# good
# rubocop:disable Layout/LineLength -- This is a good comment.</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintdebugger"><a class="anchor" href="#lintdebugger"></a>Lint/Debugger</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.63</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for debug calls (such as <code>debugger</code> or <code>binding.pry</code>) that should
not be kept for production code.</p>
</div>
<div class="paragraph">
<p>The cop can be configured using <code>DebuggerMethods</code>. By default, a number of gems
debug entrypoints are configured (<code>Kernel</code>, <code>Byebug</code>, <code>Capybara</code>, <code>debug.rb</code>,
<code>Pry</code>, <code>Rails</code>, <code>RubyJard</code>, and <code>WebConsole</code>). Additional methods can be added.</p>
</div>
<div class="paragraph">
<p>Specific default groups can be disabled if necessary:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">Lint/Debugger:
  DebuggerMethods:
    WebConsole: ~</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also add your own methods by adding a new category:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">Lint/Debugger:
  DebuggerMethods:
    MyDebugger:
      MyDebugger.debug_this</code></pre>
</div>
</div>
<div class="paragraph">
<p>Some gems also ship files that will start a debugging session when required,
for example <code>require 'debug/start'</code> from <code>ruby/debug</code>. These requires can
be configured through <code>DebuggerRequires</code>. It has the same structure as
<code>DebuggerMethods</code>, which you can read about above.</p>
</div>
<div class="sect2">
<h3 id="examples-lintdebugger"><a class="anchor" href="#examples-lintdebugger"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad (ok during development)

# using pry
def some_method
  binding.pry
  do_something
end

# bad (ok during development)

# using byebug
def some_method
  byebug
  do_something
end

# good

def some_method
  do_something
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="debuggermethods_-_my_debugger_-lintdebugger"><a class="anchor" href="#debuggermethods_-_my_debugger_-lintdebugger"></a>DebuggerMethods: [my_debugger]</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad (ok during development)

def some_method
  my_debugger
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="debuggerrequires_-_my_debuggerstart_-lintdebugger"><a class="anchor" href="#debuggerrequires_-_my_debuggerstart_-lintdebugger"></a>DebuggerRequires: [my_debugger/start]</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad (ok during development)

require 'my_debugger/start'</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintdebugger"><a class="anchor" href="#configurable-attributes-lintdebugger"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DebuggerMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{"Kernel" &#8658; ["binding.irb", "Kernel.binding.irb"], "Byebug" &#8658; ["byebug", "remote_byebug", "Kernel.byebug", "Kernel.remote_byebug"], "Capybara" &#8658; ["page.save_and_open_page", "page.save_and_open_screenshot", "page.save_page", "page.save_screenshot", "save_and_open_page", "save_and_open_screenshot", "save_page", "save_screenshot"], "debug.rb" &#8658; ["binding.b", "binding.break", "Kernel.binding.b", "Kernel.binding.break"], "Pry" &#8658; ["binding.pry", "binding.remote_pry", "binding.pry_remote", "Kernel.binding.pry", "Kernel.binding.remote_pry", "Kernel.binding.pry_remote", "Pry.rescue", "pry"], "Rails" &#8658; ["debugger", "Kernel.debugger"], "RubyJard" &#8658; ["jard"], "WebConsole" &#8658; ["binding.console"]}</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DebuggerRequires</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{"debug.rb" &#8658; ["debug/open", "debug/start"]}</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintdeprecatedclassmethods"><a class="anchor" href="#lintdeprecatedclassmethods"></a>Lint/DeprecatedClassMethods</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of the deprecated class method usages.</p>
</div>
<div class="sect2">
<h3 id="examples-lintdeprecatedclassmethods"><a class="anchor" href="#examples-lintdeprecatedclassmethods"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
File.exists?(some_path)
Dir.exists?(some_path)
iterator?
attr :name, true
attr :name, false
ENV.freeze # Calling `Env.freeze` raises `TypeError` since Ruby 2.7.
ENV.clone
ENV.dup # Calling `Env.dup` raises `TypeError` since Ruby 3.1.
Socket.gethostbyname(host)
Socket.gethostbyaddr(host)

# good
File.exist?(some_path)
Dir.exist?(some_path)
block_given?
attr_accessor :name
attr_reader :name
ENV # `ENV.freeze` cannot prohibit changes to environment variables.
ENV.to_h
ENV.to_h # `ENV.dup` cannot dup `ENV`, use `ENV.to_h` to get a copy of `ENV` as a hash.
Addrinfo.getaddrinfo(nodename, service)
Addrinfo.tcp(host, port).getnameinfo</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintdeprecatedconstants"><a class="anchor" href="#lintdeprecatedconstants"></a>Lint/DeprecatedConstants</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.40</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for deprecated constants.</p>
</div>
<div class="paragraph">
<p>It has <code>DeprecatedConstants</code> config. If there is an alternative method, you can set
alternative value as <code>Alternative</code>. And you can set the deprecated version as
<code>DeprecatedVersion</code>. These options can be omitted if they are not needed.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>DeprecatedConstants:
  'DEPRECATED_CONSTANT':
    Alternative: 'alternative_value'
    DeprecatedVersion: 'deprecated_version'</pre>
</div>
</div>
<div class="paragraph">
<p>By default, <code>NIL</code>, <code>TRUE</code>, <code>FALSE</code>, <code>Net::HTTPServerException, `Random::DEFAULT</code>,
<code>Struct::Group</code>, and <code>Struct::Passwd</code> are configured.</p>
</div>
<div class="sect2">
<h3 id="examples-lintdeprecatedconstants"><a class="anchor" href="#examples-lintdeprecatedconstants"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
NIL
TRUE
FALSE
Net::HTTPServerException
Random::DEFAULT # Return value of Ruby 2 is `Random` instance, Ruby 3.0 is `Random` class.
Struct::Group
Struct::Passwd

# good
nil
true
false
Net::HTTPClientException
Random.new # `::DEFAULT` has been deprecated in Ruby 3, `.new` is compatible with Ruby 2.
Etc::Group
Etc::Passwd</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintdeprecatedconstants"><a class="anchor" href="#configurable-attributes-lintdeprecatedconstants"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DeprecatedConstants</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{"NIL" &#8658; {"Alternative" &#8658; "nil", "DeprecatedVersion" &#8658; "2.4"}, "TRUE" &#8658; {"Alternative" &#8658; "true", "DeprecatedVersion" &#8658; "2.4"}, "FALSE" &#8658; {"Alternative" &#8658; "false", "DeprecatedVersion" &#8658; "2.4"}, "Net::HTTPServerException" &#8658; {"Alternative" &#8658; "Net::HTTPClientException", "DeprecatedVersion" &#8658; "2.6"}, "Random::DEFAULT" &#8658; {"Alternative" &#8658; "Random.new", "DeprecatedVersion" &#8658; "3.0"}, "Struct::Group" &#8658; {"Alternative" &#8658; "Etc::Group", "DeprecatedVersion" &#8658; "3.0"}, "Struct::Passwd" &#8658; {"Alternative" &#8658; "Etc::Passwd", "DeprecatedVersion" &#8658; "3.0"}}</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintdeprecatedopensslconstant"><a class="anchor" href="#lintdeprecatedopensslconstant"></a>Lint/DeprecatedOpenSSLConstant</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.84</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Algorithmic constants for <code>OpenSSL::Cipher</code> and <code>OpenSSL::Digest</code>
deprecated since OpenSSL version 2.2.0. Prefer passing a string
instead.</p>
</div>
<div class="sect2">
<h3 id="examples-lintdeprecatedopensslconstant"><a class="anchor" href="#examples-lintdeprecatedopensslconstant"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
OpenSSL::Cipher::AES.new(128, :GCM)

# good
OpenSSL::Cipher.new('aes-128-gcm')

# bad
OpenSSL::Digest::SHA256.new

# good
OpenSSL::Digest.new('SHA256')

# bad
OpenSSL::Digest::SHA256.digest('foo')

# good
OpenSSL::Digest.digest('SHA256', 'foo')</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintdisjunctiveassignmentinconstructor"><a class="anchor" href="#lintdisjunctiveassignmentinconstructor"></a>Lint/DisjunctiveAssignmentInConstructor</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.62</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.88</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks constructors for disjunctive assignments (<code>||=</code>) that should
be plain assignments.</p>
</div>
<div class="paragraph">
<p>So far, this cop is only concerned with disjunctive assignment of
instance variables.</p>
</div>
<div class="paragraph">
<p>In ruby, an instance variable is nil until a value is assigned, so the
disjunction is unnecessary. A plain assignment has the same effect.</p>
</div>
<div class="sect2">
<h3 id="safety-lintdisjunctiveassignmentinconstructor"><a class="anchor" href="#safety-lintdisjunctiveassignmentinconstructor"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because it can register a false positive when a
method is redefined in a subclass that calls super. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">class Base
  def initialize
    @config ||= 'base'
  end
end

class Derived &lt; Base
  def initialize
    @config = 'derived'
    super
  end
end</code></pre>
</div>
</div>
<div class="paragraph">
<p>Without the disjunctive assignment, <code>Derived</code> will be unable to override
the value for <code>@config</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintdisjunctiveassignmentinconstructor"><a class="anchor" href="#examples-lintdisjunctiveassignmentinconstructor"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def initialize
  @x ||= 1
end

# good
def initialize
  @x = 1
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintduplicatebranch"><a class="anchor" href="#lintduplicatebranch"></a>Lint/DuplicateBranch</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.7</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks that there are no repeated bodies
within <code>if/unless</code>, <code>case-when</code>, <code>case-in</code> and <code>rescue</code> constructs.</p>
</div>
<div class="paragraph">
<p>With <code>IgnoreLiteralBranches: true</code>, branches are not registered
as offenses if they return a basic literal value (string, symbol,
integer, float, rational, complex, <code>true</code>, <code>false</code>, or <code>nil</code>), or
return an array, hash, regexp or range that only contains one of
the above basic literal values.</p>
</div>
<div class="paragraph">
<p>With <code>IgnoreConstantBranches: true</code>, branches are not registered
as offenses if they return a constant value.</p>
</div>
<div class="paragraph">
<p>With <code>IgnoreDuplicateElseBranch: true</code>, in conditionals with multiple branches,
duplicate 'else' branches are not registered as offenses.</p>
</div>
<div class="sect2">
<h3 id="examples-lintduplicatebranch"><a class="anchor" href="#examples-lintduplicatebranch"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if foo
  do_foo
  do_something_else
elsif bar
  do_foo
  do_something_else
end

# good
if foo || bar
  do_foo
  do_something_else
end

# bad
case x
when foo
  do_foo
when bar
  do_foo
else
  do_something_else
end

# good
case x
when foo, bar
  do_foo
else
  do_something_else
end

# bad
begin
  do_something
rescue FooError
  handle_error
rescue BarError
  handle_error
end

# good
begin
  do_something
rescue FooError, BarError
  handle_error
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="ignoreliteralbranches_-true-lintduplicatebranch"><a class="anchor" href="#ignoreliteralbranches_-true-lintduplicatebranch"></a>IgnoreLiteralBranches: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
case size
when "small" then 100
when "medium" then 250
when "large" then 1000
else 250
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ignoreconstantbranches_-true-lintduplicatebranch"><a class="anchor" href="#ignoreconstantbranches_-true-lintduplicatebranch"></a>IgnoreConstantBranches: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
case size
when "small" then SMALL_SIZE
when "medium" then MEDIUM_SIZE
when "large" then LARGE_SIZE
else MEDIUM_SIZE
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ignoreduplicateelsebranch_-true-lintduplicatebranch"><a class="anchor" href="#ignoreduplicateelsebranch_-true-lintduplicatebranch"></a>IgnoreDuplicateElseBranch: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
if foo
  do_foo
elsif bar
  do_bar
else
  do_foo
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintduplicatebranch"><a class="anchor" href="#configurable-attributes-lintduplicatebranch"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IgnoreLiteralBranches</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IgnoreConstantBranches</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IgnoreDuplicateElseBranch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintduplicatecasecondition"><a class="anchor" href="#lintduplicatecasecondition"></a>Lint/DuplicateCaseCondition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.45</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks that there are no repeated conditions
used in case 'when' expressions.</p>
</div>
<div class="sect2">
<h3 id="examples-lintduplicatecasecondition"><a class="anchor" href="#examples-lintduplicatecasecondition"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
case x
when 'first'
  do_something
when 'first'
  do_something_else
end

# good
case x
when 'first'
  do_something
when 'second'
  do_something_else
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintduplicateelsifcondition"><a class="anchor" href="#lintduplicateelsifcondition"></a>Lint/DuplicateElsifCondition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.88</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks that there are no repeated conditions used in if 'elsif'.</p>
</div>
<div class="sect2">
<h3 id="examples-lintduplicateelsifcondition"><a class="anchor" href="#examples-lintduplicateelsifcondition"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if x == 1
  do_something
elsif x == 1
  do_something_else
end

# good
if x == 1
  do_something
elsif x == 2
  do_something_else
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintduplicatehashkey"><a class="anchor" href="#lintduplicatehashkey"></a>Lint/DuplicateHashKey</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.34</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.77</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for duplicated keys in hash literals.
This cop considers both primitive types and constants for the hash keys.</p>
</div>
<div class="paragraph">
<p>This cop mirrors a warning in Ruby 2.2.</p>
</div>
<div class="sect2">
<h3 id="examples-lintduplicatehashkey"><a class="anchor" href="#examples-lintduplicatehashkey"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
hash = { food: 'apple', food: 'orange' }

# good
hash = { food: 'apple', other_food: 'orange' }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintduplicatemagiccomment"><a class="anchor" href="#lintduplicatemagiccomment"></a>Lint/DuplicateMagicComment</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.37</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for duplicated magic comments.</p>
</div>
<div class="sect2">
<h3 id="examples-lintduplicatemagiccomment"><a class="anchor" href="#examples-lintduplicatemagiccomment"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad

# encoding: ascii
# encoding: ascii

# good

# encoding: ascii

# bad

# frozen_string_literal: true
# frozen_string_literal: true

# good

# frozen_string_literal: true</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintduplicatematchpattern"><a class="anchor" href="#lintduplicatematchpattern"></a>Lint/DuplicateMatchPattern</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Requires Ruby version 2.7
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.50</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks that there are no repeated patterns used in <code>in</code> keywords.</p>
</div>
<div class="sect2">
<h3 id="examples-lintduplicatematchpattern"><a class="anchor" href="#examples-lintduplicatematchpattern"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
case x
in 'first'
  do_something
in 'first'
  do_something_else
end

# good
case x
in 'first'
  do_something
in 'second'
  do_something_else
end

# bad - repeated alternate patterns with the same conditions don't depend on the order
case x
in foo | bar
  first_method
in bar | foo
  second_method
end

# good
case x
in foo | bar
  first_method
in bar | baz
  second_method
end

# bad - repeated hash patterns with the same conditions don't depend on the order
case x
in foo: a, bar: b
  first_method
in bar: b, foo: a
  second_method
end

# good
case x
in foo: a, bar: b
  first_method
in bar: b, baz: c
  second_method
end

# bad - repeated array patterns with elements in the same order
case x
in [foo, bar]
  first_method
in [foo, bar]
  second_method
end

# good
case x
in [foo, bar]
  first_method
in [bar, foo]
  second_method
end

# bad - repeated the same patterns and guard conditions
case x
in foo if bar
  first_method
in foo if bar
  second_method
end

# good
case x
in foo if bar
  first_method
in foo if baz
  second_method
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintduplicatemethods"><a class="anchor" href="#lintduplicatemethods"></a>Lint/DuplicateMethods</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.29</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for duplicated instance (or singleton) method
definitions.</p>
</div>
<div class="sect2">
<h3 id="examples-lintduplicatemethods"><a class="anchor" href="#examples-lintduplicatemethods"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def foo
  1
end

def foo
  2
end

# bad
def foo
  1
end

alias foo bar

# good
def foo
  1
end

def bar
  2
end

# good
def foo
  1
end

alias bar foo</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintduplicateregexpcharacterclasselement"><a class="anchor" href="#lintduplicateregexpcharacterclasselement"></a>Lint/DuplicateRegexpCharacterClassElement</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for duplicate elements in <code>Regexp</code> character classes.</p>
</div>
<div class="sect2">
<h3 id="examples-lintduplicateregexpcharacterclasselement"><a class="anchor" href="#examples-lintduplicateregexpcharacterclasselement"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
r = /[xyx]/

# bad
r = /[0-9x0-9]/

# good
r = /[xy]/

# good
r = /[0-9x]/</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintduplicaterequire"><a class="anchor" href="#lintduplicaterequire"></a>Lint/DuplicateRequire</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.90</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.28</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for duplicate <code>require</code>s and <code>require_relative</code>s.</p>
</div>
<div class="sect2">
<h3 id="safety-lintduplicaterequire"><a class="anchor" href="#safety-lintduplicaterequire"></a>Safety</h3>
<div class="paragraph">
<p>This cop&#8217;s autocorrection is unsafe because it may break the dependency order
of <code>require</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintduplicaterequire"><a class="anchor" href="#examples-lintduplicaterequire"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
require 'foo'
require 'bar'
require 'foo'

# good
require 'foo'
require 'bar'

# good
require 'foo'
require_relative 'foo'</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintduplicaterescueexception"><a class="anchor" href="#lintduplicaterescueexception"></a>Lint/DuplicateRescueException</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.89</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks that there are no repeated exceptions
used in 'rescue' expressions.</p>
</div>
<div class="sect2">
<h3 id="examples-lintduplicaterescueexception"><a class="anchor" href="#examples-lintduplicaterescueexception"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
begin
  something
rescue FirstException
  handle_exception
rescue FirstException
  handle_other_exception
end

# good
begin
  something
rescue FirstException
  handle_exception
rescue SecondException
  handle_other_exception
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintduplicatesetelement"><a class="anchor" href="#lintduplicatesetelement"></a>Lint/DuplicateSetElement</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.67</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for duplicate literal, constant, or variable elements in <code>Set</code> and <code>SortedSet</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-lintduplicatesetelement"><a class="anchor" href="#examples-lintduplicatesetelement"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
Set[:foo, :bar, :foo]

# good
Set[:foo, :bar]

# bad
Set.new([:foo, :bar, :foo])

# good
Set.new([:foo, :bar])

# bad
[:foo, :bar, :foo].to_set

# good
[:foo, :bar].to_set

# bad
SortedSet[:foo, :bar, :foo]

# good
SortedSet[:foo, :bar]

# bad
SortedSet.new([:foo, :bar, :foo])

# good
SortedSet.new([:foo, :bar])</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="linteachwithobjectargument"><a class="anchor" href="#linteachwithobjectargument"></a>Lint/EachWithObjectArgument</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks if each_with_object is called with an immutable
argument. Since the argument is the object that the given block shall
make calls on to build something based on the enumerable that
each_with_object iterates over, an immutable argument makes no sense.
It&#8217;s definitely a bug.</p>
</div>
<div class="sect2">
<h3 id="examples-linteachwithobjectargument"><a class="anchor" href="#examples-linteachwithobjectargument"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
sum = numbers.each_with_object(0) { |e, a| a += e }

# good
num = 0
sum = numbers.each_with_object(num) { |e, a| a += e }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintelselayout"><a class="anchor" href="#lintelselayout"></a>Lint/ElseLayout</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.2</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for odd <code>else</code> block layout - like
having an expression on the same line as the <code>else</code> keyword,
which is usually a mistake.</p>
</div>
<div class="paragraph">
<p>Its autocorrection tweaks layout to keep the syntax. So, this autocorrection
is compatible correction for bad case syntax, but if your code makes a mistake
with <code>elsif</code> and <code>else</code>, you will have to correct it manually.</p>
</div>
<div class="sect2">
<h3 id="examples-lintelselayout"><a class="anchor" href="#examples-lintelselayout"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad

if something
  # ...
else do_this
  do_that
end

# good

# This code is compatible with the bad case. It will be autocorrected like this.
if something
  # ...
else
  do_this
  do_that
end

# This code is incompatible with the bad case.
# If `do_this` is a condition, `elsif` should be used instead of `else`.
if something
  # ...
elsif do_this
  do_that
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintemptyblock"><a class="anchor" href="#lintemptyblock"></a>Lint/EmptyBlock</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.15</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for blocks without a body.
Such empty blocks are typically an oversight or we should provide a comment
to clarify what we&#8217;re aiming for.</p>
</div>
<div class="paragraph">
<p>Empty lambdas and procs are ignored by default.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For backwards compatibility, the configuration that allows/disallows
empty lambdas and procs is called <code>AllowEmptyLambdas</code>, even though it also
applies to procs.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-lintemptyblock"><a class="anchor" href="#examples-lintemptyblock"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
items.each { |item| }

# good
items.each { |item| puts item }</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowcomments_-true-_default_-lintemptyblock"><a class="anchor" href="#allowcomments_-true-_default_-lintemptyblock"></a>AllowComments: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
items.each do |item|
  # TODO: implement later (inner comment)
end

items.each { |item| } # TODO: implement later (inline comment)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowcomments_-false-lintemptyblock"><a class="anchor" href="#allowcomments_-false-lintemptyblock"></a>AllowComments: false</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
items.each do |item|
  # TODO: implement later (inner comment)
end

items.each { |item| } # TODO: implement later (inline comment)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowemptylambdas_-true-_default_-lintemptyblock"><a class="anchor" href="#allowemptylambdas_-true-_default_-lintemptyblock"></a>AllowEmptyLambdas: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
allow(subject).to receive(:callable).and_return(-&gt; {})

placeholder = lambda do
end
(callable || placeholder).call

proc { }

Proc.new { }</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowemptylambdas_-false-lintemptyblock"><a class="anchor" href="#allowemptylambdas_-false-lintemptyblock"></a>AllowEmptyLambdas: false</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
allow(subject).to receive(:callable).and_return(-&gt; {})

placeholder = lambda do
end
(callable || placeholder).call

proc { }

Proc.new { }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintemptyblock"><a class="anchor" href="#configurable-attributes-lintemptyblock"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowComments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowEmptyLambdas</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintemptyclass"><a class="anchor" href="#lintemptyclass"></a>Lint/EmptyClass</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for classes and metaclasses without a body.
Such empty classes and metaclasses are typically an oversight or we should provide a comment
to be clearer what we&#8217;re aiming for.</p>
</div>
<div class="sect2">
<h3 id="examples-lintemptyclass"><a class="anchor" href="#examples-lintemptyclass"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class Foo
end

class Bar
  class &lt;&lt; self
  end
end

class &lt;&lt; obj
end

# good
class Foo
  def do_something
    # ... code
  end
end

class Bar
  class &lt;&lt; self
    attr_reader :bar
  end
end

class &lt;&lt; obj
  attr_reader :bar
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowcomments_-false-_default_-lintemptyclass"><a class="anchor" href="#allowcomments_-false-_default_-lintemptyclass"></a>AllowComments: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class Foo
  # TODO: implement later
end

class Bar
  class &lt;&lt; self
    # TODO: implement later
  end
end

class &lt;&lt; obj
  # TODO: implement later
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowcomments_-true-lintemptyclass"><a class="anchor" href="#allowcomments_-true-lintemptyclass"></a>AllowComments: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
class Foo
  # TODO: implement later
end

class Bar
  class &lt;&lt; self
    # TODO: implement later
  end
end

class &lt;&lt; obj
  # TODO: implement later
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintemptyclass"><a class="anchor" href="#configurable-attributes-lintemptyclass"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowComments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintemptyconditionalbody"><a class="anchor" href="#lintemptyconditionalbody"></a>Lint/EmptyConditionalBody</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command-line only (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.89</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.61</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the presence of <code>if</code>, <code>elsif</code> and <code>unless</code> branches without a body.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
empty <code>else</code> branches are handled by <code>Style/EmptyElse</code>.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="safety-lintemptyconditionalbody"><a class="anchor" href="#safety-lintemptyconditionalbody"></a>Safety</h3>
<div class="paragraph">
<p>Autocorrection for this cop is not safe. The conditions for empty branches that
the autocorrection removes may have side effects, or the logic in subsequent
branches may change due to the removal of a previous condition.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintemptyconditionalbody"><a class="anchor" href="#examples-lintemptyconditionalbody"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if condition
end

# bad
unless condition
end

# bad
if condition
  do_something
elsif other_condition
end

# good
if condition
  do_something
end

# good
unless condition
  do_something
end

# good
if condition
  do_something
elsif other_condition
  do_something_else
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowcomments_-true-_default_-lintemptyconditionalbody"><a class="anchor" href="#allowcomments_-true-_default_-lintemptyconditionalbody"></a>AllowComments: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
if condition
  do_something
elsif other_condition
  # noop
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowcomments_-false-lintemptyconditionalbody"><a class="anchor" href="#allowcomments_-false-lintemptyconditionalbody"></a>AllowComments: false</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if condition
  do_something
elsif other_condition
  # noop
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintemptyconditionalbody"><a class="anchor" href="#configurable-attributes-lintemptyconditionalbody"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowComments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintemptyensure"><a class="anchor" href="#lintemptyensure"></a>Lint/EmptyEnsure</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command-line only</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.61</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for empty <code>ensure</code> blocks.</p>
</div>
<div class="sect2">
<h3 id="examples-lintemptyensure"><a class="anchor" href="#examples-lintemptyensure"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def some_method
  do_something
ensure
end

# bad
begin
  do_something
ensure
end

# good
def some_method
  do_something
ensure
  do_something_else
end

# good
begin
  do_something
ensure
  do_something_else
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintemptyexpression"><a class="anchor" href="#lintemptyexpression"></a>Lint/EmptyExpression</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.45</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the presence of empty expressions.</p>
</div>
<div class="sect2">
<h3 id="examples-lintemptyexpression"><a class="anchor" href="#examples-lintemptyexpression"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad

foo = ()
if ()
  bar
end

# good

foo = (some_expression)
if (some_expression)
  bar
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintemptyfile"><a class="anchor" href="#lintemptyfile"></a>Lint/EmptyFile</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.90</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enforces that Ruby source files are not empty.</p>
</div>
<div class="sect2">
<h3 id="examples-lintemptyfile"><a class="anchor" href="#examples-lintemptyfile"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
# Empty file

# good
# File containing non commented source lines</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowcomments_-true-_default_-lintemptyfile"><a class="anchor" href="#allowcomments_-true-_default_-lintemptyfile"></a>AllowComments: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
# File consisting only of comments</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowcomments_-false-lintemptyfile"><a class="anchor" href="#allowcomments_-false-lintemptyfile"></a>AllowComments: false</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
# File consisting only of comments</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintemptyfile"><a class="anchor" href="#configurable-attributes-lintemptyfile"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowComments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintemptyinpattern"><a class="anchor" href="#lintemptyinpattern"></a>Lint/EmptyInPattern</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Requires Ruby version 2.7
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the presence of <code>in</code> pattern branches without a body.</p>
</div>
<div class="sect2">
<h3 id="examples-lintemptyinpattern"><a class="anchor" href="#examples-lintemptyinpattern"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
case condition
in [a]
  do_something
in [a, b]
end

# good
case condition
in [a]
  do_something
in [a, b]
  nil
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowcomments_-true-_default_-lintemptyinpattern"><a class="anchor" href="#allowcomments_-true-_default_-lintemptyinpattern"></a>AllowComments: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
case condition
in [a]
  do_something
in [a, b]
  # noop
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowcomments_-false-lintemptyinpattern"><a class="anchor" href="#allowcomments_-false-lintemptyinpattern"></a>AllowComments: false</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
case condition
in [a]
  do_something
in [a, b]
  # noop
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintemptyinpattern"><a class="anchor" href="#configurable-attributes-lintemptyinpattern"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowComments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintemptyinterpolation"><a class="anchor" href="#lintemptyinterpolation"></a>Lint/EmptyInterpolation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command-line only</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.61</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for empty interpolation.</p>
</div>
<div class="sect2">
<h3 id="examples-lintemptyinterpolation"><a class="anchor" href="#examples-lintemptyinterpolation"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
"result is #{}"

# good
"result is #{some_result}"</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintemptywhen"><a class="anchor" href="#lintemptywhen"></a>Lint/EmptyWhen</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.45</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.83</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the presence of <code>when</code> branches without a body.</p>
</div>
<div class="sect2">
<h3 id="examples-lintemptywhen"><a class="anchor" href="#examples-lintemptywhen"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
case foo
when bar
  do_something
when baz
end

# good
case condition
when foo
  do_something
when bar
  nil
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowcomments_-true-_default_-lintemptywhen"><a class="anchor" href="#allowcomments_-true-_default_-lintemptywhen"></a>AllowComments: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
case condition
when foo
  do_something
when bar
  # noop
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowcomments_-false-lintemptywhen"><a class="anchor" href="#allowcomments_-false-lintemptywhen"></a>AllowComments: false</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
case condition
when foo
  do_something
when bar
  # do nothing
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintemptywhen"><a class="anchor" href="#configurable-attributes-lintemptywhen"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowComments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintensurereturn"><a class="anchor" href="#lintensurereturn"></a>Lint/EnsureReturn</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.83</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for <code>return</code> from an <code>ensure</code> block.
<code>return</code> from an ensure block is a dangerous code smell as it
will take precedence over any exception being raised,
and the exception will be silently thrown away as if it were rescued.</p>
</div>
<div class="paragraph">
<p>If you want to rescue some (or all) exceptions, best to do it explicitly</p>
</div>
<div class="sect2">
<h3 id="examples-lintensurereturn"><a class="anchor" href="#examples-lintensurereturn"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def foo
  do_something
ensure
  cleanup
  return self
end

# good
def foo
  do_something
  self
ensure
  cleanup
end

# good
def foo
  begin
    do_something
  rescue SomeException
    # Let's ignore this exception
  end
  self
ensure
  cleanup
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-lintensurereturn"><a class="anchor" href="#references-lintensurereturn"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-return-ensure" class="bare">https://rubystyle.guide#no-return-ensure</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="linterbnewarguments"><a class="anchor" href="#linterbnewarguments"></a>Lint/ErbNewArguments</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Requires Ruby version 2.6
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.56</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Emulates the following Ruby warnings in Ruby 2.6.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">$ cat example.rb
ERB.new('hi', nil, '-', '@output_buffer')
$ ruby -rerb example.rb
example.rb:1: warning: Passing safe_level with the 2nd argument of ERB.new is
deprecated. Do not use it, and specify other arguments as keyword arguments.
example.rb:1: warning: Passing trim_mode with the 3rd argument of ERB.new is
deprecated. Use keyword argument like ERB.new(str, trim_mode:...) instead.
example.rb:1: warning: Passing eoutvar with the 4th argument of ERB.new is
deprecated. Use keyword argument like ERB.new(str, eoutvar: ...) instead.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now non-keyword arguments other than first one are softly deprecated
and will be removed when Ruby 2.5 becomes EOL.
<code>ERB.new</code> with non-keyword arguments is deprecated since ERB 2.2.0.
Use <code>:trim_mode</code> and <code>:eoutvar</code> keyword arguments to <code>ERB.new</code>.
This cop identifies places where <code>ERB.new(str, trim_mode, eoutvar)</code> can
be replaced by <code>ERB.new(str, :trim_mode: trim_mode, eoutvar: eoutvar)</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-linterbnewarguments"><a class="anchor" href="#examples-linterbnewarguments"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># Target codes supports Ruby 2.6 and higher only
# bad
ERB.new(str, nil, '-', '@output_buffer')

# good
ERB.new(str, trim_mode: '-', eoutvar: '@output_buffer')

# Target codes supports Ruby 2.5 and lower only
# good
ERB.new(str, nil, '-', '@output_buffer')

# Target codes supports Ruby 2.6, 2.5 and lower
# bad
ERB.new(str, nil, '-', '@output_buffer')

# good
# Ruby standard library style
# https://github.com/ruby/ruby/commit/3406c5d
if ERB.instance_method(:initialize).parameters.assoc(:key) # Ruby 2.6+
  ERB.new(str, trim_mode: '-', eoutvar: '@output_buffer')
else
  ERB.new(str, nil, '-', '@output_buffer')
end

# good
# Use `RUBY_VERSION` style
if RUBY_VERSION &gt;= '2.6'
  ERB.new(str, trim_mode: '-', eoutvar: '@output_buffer')
else
  ERB.new(str, nil, '-', '@output_buffer')
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintflipflop"><a class="anchor" href="#lintflipflop"></a>Lint/FlipFlop</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for uses of flip-flop operator
based on the Ruby Style Guide.</p>
</div>
<div class="paragraph">
<p>Here is the history of flip-flops in Ruby.
flip-flop operator is deprecated in Ruby 2.6.0 and
the deprecation has been reverted by Ruby 2.7.0 and
backported to Ruby 2.6.
See: <a href="https://bugs.ruby-lang.org/issues/5400" class="bare">https://bugs.ruby-lang.org/issues/5400</a></p>
</div>
<div class="sect2">
<h3 id="examples-lintflipflop"><a class="anchor" href="#examples-lintflipflop"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
(1..20).each do |x|
  puts x if (x == 5) .. (x == 10)
end

# good
(1..20).each do |x|
  puts x if (x &gt;= 5) &amp;&amp; (x &lt;= 10)
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-lintflipflop"><a class="anchor" href="#references-lintflipflop"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-flip-flops" class="bare">https://rubystyle.guide#no-flip-flops</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintfloatcomparison"><a class="anchor" href="#lintfloatcomparison"></a>Lint/FloatComparison</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.89</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the presence of precise comparison of floating point numbers.</p>
</div>
<div class="paragraph">
<p>Floating point values are inherently inaccurate, and comparing them for exact equality
is almost never the desired semantics. Comparison via the <code>==/!=</code> operators checks
floating-point value representation to be exactly the same, which is very unlikely
if you perform any arithmetic operations involving precision loss.</p>
</div>
<div class="sect2">
<h3 id="examples-lintfloatcomparison"><a class="anchor" href="#examples-lintfloatcomparison"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
x == 0.1
x != 0.1

# good - using BigDecimal
x.to_d == 0.1.to_d

# good - comparing against zero
x == 0.0
x != 0.0

# good
(x - 0.1).abs &lt; Float::EPSILON

# good
tolerance = 0.0001
(x - 0.1).abs &lt; tolerance

# good - comparing against nil
Float(x, exception: false) == nil

# Or some other epsilon based type of comparison:
# https://www.embeddeduse.com/2019/08/26/qt-compare-two-floats/</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-lintfloatcomparison"><a class="anchor" href="#references-lintfloatcomparison"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#float-comparison" class="bare">https://rubystyle.guide#float-comparison</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintfloatoutofrange"><a class="anchor" href="#lintfloatoutofrange"></a>Lint/FloatOutOfRange</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Identifies <code>Float</code> literals which are, like, really really really
really really really really really big. Too big. No-one needs Floats
that big. If you need a float that big, something is wrong with you.</p>
</div>
<div class="sect2">
<h3 id="examples-lintfloatoutofrange"><a class="anchor" href="#examples-lintfloatoutofrange"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
float = 3.0e400

# good
float = 42.9</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintformatparametermismatch"><a class="anchor" href="#lintformatparametermismatch"></a>Lint/FormatParameterMismatch</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.33</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This lint sees if there is a mismatch between the number of
expected fields for format/sprintf/#% and what is actually
passed as arguments.</p>
</div>
<div class="paragraph">
<p>In addition, it checks whether different formats are used in the same
format string. Do not mix numbered, unnumbered, and named formats in
the same format string.</p>
</div>
<div class="sect2">
<h3 id="examples-lintformatparametermismatch"><a class="anchor" href="#examples-lintformatparametermismatch"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
format('A value: %s and another: %i', a_value)

# good
format('A value: %s and another: %i', a_value, another)

# bad
format('Unnumbered format: %s and numbered: %2$s', a_value, another)

# good
format('Numbered format: %1$s and numbered %2$s', a_value, another)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="linthashcomparebyidentity"><a class="anchor" href="#linthashcomparebyidentity"></a>Lint/HashCompareByIdentity</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.93</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Prefer using <code>Hash#compare_by_identity</code> rather than using <code>object_id</code>
for hash keys.</p>
</div>
<div class="paragraph">
<p>This cop looks for hashes being keyed by objects' <code>object_id</code>, using
one of these methods: <code>key?</code>, <code>has_key?</code>, <code>fetch</code>, <code>[]</code> and <code>[]=</code>.</p>
</div>
<div class="sect2">
<h3 id="safety-linthashcomparebyidentity"><a class="anchor" href="#safety-linthashcomparebyidentity"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe. Although unlikely, the hash could store both object
ids and other values that need be compared by value, and thus
could be a false positive.</p>
</div>
<div class="paragraph">
<p>Furthermore, this cop cannot guarantee that the receiver of one of the
methods (<code>key?</code>, etc.) is actually a hash.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-linthashcomparebyidentity"><a class="anchor" href="#examples-linthashcomparebyidentity"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
hash = {}
hash[foo.object_id] = :bar
hash.key?(baz.object_id)

# good
hash = {}.compare_by_identity
hash[foo] = :bar
hash.key?(baz)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-linthashcomparebyidentity"><a class="anchor" href="#references-linthashcomparebyidentity"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#identity-comparison" class="bare">https://rubystyle.guide#identity-comparison</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="linthashnewwithkeywordargumentsasdefault"><a class="anchor" href="#linthashnewwithkeywordargumentsasdefault"></a>Lint/HashNewWithKeywordArgumentsAsDefault</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.69</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the deprecated use of keyword arguments as a default in <code>Hash.new</code>.</p>
</div>
<div class="paragraph">
<p>This usage raises a warning in Ruby 3.3 and results in an error in Ruby 3.4.
In Ruby 3.4, keyword arguments will instead be used to change the behavior of a hash.
For example, the capacity option can be passed to create a hash with a certain size
if you know it in advance, for better performance.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The following corner case may result in a false negative when upgrading from Ruby 3.3
or earlier, but it is intentionally not detected to respect the expected usage in Ruby 3.4.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">Hash.new(capacity: 42)</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="examples-linthashnewwithkeywordargumentsasdefault"><a class="anchor" href="#examples-linthashnewwithkeywordargumentsasdefault"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
Hash.new(key: :value)

# good
Hash.new({key: :value})</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintheredocmethodcallposition"><a class="anchor" href="#lintheredocmethodcallposition"></a>Lint/HeredocMethodCallPosition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.68</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the ordering of a method call where
the receiver of the call is a HEREDOC.</p>
</div>
<div class="sect2">
<h3 id="examples-lintheredocmethodcallposition"><a class="anchor" href="#examples-lintheredocmethodcallposition"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
&lt;&lt;-SQL
  bar
SQL
.strip_indent

&lt;&lt;-SQL
  bar
SQL
.strip_indent
.trim

# good
&lt;&lt;~SQL
  bar
SQL

&lt;&lt;~SQL.trim
  bar
SQL</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-lintheredocmethodcallposition"><a class="anchor" href="#references-lintheredocmethodcallposition"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#heredoc-method-calls" class="bare">https://rubystyle.guide#heredoc-method-calls</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintidentitycomparison"><a class="anchor" href="#lintidentitycomparison"></a>Lint/IdentityComparison</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.91</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Prefer <code>equal?</code> over <code>==</code> when comparing <code>object_id</code>.</p>
</div>
<div class="paragraph">
<p><code>Object#equal?</code> is provided to compare objects for identity, and in contrast
<code>Object#==</code> is provided for the purpose of doing value comparison.</p>
</div>
<div class="sect2">
<h3 id="examples-lintidentitycomparison"><a class="anchor" href="#examples-lintidentitycomparison"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo.object_id == bar.object_id

# good
foo.equal?(bar)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-lintidentitycomparison"><a class="anchor" href="#references-lintidentitycomparison"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#identity-comparison" class="bare">https://rubystyle.guide#identity-comparison</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintimplicitstringconcatenation"><a class="anchor" href="#lintimplicitstringconcatenation"></a>Lint/ImplicitStringConcatenation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for implicit string concatenation of string literals
which are on the same line.</p>
</div>
<div class="sect2">
<h3 id="examples-lintimplicitstringconcatenation"><a class="anchor" href="#examples-lintimplicitstringconcatenation"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
array = ['Item 1' 'Item 2']

# good
array = ['Item 1Item 2']
array = ['Item 1' + 'Item 2']
array = [
  'Item 1' \
  'Item 2'
]</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintincompatibleioselectwithfiberscheduler"><a class="anchor" href="#lintincompatibleioselectwithfiberscheduler"></a>Lint/IncompatibleIoSelectWithFiberScheduler</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.24</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for <code>IO.select</code> that is incompatible with Fiber Scheduler since Ruby 3.0.</p>
</div>
<div class="paragraph">
<p>When an array of IO objects waiting for an exception (the third argument of <code>IO.select</code>)
is used as an argument, there is no alternative API, so offenses are not registered.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
When the method is successful the return value of <code>IO.select</code> is <code><a id="IO"></a></code>,
and the return value of <code>io.wait_readable</code> and <code>io.wait_writable</code> are <code>self</code>.
They are not autocorrected when assigning a return value because these types are different.
It&#8217;s up to user how to handle the return value.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="safety-lintincompatibleioselectwithfiberscheduler"><a class="anchor" href="#safety-lintincompatibleioselectwithfiberscheduler"></a>Safety</h3>
<div class="paragraph">
<p>This cop&#8217;s autocorrection is unsafe because <code>NoMethodError</code> occurs
if <code>require 'io/wait'</code> is not called.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintincompatibleioselectwithfiberscheduler"><a class="anchor" href="#examples-lintincompatibleioselectwithfiberscheduler"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
IO.select([io], [], [], timeout)

# good
io.wait_readable(timeout)

# bad
IO.select([], [io], [], timeout)

# good
io.wait_writable(timeout)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintineffectiveaccessmodifier"><a class="anchor" href="#lintineffectiveaccessmodifier"></a>Lint/IneffectiveAccessModifier</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for <code>private</code> or <code>protected</code> access modifiers which are
applied to a singleton method. These access modifiers do not make
singleton methods private/protected. <code>private_class_method</code> can be
used for that.</p>
</div>
<div class="sect2">
<h3 id="examples-lintineffectiveaccessmodifier"><a class="anchor" href="#examples-lintineffectiveaccessmodifier"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class C
  private

  def self.method
    puts 'hi'
  end
end

# good
class C
  def self.method
    puts 'hi'
  end

  private_class_method :method
end

# good
class C
  class &lt;&lt; self
    private

    def method
      puts 'hi'
    end
  end
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintinheritexception"><a class="anchor" href="#lintinheritexception"></a>Lint/InheritException</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.41</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.26</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for error classes inheriting from <code>Exception</code>.
It is configurable to suggest using either <code>StandardError</code> (default) or
<code>RuntimeError</code> instead.</p>
</div>
<div class="sect2">
<h3 id="safety-lintinheritexception"><a class="anchor" href="#safety-lintinheritexception"></a>Safety</h3>
<div class="paragraph">
<p>This cop&#8217;s autocorrection is unsafe because <code>rescue</code> that omit
exception class handle <code>StandardError</code> and its subclasses,
but not <code>Exception</code> and its subclasses.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintinheritexception"><a class="anchor" href="#examples-lintinheritexception"></a>Examples</h3>
<div class="sect3">
<h4 id="enforcedstyle_-standard_error-_default_-lintinheritexception"><a class="anchor" href="#enforcedstyle_-standard_error-_default_-lintinheritexception"></a>EnforcedStyle: standard_error (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad

class C &lt; Exception; end

C = Class.new(Exception)

# good

class C &lt; StandardError; end

C = Class.new(StandardError)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-runtime_error-lintinheritexception"><a class="anchor" href="#enforcedstyle_-runtime_error-lintinheritexception"></a>EnforcedStyle: runtime_error</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad

class C &lt; Exception; end

C = Class.new(Exception)

# good

class C &lt; RuntimeError; end

C = Class.new(RuntimeError)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintinheritexception"><a class="anchor" href="#configurable-attributes-lintinheritexception"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>standard_error</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>standard_error</code>, <code>runtime_error</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintinterpolationcheck"><a class="anchor" href="#lintinterpolationcheck"></a>Lint/InterpolationCheck</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.50</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.40</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for interpolation in a single quoted string.</p>
</div>
<div class="sect2">
<h3 id="safety-lintinterpolationcheck"><a class="anchor" href="#safety-lintinterpolationcheck"></a>Safety</h3>
<div class="paragraph">
<p>This cop&#8217;s autocorrection is unsafe because although it always replaces single quotes as
if it were miswritten double quotes, it is not always the case. For example,
<code>'<mark>{foo} bar'</code> would be replaced by <code>"</mark>{foo} bar"</code>, so the replaced code would evaluate
the expression <code>foo</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintinterpolationcheck"><a class="anchor" href="#examples-lintinterpolationcheck"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo = 'something with #{interpolation} inside'

# good
foo = "something with #{interpolation} inside"</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintitwithoutargumentsinblock"><a class="anchor" href="#lintitwithoutargumentsinblock"></a>Lint/ItWithoutArgumentsInBlock</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Requires Ruby version &#8656; 3.3
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.59</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Emulates the following Ruby warning in Ruby 3.3.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">$ ruby -e '0.times { it }'
-e:1: warning: `it` calls without arguments will refer to the first block param in Ruby 3.4;
use it() or self.it</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>it</code> calls without arguments will refer to the first block param in Ruby 3.4.
So use <code>it()</code> or <code>self.it</code> to ensure compatibility.</p>
</div>
<div class="sect2">
<h3 id="examples-lintitwithoutargumentsinblock"><a class="anchor" href="#examples-lintitwithoutargumentsinblock"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
do_something { it }

# good
do_something { it() }
do_something { self.it }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-lintitwithoutargumentsinblock"><a class="anchor" href="#references-lintitwithoutargumentsinblock"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://bugs.ruby-lang.org/issues/18980" class="bare">https://bugs.ruby-lang.org/issues/18980</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintlambdawithoutliteralblock"><a class="anchor" href="#lintlambdawithoutliteralblock"></a>Lint/LambdaWithoutLiteralBlock</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks uses of lambda without a literal block.
It emulates the following warning in Ruby 3.0:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ ruby -vwe 'lambda(&amp;proc {})'
ruby 3.0.0p0 (2020-12-25 revision 95aff21468) [x86_64-darwin19]
-e:1: warning: lambda without a literal block is deprecated; use the proc without
lambda instead</pre>
</div>
</div>
<div class="paragraph">
<p>This way, proc object is never converted to lambda.
Autocorrection replaces with compatible proc argument.</p>
</div>
<div class="sect2">
<h3 id="examples-lintlambdawithoutliteralblock"><a class="anchor" href="#examples-lintlambdawithoutliteralblock"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
lambda(&amp;proc { do_something })
lambda(&amp;Proc.new { do_something })

# good
proc { do_something }
Proc.new { do_something }
lambda { do_something } # If you use lambda.</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintliteralascondition"><a class="anchor" href="#lintliteralascondition"></a>Lint/LiteralAsCondition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.51</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for literals used as the conditions or as
operands in and/or expressions serving as the conditions of
if/while/until/case-when/case-in.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Literals in <code>case-in</code> condition where the match variable is used in
<code>in</code> are accepted as a pattern matching.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-lintliteralascondition"><a class="anchor" href="#examples-lintliteralascondition"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if 20
  do_something
end

# bad
if some_var &amp;&amp; true
  do_something
end

# good
if some_var &amp;&amp; some_condition
  do_something
end

# good
# When using a boolean value for an infinite loop.
while true
  break if condition
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintliteralassignmentincondition"><a class="anchor" href="#lintliteralassignmentincondition"></a>Lint/LiteralAssignmentInCondition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.58</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for literal assignments in the conditions of <code>if</code>, <code>while</code>, and <code>until</code>.
It emulates the following Ruby warning:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">$ ruby -we 'if x = true; end'
-e:1: warning: found `= literal' in conditional, should be ==</code></pre>
</div>
</div>
<div class="paragraph">
<p>As a lint cop, it cannot be determined if <code>==</code> is appropriate as intended,
therefore this cop does not provide autocorrection.</p>
</div>
<div class="sect2">
<h3 id="examples-lintliteralassignmentincondition"><a class="anchor" href="#examples-lintliteralassignmentincondition"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if x = 42
  do_something
end

# good
if x == 42
  do_something
end

# good
if x = y
  do_something
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintliteralininterpolation"><a class="anchor" href="#lintliteralininterpolation"></a>Lint/LiteralInInterpolation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.32</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for interpolated literals.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Array literals interpolated in regexps are not handled by this cop, but
by <code>Lint/ArrayLiteralInRegexp</code> instead.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-lintliteralininterpolation"><a class="anchor" href="#examples-lintliteralininterpolation"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
"result is #{10}"

# good
"result is 10"</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintloop"><a class="anchor" href="#lintloop"></a>Lint/Loop</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of <code>begin&#8230;&#8203;end while/until something</code>.</p>
</div>
<div class="sect2">
<h3 id="safety-lintloop"><a class="anchor" href="#safety-lintloop"></a>Safety</h3>
<div class="paragraph">
<p>The cop is unsafe because behavior can change in some cases, including
if a local variable inside the loop body is accessed outside of it, or if the
loop body raises a <code>StopIteration</code> exception (which <code>Kernel#loop</code> rescues).</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintloop"><a class="anchor" href="#examples-lintloop"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad

# using while
begin
  do_something
end while some_condition

# good

# while replacement
loop do
  do_something
  break unless some_condition
end

# bad

# using until
begin
  do_something
end until some_condition

# good

# until replacement
loop do
  do_something
  break if some_condition
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-lintloop"><a class="anchor" href="#references-lintloop"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#loop-with-break" class="bare">https://rubystyle.guide#loop-with-break</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintmissingcopenabledirective"><a class="anchor" href="#lintmissingcopenabledirective"></a>Lint/MissingCopEnableDirective</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks that there is an <code># rubocop:enable &#8230;&#8203;</code> statement
after a <code># rubocop:disable &#8230;&#8203;</code> statement. This will prevent leaving
cop disables on wide ranges of code, that latter contributors to
a file wouldn&#8217;t be aware of.</p>
</div>
<div class="sect2">
<h3 id="examples-lintmissingcopenabledirective"><a class="anchor" href="#examples-lintmissingcopenabledirective"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># Lint/MissingCopEnableDirective:
#   MaximumRangeSize: .inf

# good
# rubocop:disable Layout/SpaceAroundOperators
x= 0
# rubocop:enable Layout/SpaceAroundOperators
# y = 1
# EOF

# bad
# rubocop:disable Layout/SpaceAroundOperators
x= 0
# EOF</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># Lint/MissingCopEnableDirective:
#   MaximumRangeSize: 2

# good
# rubocop:disable Layout/SpaceAroundOperators
x= 0
# With the previous, there are 2 lines on which cop is disabled.
# rubocop:enable Layout/SpaceAroundOperators

# bad
# rubocop:disable Layout/SpaceAroundOperators
x= 0
x += 1
# Including this, that's 3 lines on which the cop is disabled.
# rubocop:enable Layout/SpaceAroundOperators</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintmissingcopenabledirective"><a class="anchor" href="#configurable-attributes-lintmissingcopenabledirective"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MaximumRangeSize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Infinity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Float</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintmissingsuper"><a class="anchor" href="#lintmissingsuper"></a>Lint/MissingSuper</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.89</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.4</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the presence of constructors and lifecycle callbacks
without calls to <code>super</code>.</p>
</div>
<div class="paragraph">
<p>This cop does not consider <code>method_missing</code> (and <code>respond_to_missing?</code>)
because in some cases it makes sense to overtake what is considered a
missing method. In other cases, the theoretical ideal handling could be
challenging or verbose for no actual gain.</p>
</div>
<div class="paragraph">
<p>Autocorrection is not supported because the position of <code>super</code> cannot be
determined automatically.</p>
</div>
<div class="paragraph">
<p><code>Object</code> and <code>BasicObject</code> are allowed by this cop because of their
stateless nature. However, sometimes you might want to allow other parent
classes from this cop, for example in the case of an abstract class that is
not meant to be called with <code>super</code>. In those cases, you can use the
<code>AllowedParentClasses</code> option to specify which classes should be allowed
<strong>in addition to</strong> <code>Object</code> and <code>BasicObject</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-lintmissingsuper"><a class="anchor" href="#examples-lintmissingsuper"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class Employee &lt; Person
  def initialize(name, salary)
    @salary = salary
  end
end

# good
class Employee &lt; Person
  def initialize(name, salary)
    super(name)
    @salary = salary
  end
end

# bad
Employee = Class.new(Person) do
  def initialize(name, salary)
    @salary = salary
  end
end

# good
Employee = Class.new(Person) do
  def initialize(name, salary)
    super(name)
    @salary = salary
  end
end

# bad
class Parent
  def self.inherited(base)
    do_something
  end
end

# good
class Parent
  def self.inherited(base)
    super
    do_something
  end
end

# good
class ClassWithNoParent
  def initialize
    do_something
  end
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowedparentclasses_-_myabstractclass_-lintmissingsuper"><a class="anchor" href="#allowedparentclasses_-_myabstractclass_-lintmissingsuper"></a>AllowedParentClasses: [MyAbstractClass]</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
class MyConcreteClass &lt; MyAbstractClass
  def initialize
    do_something
  end
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintmissingsuper"><a class="anchor" href="#configurable-attributes-lintmissingsuper"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedParentClasses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintmixedcaserange"><a class="anchor" href="#lintmixedcaserange"></a>Lint/MixedCaseRange</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for mixed-case character ranges since they include likely unintended characters.</p>
</div>
<div class="paragraph">
<p>Offenses are registered for regexp character classes like <code>/[A-z]/</code>
as well as range objects like <code>('A'..'z')</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>Range</code> objects cannot be autocorrected.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="safety-lintmixedcaserange"><a class="anchor" href="#safety-lintmixedcaserange"></a>Safety</h3>
<div class="paragraph">
<p>The cop autocorrects regexp character classes
by replacing one character range with two: <code>A-z</code> becomes <code>A-Za-z</code>.
In most cases this is probably what was originally intended
but it changes the regexp to no longer match symbols it used to include.
For this reason, this cop&#8217;s autocorrect is unsafe (it will
change the behavior of the code).</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintmixedcaserange"><a class="anchor" href="#examples-lintmixedcaserange"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
r = /[A-z]/

# good
r = /[A-Za-z]/</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintmixedregexpcapturetypes"><a class="anchor" href="#lintmixedregexpcapturetypes"></a>Lint/MixedRegexpCaptureTypes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.85</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Do not mix named captures and numbered captures in a <code>Regexp</code> literal
because numbered capture is ignored if they&#8217;re mixed.
Replace numbered captures with non-capturing groupings or
named captures.</p>
</div>
<div class="sect2">
<h3 id="examples-lintmixedregexpcapturetypes"><a class="anchor" href="#examples-lintmixedregexpcapturetypes"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
/(?&lt;foo&gt;FOO)(BAR)/

# good
/(?&lt;foo&gt;FOO)(?&lt;bar&gt;BAR)/

# good
/(?&lt;foo&gt;FOO)(?:BAR)/

# good
/(FOO)(BAR)/</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintmultiplecomparison"><a class="anchor" href="#lintmultiplecomparison"></a>Lint/MultipleComparison</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.47</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In math and Python, we can use <code>x &lt; y &lt; z</code> style comparison to compare
multiple value. However, we can&#8217;t use the comparison in Ruby. However,
the comparison is not syntax error. This cop checks the bad usage of
comparison operators.</p>
</div>
<div class="sect2">
<h3 id="examples-lintmultiplecomparison"><a class="anchor" href="#examples-lintmultiplecomparison"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
x &lt; y &lt; z
10 &lt;= x &lt;= 20

# good
x &lt; y &amp;&amp; y &lt; z
10 &lt;= x &amp;&amp; x &lt;= 20</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintnestedmethoddefinition"><a class="anchor" href="#lintnestedmethoddefinition"></a>Lint/NestedMethodDefinition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for nested method definitions.</p>
</div>
<div class="sect2">
<h3 id="examples-lintnestedmethoddefinition"><a class="anchor" href="#examples-lintnestedmethoddefinition"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad

# `bar` definition actually produces methods in the same scope
# as the outer `foo` method. Furthermore, the `bar` method
# will be redefined every time `foo` is invoked.
def foo
  def bar
  end
end

# good

def foo
  bar = -&gt; { puts 'hello' }
  bar.call
end

# good

# `class_eval`, `instance_eval`, `module_eval`, `class_exec`, `instance_exec`, and
# `module_exec` blocks are allowed by default.

def foo
  self.class.class_eval do
    def bar
    end
  end
end

def foo
  self.class.module_exec do
    def bar
    end
  end
end

# good

def foo
  class &lt;&lt; self
    def bar
    end
  end
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowedmethods_-__-_default_-lintnestedmethoddefinition"><a class="anchor" href="#allowedmethods_-__-_default_-lintnestedmethoddefinition"></a>AllowedMethods: [] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def do_something
  has_many :articles do
    def find_or_create_by_name(name)
    end
  end
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowedmethods_-__has_many__-lintnestedmethoddefinition"><a class="anchor" href="#allowedmethods_-__has_many__-lintnestedmethoddefinition"></a>AllowedMethods: ['has_many']</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def do_something
  has_many :articles do
    def find_or_create_by_name(name)
    end
  end
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowedpatterns_-__-_default_-lintnestedmethoddefinition"><a class="anchor" href="#allowedpatterns_-__-_default_-lintnestedmethoddefinition"></a>AllowedPatterns: [] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def foo(obj)
  obj.do_baz do
    def bar
    end
  end
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowedpatterns_-__baz__-lintnestedmethoddefinition"><a class="anchor" href="#allowedpatterns_-__baz__-lintnestedmethoddefinition"></a>AllowedPatterns: ['baz']</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
def foo(obj)
  obj.do_baz do
    def bar
    end
  end
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintnestedmethoddefinition"><a class="anchor" href="#configurable-attributes-lintnestedmethoddefinition"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedPatterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-lintnestedmethoddefinition"><a class="anchor" href="#references-lintnestedmethoddefinition"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-nested-methods" class="bare">https://rubystyle.guide#no-nested-methods</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintnestedpercentliteral"><a class="anchor" href="#lintnestedpercentliteral"></a>Lint/NestedPercentLiteral</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for nested percent literals.</p>
</div>
<div class="sect2">
<h3 id="examples-lintnestedpercentliteral"><a class="anchor" href="#examples-lintnestedpercentliteral"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad

# The percent literal for nested_attributes is parsed as four tokens,
# yielding the array [:name, :content, :"%i[incorrectly", :"nested]"].
attributes = {
  valid_attributes: %i[name content],
  nested_attributes: %i[name content %i[incorrectly nested]]
}

# good

# Neither is incompatible with the bad case, but probably the intended code.
attributes = {
  valid_attributes: %i[name content],
  nested_attributes: [:name, :content, %i[incorrectly nested]]
}

attributes = {
  valid_attributes: %i[name content],
  nested_attributes: [:name, :content, [:incorrectly, :nested]]
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintnextwithoutaccumulator"><a class="anchor" href="#lintnextwithoutaccumulator"></a>Lint/NextWithoutAccumulator</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Don&#8217;t omit the accumulator when calling <code>next</code> in a <code>reduce</code> block.</p>
</div>
<div class="sect2">
<h3 id="examples-lintnextwithoutaccumulator"><a class="anchor" href="#examples-lintnextwithoutaccumulator"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
result = (1..4).reduce(0) do |acc, i|
  next if i.odd?
  acc + i
end

# good
result = (1..4).reduce(0) do |acc, i|
  next acc if i.odd?
  acc + i
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintnoreturninbeginendblocks"><a class="anchor" href="#lintnoreturninbeginendblocks"></a>Lint/NoReturnInBeginEndBlocks</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the presence of a <code>return</code> inside a <code>begin..end</code> block
in assignment contexts.
In this situation, the <code>return</code> will result in an exit from the current
method, possibly leading to unexpected behavior.</p>
</div>
<div class="sect2">
<h3 id="examples-lintnoreturninbeginendblocks"><a class="anchor" href="#examples-lintnoreturninbeginendblocks"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
@some_variable ||= begin
  return some_value if some_condition_is_met

  do_something
end

# good
@some_variable ||= begin
  if some_condition_is_met
    some_value
  else
    do_something
  end
end

# good
some_variable = if some_condition_is_met
                  return if another_condition_is_met

                  some_value
                else
                  do_something
                end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintnonatomicfileoperation"><a class="anchor" href="#lintnonatomicfileoperation"></a>Lint/NonAtomicFileOperation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for non-atomic file operation.
And then replace it with a nearly equivalent and atomic method.</p>
</div>
<div class="paragraph">
<p>These can cause problems that are difficult to reproduce,
especially in cases of frequent file operations in parallel,
such as test runs with parallel_rspec.</p>
</div>
<div class="paragraph">
<p>For examples: creating a directory if there is none, has the following problems</p>
</div>
<div class="paragraph">
<p>An exception occurs when the directory didn&#8217;t exist at the time of <code>exist?</code>,
but someone else created it before <code>mkdir</code> was executed.</p>
</div>
<div class="paragraph">
<p>Subsequent processes are executed without the directory that should be there
when the directory existed at the time of <code>exist?</code>,
but someone else deleted it shortly afterwards.</p>
</div>
<div class="sect2">
<h3 id="safety-lintnonatomicfileoperation"><a class="anchor" href="#safety-lintnonatomicfileoperation"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe, because autocorrection change to atomic processing.
The atomic processing of the replacement destination is not guaranteed
to be strictly equivalent to that before the replacement.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintnonatomicfileoperation"><a class="anchor" href="#examples-lintnonatomicfileoperation"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad - race condition with another process may result in an error in `mkdir`
unless Dir.exist?(path)
  FileUtils.mkdir(path)
end

# good - atomic and idempotent creation
FileUtils.mkdir_p(path)

# bad - race condition with another process may result in an error in `remove`
if File.exist?(path)
  FileUtils.remove(path)
end

# good - atomic and idempotent removal
FileUtils.rm_f(path)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-lintnonatomicfileoperation"><a class="anchor" href="#references-lintnonatomicfileoperation"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#atomic-file-operations" class="bare">https://rubystyle.guide#atomic-file-operations</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintnondeterministicrequireorder"><a class="anchor" href="#lintnondeterministicrequireorder"></a>Lint/NonDeterministicRequireOrder</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Requires Ruby version &#8656; 2.7
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.78</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><code>Dir[&#8230;&#8203;]</code> and <code>Dir.glob(&#8230;&#8203;)</code> do not make any guarantees about
the order in which files are returned. The final order is
determined by the operating system and file system.
This means that using them in cases where the order matters,
such as requiring files, can lead to intermittent failures
that are hard to debug. To ensure this doesn&#8217;t happen,
always sort the list.</p>
</div>
<div class="paragraph">
<p><code>Dir.glob</code> and <code>Dir[]</code> sort globbed results by default in Ruby 3.0.
So all bad cases are acceptable when Ruby 3.0 or higher are used.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This cop will be deprecated and removed when supporting only Ruby 3.0 and higher.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="safety-lintnondeterministicrequireorder"><a class="anchor" href="#safety-lintnondeterministicrequireorder"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe in the case where sorting files changes existing
expected behavior.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintnondeterministicrequireorder"><a class="anchor" href="#examples-lintnondeterministicrequireorder"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
Dir["./lib/**/*.rb"].each do |file|
  require file
end

# good
Dir["./lib/**/*.rb"].sort.each do |file|
  require file
end

# bad
Dir.glob(Rails.root.join(__dir__, 'test', '*.rb')) do |file|
  require file
end

# good
Dir.glob(Rails.root.join(__dir__, 'test', '*.rb')).sort.each do |file|
  require file
end

# bad
Dir['./lib/**/*.rb'].each(&amp;method(:require))

# good
Dir['./lib/**/*.rb'].sort.each(&amp;method(:require))

# bad
Dir.glob(Rails.root.join('test', '*.rb'), &amp;method(:require))

# good
Dir.glob(Rails.root.join('test', '*.rb')).sort.each(&amp;method(:require))

# good - Respect intent if `sort` keyword option is specified in Ruby 3.0 or higher.
Dir.glob(Rails.root.join(__dir__, 'test', '*.rb'), sort: false).each(&amp;method(:require))</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintnonlocalexitfromiterator"><a class="anchor" href="#lintnonlocalexitfromiterator"></a>Lint/NonLocalExitFromIterator</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for non-local exits from iterators without a return
value. It registers an offense under these conditions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>No value is returned,</p>
</li>
<li>
<p>the block is preceded by a method chain,</p>
</li>
<li>
<p>the block has arguments,</p>
</li>
<li>
<p>the method which receives the block is not <code>define_method</code>
or <code>define_singleton_method</code>,</p>
</li>
<li>
<p>the return is not contained in an inner scope, e.g. a lambda or a
method definition.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="examples-lintnonlocalexitfromiterator"><a class="anchor" href="#examples-lintnonlocalexitfromiterator"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">class ItemApi
  rescue_from ValidationError do |e| # non-iteration block with arg
    return { message: 'validation error' } unless e.errors # allowed
    error_array = e.errors.map do |error| # block with method chain
      return if error.suppress? # warned
      return "#{error.param}: invalid" unless error.message # allowed
      "#{error.param}: #{error.message}"
    end
    { message: 'validation error', errors: error_array }
  end

  def update_items
    transaction do # block without arguments
      return unless update_necessary? # allowed
      find_each do |item| # block without method chain
        return if item.stock == 0 # false-negative...
        item.update!(foobar: true)
      end
    end
  end
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintnumberconversion"><a class="anchor" href="#lintnumberconversion"></a>Lint/NumberConversion</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Warns the usage of unsafe number conversions. Unsafe
number conversion can cause unexpected error if auto type conversion
fails. Cop prefer parsing with number class instead.</p>
</div>
<div class="paragraph">
<p>Conversion with <code>Integer</code>, <code>Float</code>, etc. will raise an <code>ArgumentError</code>
if given input that is not numeric (eg. an empty string), whereas
<code>to_i</code>, etc. will try to convert regardless of input (<code>''.to_i &#8658; 0</code>).
As such, this cop is disabled by default because it&#8217;s not necessarily
always correct to raise if a value is not numeric.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Some values cannot be converted properly using one of the <code>Kernel</code>
method (for instance, <code>Time</code> and <code>DateTime</code> values are allowed by this
cop by default). Similarly, Rails' duration methods do not work well
with <code>Integer()</code> and can be allowed with <code>AllowedMethods</code>. By default,
there are no methods to allowed.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="safety-lintnumberconversion"><a class="anchor" href="#safety-lintnumberconversion"></a>Safety</h3>
<div class="paragraph">
<p>Autocorrection is unsafe because it is not guaranteed that the
replacement <code>Kernel</code> methods are able to properly handle the
input if it is not a standard class.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintnumberconversion"><a class="anchor" href="#examples-lintnumberconversion"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad

'10'.to_i
'10.2'.to_f
'10'.to_c
'1/3'.to_r
['1', '2', '3'].map(&amp;:to_i)
foo.try(:to_f)
bar.send(:to_c)

# good

Integer('10', 10)
Float('10.2')
Complex('10')
Rational('1/3')
['1', '2', '3'].map { |i| Integer(i, 10) }
foo.try { |i| Float(i) }
bar.send { |i| Complex(i) }</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowedmethods_-__-_default_-lintnumberconversion"><a class="anchor" href="#allowedmethods_-__-_default_-lintnumberconversion"></a>AllowedMethods: [] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
10.minutes.to_i</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowedmethods_-_minutes_-lintnumberconversion"><a class="anchor" href="#allowedmethods_-_minutes_-lintnumberconversion"></a>AllowedMethods: [minutes]</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
10.minutes.to_i</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowedpatterns_-__-_default_-lintnumberconversion"><a class="anchor" href="#allowedpatterns_-__-_default_-lintnumberconversion"></a>AllowedPatterns: [] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
10.minutes.to_i</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowedpatterns_-__min___-lintnumberconversion"><a class="anchor" href="#allowedpatterns_-__min___-lintnumberconversion"></a>AllowedPatterns: ['min*']</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
10.minutes.to_i</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ignoredclasses_-_time_-datetime_-_default_-lintnumberconversion"><a class="anchor" href="#ignoredclasses_-_time_-datetime_-_default_-lintnumberconversion"></a>IgnoredClasses: [Time, DateTime] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
Time.now.to_datetime.to_i</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintnumberconversion"><a class="anchor" href="#configurable-attributes-lintnumberconversion"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedPatterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IgnoredClasses</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Time</code>, <code>DateTime</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintnumberedparameterassignment"><a class="anchor" href="#lintnumberedparameterassignment"></a>Lint/NumberedParameterAssignment</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of numbered parameter assignment.
It emulates the following warning in Ruby 2.7:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ ruby -ve '_1 = :value'
ruby 2.7.2p137 (2020-10-01 revision 5445e04352) [x86_64-darwin19]
-e:1: warning: `_1' is reserved for numbered parameter; consider another name</pre>
</div>
</div>
<div class="paragraph">
<p>Assigning to a numbered parameter (from <code>_1</code> to <code>_9</code>) causes an error in Ruby 3.0.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ ruby -ve '_1 = :value'
ruby 3.0.0p0 (2020-12-25 revision 95aff21468) [x86_64-darwin19]
-e:1: _1 is reserved for numbered parameter</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The parametered parameters are from <code>_1</code> to <code>_9</code>. This cop checks <code>_0</code>, and over <code>_10</code>
as well to prevent confusion.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-lintnumberedparameterassignment"><a class="anchor" href="#examples-lintnumberedparameterassignment"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
_1 = :value

# good
non_numbered_parameter_name = :value</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintnumericoperationwithconstantresult"><a class="anchor" href="#lintnumericoperationwithconstantresult"></a>Lint/NumericOperationWithConstantResult</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.69</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Certain numeric operations have a constant result, usually 0 or 1.
Multiplying a number by 0 will always return 0.
Dividing a number by itself or raising it to the power of 0 will always return 1.
As such, they can be replaced with that result.
These are probably leftover from debugging, or are mistakes.
Other numeric operations that are similarly leftover from debugging or mistakes
are handled by <code>Lint/UselessNumericOperation</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This cop doesn&#8217;t detect offenses for the <code>-</code> and <code>%</code> operator because it
can&#8217;t determine the type of <code>x</code>. If <code>x</code> is an <code>Array</code> or <code>String</code>, it doesn&#8217;t perform
a numeric operation.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-lintnumericoperationwithconstantresult"><a class="anchor" href="#examples-lintnumericoperationwithconstantresult"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
x * 0

# good
0

# bad
x *= 0

# good
x = 0

# bad
x / x
x ** 0

# good
1

# bad
x /= x
x **= 0

# good
x = 1</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintorassignmenttoconstant"><a class="anchor" href="#lintorassignmenttoconstant"></a>Lint/OrAssignmentToConstant</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for unintended or-assignment to a constant.</p>
</div>
<div class="paragraph">
<p>Constants should always be assigned in the same location. And its value
should always be the same. If constants are assigned in multiple
locations, the result may vary depending on the order of <code>require</code>.</p>
</div>
<div class="sect2">
<h3 id="safety-lintorassignmenttoconstant"><a class="anchor" href="#safety-lintorassignmenttoconstant"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because code that is already conditionally
assigning a constant may have its behavior changed by autocorrection.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintorassignmenttoconstant"><a class="anchor" href="#examples-lintorassignmenttoconstant"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
CONST ||= 1

# good
CONST = 1</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintorderedmagiccomments"><a class="anchor" href="#lintorderedmagiccomments"></a>Lint/OrderedMagicComments</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.37</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks the proper ordering of magic comments and whether
a magic comment is not placed before a shebang.</p>
</div>
<div class="sect2">
<h3 id="safety-lintorderedmagiccomments"><a class="anchor" href="#safety-lintorderedmagiccomments"></a>Safety</h3>
<div class="paragraph">
<p>This cop&#8217;s autocorrection is unsafe because file encoding may change.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintorderedmagiccomments"><a class="anchor" href="#examples-lintorderedmagiccomments"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad

# frozen_string_literal: true
# encoding: ascii
p [''.frozen?, ''.encoding] #=&gt; [true, #&lt;Encoding:UTF-8&gt;]

# good

# encoding: ascii
# frozen_string_literal: true
p [''.frozen?, ''.encoding] #=&gt; [true, #&lt;Encoding:US-ASCII&gt;]

# good

#!/usr/bin/env ruby
# encoding: ascii
# frozen_string_literal: true
p [''.frozen?, ''.encoding] #=&gt; [true, #&lt;Encoding:US-ASCII&gt;]</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintoutofrangeregexpref"><a class="anchor" href="#lintoutofrangeregexpref"></a>Lint/OutOfRangeRegexpRef</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.89</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for references of <code>Regexp</code> captures that are out of range
and thus always returns nil.</p>
</div>
<div class="sect2">
<h3 id="safety-lintoutofrangeregexpref"><a class="anchor" href="#safety-lintoutofrangeregexpref"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because it is naive in how it determines what
references are available based on the last encountered regexp, but
it cannot handle some cases, such as conditional regexp matches, which
leads to false positives, such as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">foo ? /(c)(b)/ =~ str : /(b)/ =~ str
do_something if $2
# $2 is defined for the first condition but not the second, however
# the cop will mark this as an offense.</code></pre>
</div>
</div>
<div class="paragraph">
<p>This might be a good indication of code that should be refactored,
however.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintoutofrangeregexpref"><a class="anchor" href="#examples-lintoutofrangeregexpref"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">/(foo)bar/ =~ 'foobar'

# bad - always returns nil

puts $2 # =&gt; nil

# good

puts $1 # =&gt; foo</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintparenthesesasgroupedexpression"><a class="anchor" href="#lintparenthesesasgroupedexpression"></a>Lint/ParenthesesAsGroupedExpression</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.83</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for space between the name of a called method and a left
parenthesis.</p>
</div>
<div class="sect2">
<h3 id="examples-lintparenthesesasgroupedexpression"><a class="anchor" href="#examples-lintparenthesesasgroupedexpression"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
do_something (foo)

# good
do_something(foo)
do_something (2 + 3) * 4
do_something (foo * bar).baz</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-lintparenthesesasgroupedexpression"><a class="anchor" href="#references-lintparenthesesasgroupedexpression"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#parens-no-spaces" class="bare">https://rubystyle.guide#parens-no-spaces</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintpercentstringarray"><a class="anchor" href="#lintpercentstringarray"></a>Lint/PercentStringArray</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.41</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for quotes and commas in %w, e.g. <code>%w('foo', "bar")</code></p>
</div>
<div class="paragraph">
<p>It is more likely that the additional characters are unintended (for
example, mistranslating an array of literals to percent string notation)
rather than meant to be part of the resulting strings.</p>
</div>
<div class="sect2">
<h3 id="safety-lintpercentstringarray"><a class="anchor" href="#safety-lintpercentstringarray"></a>Safety</h3>
<div class="paragraph">
<p>The cop is unsafe because the correction changes the values in the array
and that might have been done purposely.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">%w('foo', "bar") #=&gt; ["'foo',", '"bar"']
%w(foo bar)      #=&gt; ['foo', 'bar']</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintpercentstringarray"><a class="anchor" href="#examples-lintpercentstringarray"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
%w('foo', "bar")

# good
%w(foo bar)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintpercentsymbolarray"><a class="anchor" href="#lintpercentsymbolarray"></a>Lint/PercentSymbolArray</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.41</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for colons and commas in %i, e.g. <code>%i(:foo, :bar)</code></p>
</div>
<div class="paragraph">
<p>It is more likely that the additional characters are unintended (for
example, mistranslating an array of literals to percent string notation)
rather than meant to be part of the resulting symbols.</p>
</div>
<div class="sect2">
<h3 id="examples-lintpercentsymbolarray"><a class="anchor" href="#examples-lintpercentsymbolarray"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
%i(:foo, :bar)

# good
%i(foo bar)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintraiseexception"><a class="anchor" href="#lintraiseexception"></a>Lint/RaiseException</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.81</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.86</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for <code>raise</code> or <code>fail</code> statements which are
raising <code>Exception</code> class.</p>
</div>
<div class="paragraph">
<p>You can specify a module name that will be an implicit namespace
using <code>AllowedImplicitNamespaces</code> option. The cop cause a false positive
for namespaced <code>Exception</code> when a namespace is omitted. This option can
prevent the false positive by specifying a namespace to be omitted for
<code>Exception</code>. Alternatively, make <code>Exception</code> a fully qualified class
name with an explicit namespace.</p>
</div>
<div class="sect2">
<h3 id="safety-lintraiseexception"><a class="anchor" href="#safety-lintraiseexception"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe because it will change the exception class being
raised, which is a change in behavior.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintraiseexception"><a class="anchor" href="#examples-lintraiseexception"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
raise Exception, 'Error message here'

# good
raise StandardError, 'Error message here'</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowedimplicitnamespaces_-__gem__-lintraiseexception"><a class="anchor" href="#allowedimplicitnamespaces_-__gem__-lintraiseexception"></a>AllowedImplicitNamespaces: ['Gem']</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
module Gem
  def self.foo
    raise Exception # This exception means `Gem::Exception`.
  end
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintraiseexception"><a class="anchor" href="#configurable-attributes-lintraiseexception"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedImplicitNamespaces</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Gem</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-lintraiseexception"><a class="anchor" href="#references-lintraiseexception"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#raise-exception" class="bare">https://rubystyle.guide#raise-exception</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintrandone"><a class="anchor" href="#lintrandone"></a>Lint/RandOne</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for <code>rand(1)</code> calls.
Such calls always return <code>0</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-lintrandone"><a class="anchor" href="#examples-lintrandone"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
rand 1
Kernel.rand(-1)
rand 1.0
rand(-1.0)

# good
0 # just use 0 instead</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintredundantcopdisabledirective"><a class="anchor" href="#lintredundantcopdisabledirective"></a>Lint/RedundantCopDisableDirective</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.76</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Detects instances of rubocop:disable comments that can be
removed without causing any offenses to be reported. It&#8217;s implemented
as a cop in that it inherits from the Cop base class and calls
add_offense. The unusual part of its implementation is that it doesn&#8217;t
have any on_* methods or an investigate method. This means that it
doesn&#8217;t take part in the investigation phase when the other cops do
their work. Instead, it waits until it&#8217;s called in a later stage of the
execution. The reason it can&#8217;t be implemented as a normal cop is that
it depends on the results of all other cops to do its work.</p>
</div>
<div class="sect2">
<h3 id="examples-lintredundantcopdisabledirective"><a class="anchor" href="#examples-lintredundantcopdisabledirective"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
# rubocop:disable Layout/LineLength
x += 1
# rubocop:enable Layout/LineLength

# good
x += 1</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintredundantcopenabledirective"><a class="anchor" href="#lintredundantcopenabledirective"></a>Lint/RedundantCopEnableDirective</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.76</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Detects instances of rubocop:enable comments that can be
removed.</p>
</div>
<div class="paragraph">
<p>When comment enables all cops at once <code>rubocop:enable all</code>
that cop checks whether any cop was actually enabled.</p>
</div>
<div class="sect2">
<h3 id="examples-lintredundantcopenabledirective"><a class="anchor" href="#examples-lintredundantcopenabledirective"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo = 1
# rubocop:enable Layout/LineLength

# good
foo = 1

# bad
# rubocop:disable Style/StringLiterals
foo = "1"
# rubocop:enable Style/StringLiterals
baz
# rubocop:enable all

# good
# rubocop:disable Style/StringLiterals
foo = "1"
# rubocop:enable all
baz</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintredundantdirglobsort"><a class="anchor" href="#lintredundantdirglobsort"></a>Lint/RedundantDirGlobSort</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Requires Ruby version 3.0
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.26</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Sort globbed results by default in Ruby 3.0.
This cop checks for redundant <code>sort</code> method to <code>Dir.glob</code> and <code>Dir[]</code>.</p>
</div>
<div class="sect2">
<h3 id="safety-lintredundantdirglobsort"><a class="anchor" href="#safety-lintredundantdirglobsort"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe, in case of having a file and a directory with
identical names, since directory will be loaded before the file, which
will break <code>exe/files.rb</code> that rely on <code>exe.rb</code> file.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintredundantdirglobsort"><a class="anchor" href="#examples-lintredundantdirglobsort"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
Dir.glob('./lib/**/*.rb').sort.each do |file|
end

Dir['./lib/**/*.rb'].sort.each do |file|
end

# good
Dir.glob('./lib/**/*.rb').each do |file|
end

Dir['./lib/**/*.rb'].each do |file|
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintredundantregexpquantifiers"><a class="anchor" href="#lintredundantregexpquantifiers"></a>Lint/RedundantRegexpQuantifiers</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant quantifiers inside <code>Regexp</code> literals.</p>
</div>
<div class="paragraph">
<p>It is always allowed when interpolation is used in a regexp literal,
because it&#8217;s unknown what kind of string will be expanded as a result:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">/(?:a*#{interpolation})?/x</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintredundantregexpquantifiers"><a class="anchor" href="#examples-lintredundantregexpquantifiers"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
/(?:x+)+/

# good
/(?:x)+/

# good
/(?:x+)/

# bad
/(?:x+)?/

# good
/(?:x)*/

# good
/(?:x*)/</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintredundantrequirestatement"><a class="anchor" href="#lintredundantrequirestatement"></a>Lint/RedundantRequireStatement</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.76</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.57</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for unnecessary <code>require</code> statement.</p>
</div>
<div class="paragraph">
<p>The following features are unnecessary <code>require</code> statement because
they are already loaded. e.g. Ruby 2.2:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ruby -ve 'p $LOADED_FEATURES.reject { |feature| %r|/| =~ feature }'
ruby 2.2.8p477 (2017-09-14 revision 59906) [x86_64-darwin13]
["enumerator.so", "rational.so", "complex.so", "thread.rb"]</pre>
</div>
</div>
<div class="paragraph">
<p>Below are the features that each <code>TargetRubyVersion</code> targets.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>2.0+ &#8230;&#8203; <code>enumerator</code></p>
</li>
<li>
<p>2.1+ &#8230;&#8203; <code>thread</code></p>
</li>
<li>
<p>2.2+ &#8230;&#8203; Add <code>rational</code> and <code>complex</code> above</p>
</li>
<li>
<p>2.5+ &#8230;&#8203; Add <code>pp</code> above</p>
</li>
<li>
<p>2.7+ &#8230;&#8203; Add <code>ruby2_keywords</code> above</p>
</li>
<li>
<p>3.1+ &#8230;&#8203; Add <code>fiber</code> above</p>
</li>
<li>
<p>3.2+ &#8230;&#8203; <code>set</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This cop target those features.</p>
</div>
<div class="sect2">
<h3 id="safety-lintredundantrequirestatement"><a class="anchor" href="#safety-lintredundantrequirestatement"></a>Safety</h3>
<div class="paragraph">
<p>This cop&#8217;s autocorrection is unsafe because if <code>require 'pp'</code> is removed from one file,
<code>NameError</code> can be encountered when another file uses <code>PP.pp</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintredundantrequirestatement"><a class="anchor" href="#examples-lintredundantrequirestatement"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
require 'unloaded_feature'
require 'thread'

# good
require 'unloaded_feature'</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintredundantsafenavigation"><a class="anchor" href="#lintredundantsafenavigation"></a>Lint/RedundantSafeNavigation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.93</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant safe navigation calls.
Use cases where a constant, named in camel case for classes and modules is <code>nil</code> are rare,
and an offense is not detected when the receiver is a constant. The detection also applies
to <code>self</code>, and to literal receivers, except for <code>nil</code>.</p>
</div>
<div class="paragraph">
<p>For all receivers, the <code>instance_of?</code>, <code>kind_of?</code>, <code>is_a?</code>, <code>eql?</code>, <code>respond_to?</code>,
and <code>equal?</code> methods are checked by default.
These are customizable with <code>AllowedMethods</code> option.</p>
</div>
<div class="paragraph">
<p>The <code>AllowedMethods</code> option specifies nil-safe methods,
in other words, it is a method that is allowed to skip safe navigation.
Note that the <code>AllowedMethod</code> option is not an option that specifies methods
for which to suppress (allow) this cop&#8217;s check.</p>
</div>
<div class="paragraph">
<p>In the example below, the safe navigation operator (<code>&amp;.</code>) is unnecessary
because <code>NilClass</code> has methods like <code>respond_to?</code> and <code>is_a?</code>.</p>
</div>
<div class="sect2">
<h3 id="safety-lintredundantsafenavigation"><a class="anchor" href="#safety-lintredundantsafenavigation"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe, because autocorrection can change the return type of
the expression. An offending expression that previously could return <code>nil</code>
will be autocorrected to never return <code>nil</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintredundantsafenavigation"><a class="anchor" href="#examples-lintredundantsafenavigation"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
CamelCaseConst&amp;.do_something

# good
CamelCaseConst.do_something

# bad
do_something if attrs&amp;.respond_to?(:[])

# good
do_something if attrs.respond_to?(:[])

# bad
while node&amp;.is_a?(BeginNode)
  node = node.parent
end

# good
while node.is_a?(BeginNode)
  node = node.parent
end

# good - without `&amp;.` this will always return `true`
foo&amp;.respond_to?(:to_a)

# bad - for `nil`s conversion methods return default values for the type
foo&amp;.to_h || {}
foo&amp;.to_h { |k, v| [k, v] } || {}
foo&amp;.to_a || []
foo&amp;.to_i || 0
foo&amp;.to_f || 0.0
foo&amp;.to_s || ''

# good
foo.to_h
foo.to_h { |k, v| [k, v] }
foo.to_a
foo.to_i
foo.to_f
foo.to_s

# bad
self&amp;.foo

# good
self.foo</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowedmethods_-_nil_safe_method_-lintredundantsafenavigation"><a class="anchor" href="#allowedmethods_-_nil_safe_method_-lintredundantsafenavigation"></a>AllowedMethods: [nil_safe_method]</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
do_something if attrs&amp;.nil_safe_method(:[])

# good
do_something if attrs.nil_safe_method(:[])
do_something if attrs&amp;.not_nil_safe_method(:[])</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintredundantsafenavigation"><a class="anchor" href="#configurable-attributes-lintredundantsafenavigation"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>instance_of?</code>, <code>kind_of?</code>, <code>is_a?</code>, <code>eql?</code>, <code>respond_to?</code>, <code>equal?</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintredundantsplatexpansion"><a class="anchor" href="#lintredundantsplatexpansion"></a>Lint/RedundantSplatExpansion</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.76</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.7</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for unneeded usages of splat expansion.</p>
</div>
<div class="sect2">
<h3 id="examples-lintredundantsplatexpansion"><a class="anchor" href="#examples-lintredundantsplatexpansion"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
a = *[1, 2, 3]
a = *'a'
a = *1
['a', 'b', *%w(c d e), 'f', 'g']

# good
c = [1, 2, 3]
a = *c
a, b = *c
a, *b = *c
a = *1..10
a = ['a']
['a', 'b', 'c', 'd', 'e', 'f', 'g']

# bad
do_something(*['foo', 'bar', 'baz'])

# good
do_something('foo', 'bar', 'baz')

# bad
begin
  foo
rescue *[StandardError, ApplicationError]
  bar
end

# good
begin
  foo
rescue StandardError, ApplicationError
  bar
end

# bad
case foo
when *[1, 2, 3]
  bar
else
  baz
end

# good
case foo
when 1, 2, 3
  bar
else
  baz
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowpercentliteralarrayargument_-true-_default_-lintredundantsplatexpansion"><a class="anchor" href="#allowpercentliteralarrayargument_-true-_default_-lintredundantsplatexpansion"></a>AllowPercentLiteralArrayArgument: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
do_something(*%w[foo bar baz])</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowpercentliteralarrayargument_-false-lintredundantsplatexpansion"><a class="anchor" href="#allowpercentliteralarrayargument_-false-lintredundantsplatexpansion"></a>AllowPercentLiteralArrayArgument: false</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
do_something(*%w[foo bar baz])</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintredundantsplatexpansion"><a class="anchor" href="#configurable-attributes-lintredundantsplatexpansion"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowPercentLiteralArrayArgument</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintredundantstringcoercion"><a class="anchor" href="#lintredundantstringcoercion"></a>Lint/RedundantStringCoercion</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.77</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for string conversion in string interpolation, <code>print</code>, <code>puts</code>, and <code>warn</code> arguments,
which is redundant.</p>
</div>
<div class="sect2">
<h3 id="examples-lintredundantstringcoercion"><a class="anchor" href="#examples-lintredundantstringcoercion"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
"result is #{something.to_s}"
print something.to_s
puts something.to_s
warn something.to_s

# good
"result is #{something}"
print something
puts something
warn something</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-lintredundantstringcoercion"><a class="anchor" href="#references-lintredundantstringcoercion"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-to-s" class="bare">https://rubystyle.guide#no-to-s</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintredundanttypeconversion"><a class="anchor" href="#lintredundanttypeconversion"></a>Lint/RedundantTypeConversion</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.72</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant uses of <code>to_s</code>, <code>to_sym</code>, <code>to_i</code>, <code>to_f</code>, <code>to_r</code>, <code>to_c</code>,
<code>to_a</code>, <code>to_h</code>, and <code>to_set</code>.</p>
</div>
<div class="paragraph">
<p>When one of these methods is called on an object of the same type, that object
is returned, making the call unnecessary. The cop detects conversion methods called
on object literals, class constructors, class <code>[]</code> methods, and the <code>Kernel</code> methods
<code>String()</code>, <code>Integer()</code>, <code>Float()</code>, <code>Rational()</code>, <code>Complex()</code> and <code>Array()</code>.</p>
</div>
<div class="paragraph">
<p>Specifically, these cases are detected for each conversion method:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>to_s</code> when called on a string literal, interpolated string, heredoc,
or with <code>String.new</code> or <code>String()</code>.</p>
</li>
<li>
<p><code>to_sym</code> when called on a symbol literal or interpolated symbol.</p>
</li>
<li>
<p><code>to_i</code> when called on an integer literal or with <code>Integer()</code>.</p>
</li>
<li>
<p><code>to_f</code> when called on a float literal of with <code>Float()</code>.</p>
</li>
<li>
<p><code>to_r</code> when called on a rational literal or with <code>Rational()</code>.</p>
</li>
<li>
<p><code>to_c</code> when called on a complex literal of with <code>Complex()</code>.</p>
</li>
<li>
<p><code>to_a</code> when called on an array literal, or with <code>Array.new</code>, <code>Array()</code> or <code>Array[]</code>.</p>
</li>
<li>
<p><code>to_h</code> when called on a hash literal, or with <code>Hash.new</code>, <code>Hash()</code> or <code>Hash[]</code>.</p>
</li>
<li>
<p><code>to_set</code> when called on <code>Set.new</code> or <code>Set[]</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In all cases, chaining one same <code>to_*</code> conversion methods listed above is redundant.</p>
</div>
<div class="paragraph">
<p>The cop can also register an offense for chaining conversion methods on methods that are
expected to return a specific type regardless of receiver (eg. <code>foo.inspect.to_s</code>).</p>
</div>
<div class="sect2">
<h3 id="examples-lintredundanttypeconversion"><a class="anchor" href="#examples-lintredundanttypeconversion"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
"text".to_s
:sym.to_sym
42.to_i
8.5.to_f
12r.to_r
1i.to_c
[].to_a
{}.to_h
Set.new.to_s

# good
"text"
:sym
42
8.5
12r
1i
[]
{}
Set.new

# bad - chaining the same conversion
foo.to_s.to_s

# good
foo.to_s

# bad - chaining a conversion to a method that is expected to return the same type
inspect.to_s

# good
inspect</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintredundantwithindex"><a class="anchor" href="#lintredundantwithindex"></a>Lint/RedundantWithIndex</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.50</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant <code>with_index</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-lintredundantwithindex"><a class="anchor" href="#examples-lintredundantwithindex"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
ary.each_with_index do |v|
  v
end

# good
ary.each do |v|
  v
end

# bad
ary.each.with_index do |v|
  v
end

# good
ary.each do |v|
  v
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintredundantwithobject"><a class="anchor" href="#lintredundantwithobject"></a>Lint/RedundantWithObject</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.51</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant <code>with_object</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-lintredundantwithobject"><a class="anchor" href="#examples-lintredundantwithobject"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
ary.each_with_object([]) do |v|
  v
end

# good
ary.each do |v|
  v
end

# bad
ary.each.with_object([]) do |v|
  v
end

# good
ary.each do |v|
  v
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintrefinementimportmethods"><a class="anchor" href="#lintrefinementimportmethods"></a>Lint/RefinementImportMethods</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Requires Ruby version 3.1
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.27</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks if <code>include</code> or <code>prepend</code> is called in <code>refine</code> block.
These methods are deprecated and should be replaced with <code>Refinement#import_methods</code>.</p>
</div>
<div class="paragraph">
<p>It emulates deprecation warnings in Ruby 3.1. Functionality has been removed in Ruby 3.2.</p>
</div>
<div class="sect2">
<h3 id="safety-lintrefinementimportmethods"><a class="anchor" href="#safety-lintrefinementimportmethods"></a>Safety</h3>
<div class="paragraph">
<p>This cop&#8217;s autocorrection is unsafe because <code>include M</code> will affect the included class
if any changes are made to module <code>M</code>.
On the other hand, <code>import_methods M</code> uses a snapshot of method definitions,
thus it will not be affected if module <code>M</code> changes.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintrefinementimportmethods"><a class="anchor" href="#examples-lintrefinementimportmethods"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
refine Foo do
  include Bar
end

# bad
refine Foo do
  prepend Bar
end

# good
refine Foo do
  import_methods Bar
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintregexpascondition"><a class="anchor" href="#lintregexpascondition"></a>Lint/RegexpAsCondition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.51</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.86</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for regexp literals used as <code>match-current-line</code>.
If a regexp literal is in condition, the regexp matches <code>$_</code> implicitly.</p>
</div>
<div class="sect2">
<h3 id="examples-lintregexpascondition"><a class="anchor" href="#examples-lintregexpascondition"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if /foo/
  do_something
end

# good
if /foo/ =~ $_
  do_something
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintrequireparentheses"><a class="anchor" href="#lintrequireparentheses"></a>Lint/RequireParentheses</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for expressions where there is a call to a predicate
method with at least one argument, where no parentheses are used around
the parameter list, and a boolean operator, &amp;&amp; or ||, is used in the
last argument.</p>
</div>
<div class="paragraph">
<p>The idea behind warning for these constructs is that the user might
be under the impression that the return value from the method call is
an operand of &amp;&amp;/||.</p>
</div>
<div class="sect2">
<h3 id="examples-lintrequireparentheses"><a class="anchor" href="#examples-lintrequireparentheses"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
if day.is? :tuesday &amp;&amp; month == :jan
  # ...
end

# good
if day.is?(:tuesday) &amp;&amp; month == :jan
  # ...
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintrequirerangeparentheses"><a class="anchor" href="#lintrequirerangeparentheses"></a>Lint/RequireRangeParentheses</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks that a range literal is enclosed in parentheses when the end of the range is
at a line break.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The following is maybe intended for <code>(42..)</code>. But, compatible is <code>42..do_something</code>.
So, this cop does not provide autocorrection because it is left to user.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">case condition
when 42..
  do_something
end</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintrequirerangeparentheses"><a class="anchor" href="#examples-lintrequirerangeparentheses"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad - Represents `(1..42)`, not endless range.
1..
42

# good - It's incompatible, but your intentions when using endless range may be:
(1..)
42

# good
1..42

# good
(1..42)

# good
(1..
42)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintrequirerelativeselfpath"><a class="anchor" href="#lintrequirerelativeselfpath"></a>Lint/RequireRelativeSelfPath</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses a file requiring itself with <code>require_relative</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-lintrequirerelativeselfpath"><a class="anchor" href="#examples-lintrequirerelativeselfpath"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad

# foo.rb
require_relative 'foo'
require_relative 'bar'

# good

# foo.rb
require_relative 'bar'</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintrescueexception"><a class="anchor" href="#lintrescueexception"></a>Lint/RescueException</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.27</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for <code>rescue</code> blocks targeting the <code>Exception</code> class.</p>
</div>
<div class="sect2">
<h3 id="examples-lintrescueexception"><a class="anchor" href="#examples-lintrescueexception"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
begin
  do_something
rescue Exception
  handle_exception
end

# good
begin
  do_something
rescue ArgumentError
  handle_exception
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-lintrescueexception"><a class="anchor" href="#references-lintrescueexception"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-blind-rescues" class="bare">https://rubystyle.guide#no-blind-rescues</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintrescuetype"><a class="anchor" href="#lintrescuetype"></a>Lint/RescueType</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.49</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Check for arguments to <code>rescue</code> that will result in a <code>TypeError</code>
if an exception is raised.</p>
</div>
<div class="sect2">
<h3 id="examples-lintrescuetype"><a class="anchor" href="#examples-lintrescuetype"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
begin
  bar
rescue nil
  baz
end

# bad
def foo
  bar
rescue 1, 'a', "#{b}", 0.0, [], {}
  baz
end

# good
begin
  bar
rescue
  baz
end

# good
def foo
  bar
rescue NameError
  baz
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintreturninvoidcontext"><a class="anchor" href="#lintreturninvoidcontext"></a>Lint/ReturnInVoidContext</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.50</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the use of a return with a value in a context
where the value will be ignored. (initialize and setter methods)</p>
</div>
<div class="sect2">
<h3 id="examples-lintreturninvoidcontext"><a class="anchor" href="#examples-lintreturninvoidcontext"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def initialize
  foo
  return :qux if bar?
  baz
end

def foo=(bar)
  return 42
end

# good
def initialize
  foo
  return if bar?
  baz
end

def foo=(bar)
  return
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintsafenavigationchain"><a class="anchor" href="#lintsafenavigationchain"></a>Lint/SafeNavigationChain</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Requires Ruby version 2.3
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.47</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.77</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The safe navigation operator returns nil if the receiver is
nil. If you chain an ordinary method call after a safe
navigation operator, it raises NoMethodError. We should use a
safe navigation operator after a safe navigation operator.
This cop checks for the problem outlined above.</p>
</div>
<div class="sect2">
<h3 id="examples-lintsafenavigationchain"><a class="anchor" href="#examples-lintsafenavigationchain"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
x&amp;.foo.bar
x&amp;.foo + bar
x&amp;.foo[bar]

# good
x&amp;.foo&amp;.bar
x&amp;.foo || bar</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintsafenavigationchain"><a class="anchor" href="#configurable-attributes-lintsafenavigationchain"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>present?</code>, <code>blank?</code>, <code>presence</code>, <code>try</code>, <code>try!</code>, <code>in?</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintsafenavigationconsistency"><a class="anchor" href="#lintsafenavigationconsistency"></a>Lint/SafeNavigationConsistency</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.55</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.77</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Check to make sure that if safe navigation is used in an <code>&amp;&amp;</code> or <code>||</code> condition,
consistent and appropriate safe navigation, without excess or deficiency,
is used for all method calls on the same object.</p>
</div>
<div class="sect2">
<h3 id="examples-lintsafenavigationconsistency"><a class="anchor" href="#examples-lintsafenavigationconsistency"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo&amp;.bar &amp;&amp; foo&amp;.baz

# good
foo&amp;.bar &amp;&amp; foo.baz

# bad
foo.bar &amp;&amp; foo&amp;.baz

# good
foo.bar &amp;&amp; foo.baz

# bad
foo&amp;.bar || foo.baz

# good
foo&amp;.bar || foo&amp;.baz

# bad
foo.bar || foo&amp;.baz

# good
foo.bar || foo.baz

# bad
foo&amp;.bar &amp;&amp; (foobar.baz || foo&amp;.baz)

# good
foo&amp;.bar &amp;&amp; (foobar.baz || foo.baz)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintsafenavigationconsistency"><a class="anchor" href="#configurable-attributes-lintsafenavigationconsistency"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>present?</code>, <code>blank?</code>, <code>presence</code>, <code>try</code>, <code>try!</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintsafenavigationwithempty"><a class="anchor" href="#lintsafenavigationwithempty"></a>Lint/SafeNavigationWithEmpty</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.62</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.87</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks to make sure safe navigation isn&#8217;t used with <code>empty?</code> in
a conditional.</p>
</div>
<div class="paragraph">
<p>While the safe navigation operator is generally a good idea, when
checking <code>foo&amp;.empty?</code> in a conditional, <code>foo</code> being <code>nil</code> will actually
do the opposite of what the author intends.</p>
</div>
<div class="sect2">
<h3 id="examples-lintsafenavigationwithempty"><a class="anchor" href="#examples-lintsafenavigationwithempty"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
return if foo&amp;.empty?
return unless foo&amp;.empty?

# good
return if foo &amp;&amp; foo.empty?
return unless foo &amp;&amp; foo.empty?</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintscriptpermission"><a class="anchor" href="#lintscriptpermission"></a>Lint/ScriptPermission</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.49</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.50</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks if a file which has a shebang line as
its first line is granted execute permission.</p>
</div>
<div class="sect2">
<h3 id="examples-lintscriptpermission"><a class="anchor" href="#examples-lintscriptpermission"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad

# A file which has a shebang line as its first line is not
# granted execute permission.

#!/usr/bin/env ruby
puts 'hello, world'

# good

# A file which has a shebang line as its first line is
# granted execute permission.

#!/usr/bin/env ruby
puts 'hello, world'

# good

# A file which has not a shebang line as its first line is not
# granted execute permission.

puts 'hello, world'</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintselfassignment"><a class="anchor" href="#lintselfassignment"></a>Lint/SelfAssignment</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.89</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for self-assignments.</p>
</div>
<div class="sect2">
<h3 id="examples-lintselfassignment"><a class="anchor" href="#examples-lintselfassignment"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
foo = foo
foo, bar = foo, bar
Foo = Foo
hash['foo'] = hash['foo']
obj.attr = obj.attr

# good
foo = bar
foo, bar = bar, foo
Foo = Bar
hash['foo'] = hash['bar']
obj.attr = obj.attr2

# good (method calls possibly can return different results)
hash[foo] = hash[foo]</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintsendwithmixinargument"><a class="anchor" href="#lintsendwithmixinargument"></a>Lint/SendWithMixinArgument</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.75</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for <code>send</code>, <code>public_send</code>, and <code><em>send</em></code> methods
when using mix-in.</p>
</div>
<div class="paragraph">
<p><code>include</code> and <code>prepend</code> methods were private methods until Ruby 2.0,
they were mixed-in via <code>send</code> method. This cop uses Ruby 2.1 or
higher style that can be called by public methods.
And <code>extend</code> method that was originally a public method is also targeted
for style unification.</p>
</div>
<div class="sect2">
<h3 id="examples-lintsendwithmixinargument"><a class="anchor" href="#examples-lintsendwithmixinargument"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
Foo.send(:include, Bar)
Foo.send(:prepend, Bar)
Foo.send(:extend, Bar)

# bad
Foo.public_send(:include, Bar)
Foo.public_send(:prepend, Bar)
Foo.public_send(:extend, Bar)

# bad
Foo.__send__(:include, Bar)
Foo.__send__(:prepend, Bar)
Foo.__send__(:extend, Bar)

# good
Foo.include Bar
Foo.prepend Bar
Foo.extend Bar</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintshadowedargument"><a class="anchor" href="#lintshadowedargument"></a>Lint/ShadowedArgument</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for shadowed arguments.</p>
</div>
<div class="paragraph">
<p>This cop has <code>IgnoreImplicitReferences</code> configuration option.
It means argument shadowing is used in order to pass parameters
to zero arity <code>super</code> when <code>IgnoreImplicitReferences</code> is <code>true</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-lintshadowedargument"><a class="anchor" href="#examples-lintshadowedargument"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
do_something do |foo|
  foo = 42
  puts foo
end

def do_something(foo)
  foo = 42
  puts foo
end

# good
do_something do |foo|
  foo = foo + 42
  puts foo
end

def do_something(foo)
  foo = foo + 42
  puts foo
end

def do_something(foo)
  puts foo
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="ignoreimplicitreferences_-false-_default_-lintshadowedargument"><a class="anchor" href="#ignoreimplicitreferences_-false-_default_-lintshadowedargument"></a>IgnoreImplicitReferences: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def do_something(foo)
  foo = 42
  super
end

def do_something(foo)
  foo = super
  bar
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ignoreimplicitreferences_-true-lintshadowedargument"><a class="anchor" href="#ignoreimplicitreferences_-true-lintshadowedargument"></a>IgnoreImplicitReferences: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
def do_something(foo)
  foo = 42
  super
end

def do_something(foo)
  foo = super
  bar
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintshadowedargument"><a class="anchor" href="#configurable-attributes-lintshadowedargument"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IgnoreImplicitReferences</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintshadowedexception"><a class="anchor" href="#lintshadowedexception"></a>Lint/ShadowedException</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.41</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for a rescued exception that get shadowed by a
less specific exception being rescued before a more specific
exception is rescued.</p>
</div>
<div class="paragraph">
<p>An exception is considered shadowed if it is rescued after its
ancestor is, or if it and its ancestor are both rescued in the
same <code>rescue</code> statement. In both cases, the more specific rescue is
unnecessary because it is covered by rescuing the less specific
exception. (ie. <code>rescue Exception, StandardError</code> has the same behavior
whether <code>StandardError</code> is included or not, because all <code>StandardError</code>s
are rescued by <code>rescue Exception</code>).</p>
</div>
<div class="sect2">
<h3 id="examples-lintshadowedexception"><a class="anchor" href="#examples-lintshadowedexception"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad

begin
  something
rescue Exception
  handle_exception
rescue StandardError
  handle_standard_error
end

# bad
begin
  something
rescue Exception, StandardError
  handle_error
end

# good

begin
  something
rescue StandardError
  handle_standard_error
rescue Exception
  handle_exception
end

# good, however depending on runtime environment.
#
# This is a special case for system call errors.
# System dependent error code depends on runtime environment.
# For example, whether `Errno::EAGAIN` and `Errno::EWOULDBLOCK` are
# the same error code or different error code depends on environment.
# This good case is for `Errno::EAGAIN` and `Errno::EWOULDBLOCK` with
# the same error code.
begin
  something
rescue Errno::EAGAIN, Errno::EWOULDBLOCK
  handle_standard_error
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintshadowingouterlocalvariable"><a class="anchor" href="#lintshadowingouterlocalvariable"></a>Lint/ShadowingOuterLocalVariable</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for the use of local variable names from an outer scope
in block arguments or block-local variables. This mirrors the warning
given by <code>ruby -cw</code> prior to Ruby 2.6:
"shadowing outer local variable - foo".</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Shadowing of variables in block passed to <code>Ractor.new</code> is allowed
because <code>Ractor</code> should not access outer variables.
eg. following style is encouraged:
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">worker_id, pipe = env
Ractor.new(worker_id, pipe) do |worker_id, pipe|
end</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintshadowingouterlocalvariable"><a class="anchor" href="#examples-lintshadowingouterlocalvariable"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def some_method
  foo = 1

  2.times do |foo| # shadowing outer `foo`
    do_something(foo)
  end
end

# good
def some_method
  foo = 1

  2.times do |bar|
    do_something(bar)
  end
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintsharedmutabledefault"><a class="anchor" href="#lintsharedmutabledefault"></a>Lint/SharedMutableDefault</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.70</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for <code>Hash</code> creation with a mutable default value.
Creating a <code>Hash</code> in such a way will share the default value
across all keys, causing unexpected behavior when modifying it.</p>
</div>
<div class="paragraph">
<p>For example, when the <code>Hash</code> was created with an <code>Array</code> as the argument,
calling <code>hash[:foo] &lt;&lt; 'bar'</code> will also change the value of all
other keys that have not been explicitly assigned to.</p>
</div>
<div class="sect2">
<h3 id="examples-lintsharedmutabledefault"><a class="anchor" href="#examples-lintsharedmutabledefault"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
Hash.new([])
Hash.new({})
Hash.new(Array.new)
Hash.new(Hash.new)

# okay -- In rare cases that intentionally have this behavior,
#   without disabling the cop, you can set the default explicitly.
h = Hash.new
h.default = []
h[:a] &lt;&lt; 1
h[:b] &lt;&lt; 2
h # =&gt; {:a =&gt; [1, 2], :b =&gt; [1, 2]}

# okay -- beware this will discard mutations and only remember assignments
Hash.new { Array.new }
Hash.new { Hash.new }
Hash.new { {} }
Hash.new { [] }

# good - frozen solution will raise an error when mutation attempted
Hash.new([].freeze)
Hash.new({}.freeze)

# good - using a proc will create a new object for each key
h = Hash.new
h.default_proc = -&gt;(h, k) { [] }
h.default_proc = -&gt;(h, k) { {} }

# good - using a block will create a new object for each key
Hash.new { |h, k| h[k] = [] }
Hash.new { |h, k| h[k] = {} }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-lintsharedmutabledefault"><a class="anchor" href="#references-lintsharedmutabledefault"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#no-mutable-defaults" class="bare">https://rubystyle.guide#no-mutable-defaults</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintstructnewoverride"><a class="anchor" href="#lintstructnewoverride"></a>Lint/StructNewOverride</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.81</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks unexpected overrides of the <code>Struct</code> built-in methods
via <code>Struct.new</code>.</p>
</div>
<div class="sect2">
<h3 id="examples-lintstructnewoverride"><a class="anchor" href="#examples-lintstructnewoverride"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
Bad = Struct.new(:members, :clone, :count)
b = Bad.new([], true, 1)
b.members #=&gt; [] (overriding `Struct#members`)
b.clone #=&gt; true (overriding `Object#clone`)
b.count #=&gt; 1 (overriding `Enumerable#count`)

# good
Good = Struct.new(:id, :name)
g = Good.new(1, "foo")
g.members #=&gt; [:id, :name]
g.clone #=&gt; #&lt;struct Good id=1, name="foo"&gt;
g.count #=&gt; 2</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintsuppressedexception"><a class="anchor" href="#lintsuppressedexception"></a>Lint/SuppressedException</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.12</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for <code>rescue</code> blocks with no body.</p>
</div>
<div class="sect2">
<h3 id="examples-lintsuppressedexception"><a class="anchor" href="#examples-lintsuppressedexception"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def some_method
  do_something
rescue
end

# bad
begin
  do_something
rescue
end

# good
def some_method
  do_something
rescue
  handle_exception
end

# good
begin
  do_something
rescue
  handle_exception
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowcomments_-true-_default_-lintsuppressedexception"><a class="anchor" href="#allowcomments_-true-_default_-lintsuppressedexception"></a>AllowComments: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
def some_method
  do_something
rescue
  # do nothing
end

# good
begin
  do_something
rescue
  # do nothing
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowcomments_-false-lintsuppressedexception"><a class="anchor" href="#allowcomments_-false-lintsuppressedexception"></a>AllowComments: false</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def some_method
  do_something
rescue
  # do nothing
end

# bad
begin
  do_something
rescue
  # do nothing
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allownil_-true-_default_-lintsuppressedexception"><a class="anchor" href="#allownil_-true-_default_-lintsuppressedexception"></a>AllowNil: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
def some_method
  do_something
rescue
  nil
end

# good
begin
  do_something
rescue
  # do nothing
end

# good
do_something rescue nil</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allownil_-false-lintsuppressedexception"><a class="anchor" href="#allownil_-false-lintsuppressedexception"></a>AllowNil: false</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def some_method
  do_something
rescue
  nil
end

# bad
begin
  do_something
rescue
  nil
end

# bad
do_something rescue nil</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintsuppressedexception"><a class="anchor" href="#configurable-attributes-lintsuppressedexception"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowComments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowNil</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-lintsuppressedexception"><a class="anchor" href="#references-lintsuppressedexception"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#dont-hide-exceptions" class="bare">https://rubystyle.guide#dont-hide-exceptions</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintsuppressedexceptioninnumberconversion"><a class="anchor" href="#lintsuppressedexceptioninnumberconversion"></a>Lint/SuppressedExceptionInNumberConversion</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Requires Ruby version 2.6
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.72</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for cases where exceptions unrelated to the numeric constructors <code>Integer()</code>,
<code>Float()</code>, <code>BigDecimal()</code>, <code>Complex()</code>, and <code>Rational()</code> may be unintentionally swallowed.</p>
</div>
<div class="sect2">
<h3 id="safety-lintsuppressedexceptioninnumberconversion"><a class="anchor" href="#safety-lintsuppressedexceptioninnumberconversion"></a>Safety</h3>
<div class="paragraph">
<p>The cop is unsafe for autocorrection because unexpected errors occurring in the argument
passed to numeric constructor (e.g., <code>Integer()</code>) can lead to incompatible behavior.
For example, changing it to <code>Integer(potential_exception_method_call, exception: false)</code>
ensures that exceptions raised by <code>potential_exception_method_call</code> are not ignored.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">Integer(potential_exception_method_call) rescue nil</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintsuppressedexceptioninnumberconversion"><a class="anchor" href="#examples-lintsuppressedexceptioninnumberconversion"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
Integer(arg) rescue nil

# bad
begin
  Integer(arg)
rescue
  nil
end

# bad
begin
  Integer(arg)
rescue
end

# good
Integer(arg, exception: false)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintsymbolconversion"><a class="anchor" href="#lintsymbolconversion"></a>Lint/SymbolConversion</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.16</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of literal strings converted to
a symbol where a literal symbol could be used instead.</p>
</div>
<div class="paragraph">
<p>There are two possible styles for this cop.
<code>strict</code> (default) will register an offense for any incorrect usage.
<code>consistent</code> additionally requires hashes to use the same style for
every symbol key (ie. if any symbol key needs to be quoted it requires
all keys to be quoted).</p>
</div>
<div class="sect2">
<h3 id="examples-lintsymbolconversion"><a class="anchor" href="#examples-lintsymbolconversion"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
'string'.to_sym
:symbol.to_sym
'underscored_string'.to_sym
:'underscored_symbol'
'hyphenated-string'.to_sym
"string_#{interpolation}".to_sym

# good
:string
:symbol
:underscored_string
:underscored_symbol
:'hyphenated-string'
:"string_#{interpolation}"</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-strict-_default_-lintsymbolconversion"><a class="anchor" href="#enforcedstyle_-strict-_default_-lintsymbolconversion"></a>EnforcedStyle: strict (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
{
  'a': 1,
  "b": 2,
  'c-d': 3
}

# good (don't quote keys that don't require quoting)
{
  a: 1,
  b: 2,
  'c-d': 3
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="enforcedstyle_-consistent-lintsymbolconversion"><a class="anchor" href="#enforcedstyle_-consistent-lintsymbolconversion"></a>EnforcedStyle: consistent</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
{
  a: 1,
  'b-c': 2
}

# good (quote all keys if any need quoting)
{
  'a': 1,
  'b-c': 2
}

# good (no quoting required)
{
  a: 1,
  b: 2
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintsymbolconversion"><a class="anchor" href="#configurable-attributes-lintsymbolconversion"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EnforcedStyle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>strict</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>strict</code>, <code>consistent</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintsyntax"><a class="anchor" href="#lintsyntax"></a>Lint/Syntax</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Repacks Parser&#8217;s diagnostics/errors
into RuboCop&#8217;s offenses.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="linttoenumarguments"><a class="anchor" href="#linttoenumarguments"></a>Lint/ToEnumArguments</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Ensures that <code>to_enum</code>/<code>enum_for</code>, called for the current method,
has correct arguments.</p>
</div>
<div class="sect2">
<h3 id="examples-linttoenumarguments"><a class="anchor" href="#examples-linttoenumarguments"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def foo(x, y = 1)
  return to_enum(__callee__, x) # `y` is missing
end

# good
def foo(x, y = 1)
  # Alternatives to `__callee__` are `__method__` and `:foo`.
  return to_enum(__callee__, x, y)
end

# good
def foo(x, y = 1)
  # It is also allowed if it is wrapped in some method like Sorbet.
  return to_enum(T.must(__callee__), x, y)
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="linttojson"><a class="anchor" href="#linttojson"></a>Lint/ToJSON</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.66</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks to make sure <code>#to_json</code> includes an optional argument.
When overriding <code>#to_json</code>, callers may invoke JSON
generation via <code>JSON.generate(your_obj)</code>.  Since <code>JSON#generate</code> allows
for an optional argument, your method should too.</p>
</div>
<div class="sect2">
<h3 id="examples-linttojson"><a class="anchor" href="#examples-linttojson"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">class Point
  attr_reader :x, :y

  # bad, incorrect arity
  def to_json
    JSON.generate([x, y])
  end

  # good, preserving args
  def to_json(*args)
    JSON.generate([x, y], *args)
  end

  # good, discarding args
  def to_json(*_args)
    JSON.generate([x, y])
  end
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="linttoplevelreturnwithargument"><a class="anchor" href="#linttoplevelreturnwithargument"></a>Lint/TopLevelReturnWithArgument</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.89</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for top level return with arguments. If there is a
top-level return statement with an argument, then the argument is
always ignored. This is detected automatically since Ruby 2.7.</p>
</div>
<div class="sect2">
<h3 id="examples-linttoplevelreturnwithargument"><a class="anchor" href="#examples-linttoplevelreturnwithargument"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
return 1

# good
return</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-linttoplevelreturnwithargument"><a class="anchor" href="#configurable-attributes-linttoplevelreturnwithargument"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Exclude</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>**/*.jb</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="linttrailingcommainattributedeclaration"><a class="anchor" href="#linttrailingcommainattributedeclaration"></a>Lint/TrailingCommaInAttributeDeclaration</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command-line only</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.90</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.61</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for trailing commas in attribute declarations, such as
<code>#attr_reader</code>. Leaving a trailing comma will nullify the next method
definition by overriding it with a getter method.</p>
</div>
<div class="sect2">
<h3 id="examples-linttrailingcommainattributedeclaration"><a class="anchor" href="#examples-linttrailingcommainattributedeclaration"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class Foo
  attr_reader :foo,

  def bar
    puts "Unreachable."
  end
end

# good
class Foo
  attr_reader :foo

  def bar
    puts "No problem!"
  end
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="linttriplequotes"><a class="anchor" href="#linttriplequotes"></a>Lint/TripleQuotes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for "triple quotes" (strings delimited by any odd number
of quotes greater than 1).</p>
</div>
<div class="paragraph">
<p>Ruby allows multiple strings to be implicitly concatenated by just
being adjacent in a statement (ie. <code>"foo""bar" == "foobar"</code>). This sometimes
gives the impression that there is something special about triple quotes, but
in fact it is just extra unnecessary quotes and produces the same string. Each
pair of quotes produces an additional concatenated empty string, so the result
is still only the "actual" string within the delimiters.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Although this cop is called triple quotes, the same behavior is present
for strings delimited by 5, 7, etc. quotation marks.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-linttriplequotes"><a class="anchor" href="#examples-linttriplequotes"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
"""
  A string
"""

# bad
'''
  A string
'''

# good
"
  A string
"

# good
&lt;&lt;STRING
  A string
STRING

# good (but not the same spacing as the bad case)
'A string'</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintunderscoreprefixedvariablename"><a class="anchor" href="#lintunderscoreprefixedvariablename"></a>Lint/UnderscorePrefixedVariableName</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for underscore-prefixed variables that are actually
used.</p>
</div>
<div class="paragraph">
<p>Since block keyword arguments cannot be arbitrarily named at call
sites, the <code>AllowKeywordBlockArguments</code> will allow use of underscore-
prefixed block keyword arguments.</p>
</div>
<div class="sect2">
<h3 id="examples-lintunderscoreprefixedvariablename"><a class="anchor" href="#examples-lintunderscoreprefixedvariablename"></a>Examples</h3>
<div class="sect3">
<h4 id="allowkeywordblockarguments_-false-_default_-lintunderscoreprefixedvariablename"><a class="anchor" href="#allowkeywordblockarguments_-false-_default_-lintunderscoreprefixedvariablename"></a>AllowKeywordBlockArguments: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad

[1, 2, 3].each do |_num|
  do_something(_num)
end

query(:sales) do |_id:, revenue:, cost:|
  {_id: _id, profit: revenue - cost}
end

# good

[1, 2, 3].each do |num|
  do_something(num)
end

[1, 2, 3].each do |_num|
  do_something # not using `_num`
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowkeywordblockarguments_-true-lintunderscoreprefixedvariablename"><a class="anchor" href="#allowkeywordblockarguments_-true-lintunderscoreprefixedvariablename"></a>AllowKeywordBlockArguments: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good

query(:sales) do |_id:, revenue:, cost:|
  {_id: _id, profit: revenue - cost}
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintunderscoreprefixedvariablename"><a class="anchor" href="#configurable-attributes-lintunderscoreprefixedvariablename"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowKeywordBlockArguments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintunescapedbracketinregexp"><a class="anchor" href="#lintunescapedbracketinregexp"></a>Lint/UnescapedBracketInRegexp</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.68</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for Regexpes (both literals and via <code>Regexp.new</code> / <code>Regexp.compile</code>)
that contain unescaped <code>]</code> characters.</p>
</div>
<div class="paragraph">
<p>It emulates the following Ruby warning:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">$ ruby -e '/abc]123/'
-e:1: warning: regular expression has ']' without escape: /abc]123/</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintunescapedbracketinregexp"><a class="anchor" href="#examples-lintunescapedbracketinregexp"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
/abc]123/
%r{abc]123}
Regexp.new('abc]123')
Regexp.compile('abc]123')

# good
/abc\]123/
%r{abc\]123}
Regexp.new('abc\]123')
Regexp.compile('abc\]123')</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintunexpectedblockarity"><a class="anchor" href="#lintunexpectedblockarity"></a>Lint/UnexpectedBlockArity</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for a block that is known to need more positional
block arguments than are given (by default this is configured for
<code>Enumerable</code> methods needing 2 arguments). Optional arguments are allowed,
although they don&#8217;t generally make sense as the default value will
be used. Blocks that have no receiver, or take splatted arguments
(ie. <code>*args</code>) are always accepted.</p>
</div>
<div class="paragraph">
<p>Keyword arguments (including <code>**kwargs</code>) do not get counted towards
this, as they are not used by the methods in question.</p>
</div>
<div class="paragraph">
<p>Method names and their expected arity can be configured like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">Methods:
  inject: 2
  reduce: 2</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="safety-lintunexpectedblockarity"><a class="anchor" href="#safety-lintunexpectedblockarity"></a>Safety</h3>
<div class="paragraph">
<p>This cop matches for method names only and hence cannot tell apart
methods with same name in different classes, which may lead to a
false positive.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintunexpectedblockarity"><a class="anchor" href="#examples-lintunexpectedblockarity"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
values.reduce {}
values.min { |a| a }
values.sort { |a; b| a + b }

# good
values.reduce { |memo, obj| memo &lt;&lt; obj }
values.min { |a, b| a &lt;=&gt; b }
values.sort { |*x| x[0] &lt;=&gt; x[1] }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintunexpectedblockarity"><a class="anchor" href="#configurable-attributes-lintunexpectedblockarity"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Methods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{"chunk_while" &#8658; 2, "each_with_index" &#8658; 2, "each_with_object" &#8658; 2, "inject" &#8658; 2, "max" &#8658; 2, "min" &#8658; 2, "minmax" &#8658; 2, "reduce" &#8658; 2, "slice_when" &#8658; 2, "sort" &#8658; 2}</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintunifiedinteger"><a class="anchor" href="#lintunifiedinteger"></a>Lint/UnifiedInteger</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.43</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for using Fixnum or Bignum constant.</p>
</div>
<div class="sect2">
<h3 id="examples-lintunifiedinteger"><a class="anchor" href="#examples-lintunifiedinteger"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
1.is_a?(Fixnum)
1.is_a?(Bignum)

# good
1.is_a?(Integer)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintunmodifiedreduceaccumulator"><a class="anchor" href="#lintunmodifiedreduceaccumulator"></a>Lint/UnmodifiedReduceAccumulator</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.5</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for <code>reduce</code> or <code>inject</code> blocks where the value returned (implicitly or
explicitly) does not include the accumulator. A block is considered valid as
long as at least one return value includes the accumulator.</p>
</div>
<div class="paragraph">
<p>If the accumulator is not included in the return value, then the entire
block will just return a transformation of the last element value, and
could be rewritten as such without a loop.</p>
</div>
<div class="paragraph">
<p>Also catches instances where an index of the accumulator is returned, as
this may change the type of object being retained.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For the purpose of reducing false positives, this cop only flags
returns in <code>reduce</code> blocks where the element is the only variable in
the expression (since we will not be able to tell what other variables
relate to via static analysis).
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-lintunmodifiedreduceaccumulator"><a class="anchor" href="#examples-lintunmodifiedreduceaccumulator"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
(1..4).reduce(0) do |acc, el|
  el * 2
end

# bad, may raise a NoMethodError after the first iteration
%w(a b c).reduce({}) do |acc, letter|
  acc[letter] = true
end

# good
(1..4).reduce(0) do |acc, el|
  acc + el * 2
end

# good, element is returned but modified using the accumulator
values.reduce do |acc, el|
  el &lt;&lt; acc
  el
end

# good, returns the accumulator instead of the index
%w(a b c).reduce({}) do |acc, letter|
  acc[letter] = true
  acc
end

# good, at least one branch returns the accumulator
values.reduce(nil) do |result, value|
  break result if something?
  value
end

# good, recursive
keys.reduce(self) { |result, key| result[key] }

# ignored as the return value cannot be determined
enum.reduce do |acc, el|
  x = foo(acc, el)
  bar(x)
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintunreachablecode"><a class="anchor" href="#lintunreachablecode"></a>Lint/UnreachableCode</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for unreachable code.
The check are based on the presence of flow of control
statement in non-final position in <code>begin</code> (implicit) blocks.</p>
</div>
<div class="sect2">
<h3 id="examples-lintunreachablecode"><a class="anchor" href="#examples-lintunreachablecode"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def some_method
  return
  do_something
end

# bad
def some_method
  if cond
    return
  else
    return
  end
  do_something
end

# good
def some_method
  do_something
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintunreachableloop"><a class="anchor" href="#lintunreachableloop"></a>Lint/UnreachableLoop</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.89</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.7</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for loops that will have at most one iteration.</p>
</div>
<div class="paragraph">
<p>A loop that can never reach the second iteration is a possible error in the code.
In rare cases where only one iteration (or at most one iteration) is intended behavior,
the code should be refactored to use <code>if</code> conditionals.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Block methods that are used with <code>Enumerable</code>s are considered to be loops.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>AllowedPatterns</code> can be used to match against the block receiver in order to allow
code that would otherwise be registered as an offense (eg. <code>times</code> used not in an
<code>Enumerable</code> context).</p>
</div>
<div class="sect2">
<h3 id="examples-lintunreachableloop"><a class="anchor" href="#examples-lintunreachableloop"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
while node
  do_something(node)
  node = node.parent
  break
end

# good
while node
  do_something(node)
  node = node.parent
end

# bad
def verify_list(head)
  item = head
  begin
    if verify(item)
      return true
    else
      return false
    end
  end while(item)
end

# good
def verify_list(head)
  item = head
  begin
    if verify(item)
      item = item.next
    else
      return false
    end
  end while(item)

  true
end

# bad
def find_something(items)
  items.each do |item|
    if something?(item)
      return item
    else
      raise NotFoundError
    end
  end
end

# good
def find_something(items)
  items.each do |item|
    if something?(item)
      return item
    end
  end
  raise NotFoundError
end

# bad
2.times { raise ArgumentError }</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowedpatterns_-___exactly_at_least_at_most____d_____times__-_default_-lintunreachableloop"><a class="anchor" href="#allowedpatterns_-___exactly_at_least_at_most____d_____times__-_default_-lintunreachableloop"></a>AllowedPatterns: ['(exactly|at_least|at_most)\(\d+\)\.times'] (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
exactly(2).times { raise StandardError }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintunreachableloop"><a class="anchor" href="#configurable-attributes-lintunreachableloop"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowedPatterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(?-mix:(exactly|at_least|at_most)\(\d+\)\.times)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintunusedblockargument"><a class="anchor" href="#lintunusedblockargument"></a>Lint/UnusedBlockArgument</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command-line only</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.61</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for unused block arguments.</p>
</div>
<div class="sect2">
<h3 id="examples-lintunusedblockargument"><a class="anchor" href="#examples-lintunusedblockargument"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
do_something do |used, unused|
  puts used
end

do_something do |bar|
  puts :foo
end

define_method(:foo) do |bar|
  puts :baz
end

# good
do_something do |used, _unused|
  puts used
end

do_something do
  puts :foo
end

define_method(:foo) do |_bar|
  puts :baz
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="ignoreemptyblocks_-true-_default_-lintunusedblockargument"><a class="anchor" href="#ignoreemptyblocks_-true-_default_-lintunusedblockargument"></a>IgnoreEmptyBlocks: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
do_something { |unused| }</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ignoreemptyblocks_-false-lintunusedblockargument"><a class="anchor" href="#ignoreemptyblocks_-false-lintunusedblockargument"></a>IgnoreEmptyBlocks: false</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
do_something { |unused| }</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowunusedkeywordarguments_-false-_default_-lintunusedblockargument"><a class="anchor" href="#allowunusedkeywordarguments_-false-_default_-lintunusedblockargument"></a>AllowUnusedKeywordArguments: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
do_something do |unused: 42|
  foo
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowunusedkeywordarguments_-true-lintunusedblockargument"><a class="anchor" href="#allowunusedkeywordarguments_-true-lintunusedblockargument"></a>AllowUnusedKeywordArguments: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
do_something do |unused: 42|
  foo
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintunusedblockargument"><a class="anchor" href="#configurable-attributes-lintunusedblockargument"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IgnoreEmptyBlocks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowUnusedKeywordArguments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-lintunusedblockargument"><a class="anchor" href="#references-lintunusedblockargument"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#underscore-unused-vars" class="bare">https://rubystyle.guide#underscore-unused-vars</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintunusedmethodargument"><a class="anchor" href="#lintunusedmethodargument"></a>Lint/UnusedMethodArgument</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command-line only</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.69</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for unused method arguments.</p>
</div>
<div class="sect2">
<h3 id="examples-lintunusedmethodargument"><a class="anchor" href="#examples-lintunusedmethodargument"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def some_method(used, unused, _unused_but_allowed)
  puts used
end

# good
def some_method(used, _unused, _unused_but_allowed)
  puts used
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="allowunusedkeywordarguments_-false-_default_-lintunusedmethodargument"><a class="anchor" href="#allowunusedkeywordarguments_-false-_default_-lintunusedmethodargument"></a>AllowUnusedKeywordArguments: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def do_something(used, unused: 42)
  used
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="allowunusedkeywordarguments_-true-lintunusedmethodargument"><a class="anchor" href="#allowunusedkeywordarguments_-true-lintunusedmethodargument"></a>AllowUnusedKeywordArguments: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
def do_something(used, unused: 42)
  used
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ignoreemptymethods_-true-_default_-lintunusedmethodargument"><a class="anchor" href="#ignoreemptymethods_-true-_default_-lintunusedmethodargument"></a>IgnoreEmptyMethods: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good
def do_something(unused)
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ignoreemptymethods_-false-lintunusedmethodargument"><a class="anchor" href="#ignoreemptymethods_-false-lintunusedmethodargument"></a>IgnoreEmptyMethods: false</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def do_something(unused)
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ignorenotimplementedmethods_-true-_default_-lintunusedmethodargument"><a class="anchor" href="#ignorenotimplementedmethods_-true-_default_-lintunusedmethodargument"></a>IgnoreNotImplementedMethods: true (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># with default value of `NotImplementedExceptions: ['NotImplementedError']`

# good
def do_something(unused)
  raise NotImplementedError
end

def do_something_else(unused)
  fail "TODO"
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ignorenotimplementedmethods_-true-lintunusedmethodargument"><a class="anchor" href="#ignorenotimplementedmethods_-true-lintunusedmethodargument"></a>IgnoreNotImplementedMethods: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># with `NotImplementedExceptions: ['AbstractMethodError']`

# good
def do_something(unused)
  raise AbstractMethodError
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ignorenotimplementedmethods_-false-lintunusedmethodargument"><a class="anchor" href="#ignorenotimplementedmethods_-false-lintunusedmethodargument"></a>IgnoreNotImplementedMethods: false</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def do_something(unused)
  raise NotImplementedError
end

def do_something_else(unused)
  fail "TODO"
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintunusedmethodargument"><a class="anchor" href="#configurable-attributes-lintunusedmethodargument"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AllowUnusedKeywordArguments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IgnoreEmptyMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IgnoreNotImplementedMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NotImplementedExceptions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NotImplementedError</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="references-lintunusedmethodargument"><a class="anchor" href="#references-lintunusedmethodargument"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#underscore-unused-vars" class="bare">https://rubystyle.guide#underscore-unused-vars</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="linturiescapeunescape"><a class="anchor" href="#linturiescapeunescape"></a>Lint/UriEscapeUnescape</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.50</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Identifies places where <code>URI.escape</code> can be replaced by
<code>CGI.escape</code>, <code>URI.encode_www_form</code>, or <code>URI.encode_www_form_component</code>
depending on your specific use case.
Also this cop identifies places where <code>URI.unescape</code> can be replaced by
<code>CGI.unescape</code>, <code>URI.decode_www_form</code>,
or <code>URI.decode_www_form_component</code> depending on your specific use case.</p>
</div>
<div class="sect2">
<h3 id="examples-linturiescapeunescape"><a class="anchor" href="#examples-linturiescapeunescape"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
URI.escape('http://example.com')
URI.encode('http://example.com')

# good
CGI.escape('http://example.com')
URI.encode_www_form([['example', 'param'], ['lang', 'en']])
URI.encode_www_form(page: 10, locale: 'en')
URI.encode_www_form_component('http://example.com')

# bad
URI.unescape(enc_uri)
URI.decode(enc_uri)

# good
CGI.unescape(enc_uri)
URI.decode_www_form(enc_uri)
URI.decode_www_form_component(enc_uri)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="linturiregexp"><a class="anchor" href="#linturiregexp"></a>Lint/UriRegexp</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.50</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Identifies places where <code>URI.regexp</code> is obsolete and should not be used.</p>
</div>
<div class="paragraph">
<p>For Ruby 3.3 or lower, use <code>URI::DEFAULT_PARSER.make_regexp</code>.
For Ruby 3.4 or higher, use <code>URI::RFC2396_PARSER.make_regexp</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you need to support both Ruby 3.3 and lower as well as Ruby 3.4 and higher,
consider manually changing the code as follows:
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">defined?(URI::RFC2396_PARSER) ? URI::RFC2396_PARSER : URI::DEFAULT_PARSER</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="examples-linturiregexp"><a class="anchor" href="#examples-linturiregexp"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
URI.regexp('http://example.com')

# good - Ruby 3.3 or lower
URI::DEFAULT_PARSER.make_regexp('http://example.com')

# good - Ruby 3.4 or higher
URI::RFC2396_PARSER.make_regexp('http://example.com')</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintuselessaccessmodifier"><a class="anchor" href="#lintuselessaccessmodifier"></a>Lint/UselessAccessModifier</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command-line only</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.61</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for redundant access modifiers, including those with no
code, those which are repeated, and leading <code>public</code> modifiers in a
class or module body. Conditionally-defined methods are considered as
always being defined, and thus access modifiers guarding such methods
are not redundant.</p>
</div>
<div class="paragraph">
<p>This cop has <code>ContextCreatingMethods</code> option. The default setting value
is an empty array that means no method is specified.
This setting is an array of methods which, when called, are known to
create its own context in the module&#8217;s current access context.</p>
</div>
<div class="paragraph">
<p>It also has <code>MethodCreatingMethods</code> option. The default setting value
is an empty array that means no method is specified.
This setting is an array of methods which, when called, are known to
create other methods in the module&#8217;s current access context.</p>
</div>
<div class="sect2">
<h3 id="examples-lintuselessaccessmodifier"><a class="anchor" href="#examples-lintuselessaccessmodifier"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class Foo
  public # this is redundant (default access is public)

  def method
  end
end

# bad
class Foo
  # The following is redundant (methods defined on the class'
  # singleton class are not affected by the private modifier)
  private

  def self.method3
  end
end

# bad
class Foo
  protected

  define_method(:method2) do
  end

  protected # this is redundant (repeated from previous modifier)

  [1,2,3].each do |i|
    define_method("foo#{i}") do
    end
  end
end

# bad
class Foo
  private # this is redundant (no following methods are defined)
end

# good
class Foo
  private # this is not redundant (a method is defined)

  def method2
  end
end

# good
class Foo
  # The following is not redundant (conditionally defined methods are
  # considered as always defining a method)
  private

  if condition?
    def method
    end
  end
end

# good
class Foo
  protected # this is not redundant (a method is defined)

  define_method(:method2) do
  end
end</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="contextcreatingmethods_-concerning-lintuselessaccessmodifier"><a class="anchor" href="#contextcreatingmethods_-concerning-lintuselessaccessmodifier"></a>ContextCreatingMethods: concerning</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># Lint/UselessAccessModifier:
#   ContextCreatingMethods:
#     - concerning

# good
require 'active_support/concern'
class Foo
  concerning :Bar do
    def some_public_method
    end

    private

    def some_private_method
    end
  end

  # this is not redundant because `concerning` created its own context
  private

  def some_other_private_method
  end
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="methodcreatingmethods_-delegate-lintuselessaccessmodifier"><a class="anchor" href="#methodcreatingmethods_-delegate-lintuselessaccessmodifier"></a>MethodCreatingMethods: delegate</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># Lint/UselessAccessModifier:
#   MethodCreatingMethods:
#     - delegate

# good
require 'active_support/core_ext/module/delegation'
class Foo
  # this is not redundant because `delegate` creates methods
  private

  delegate :method_a, to: :method_b
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintuselessaccessmodifier"><a class="anchor" href="#configurable-attributes-lintuselessaccessmodifier"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ContextCreatingMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MethodCreatingMethods</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintuselessassignment"><a class="anchor" href="#lintuselessassignment"></a>Lint/UselessAssignment</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command-line only</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.66</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for every useless assignment to local variable in every
scope.
The basic idea for this cop was from the warning of <code>ruby -cw</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-console hljs" data-lang="console">assigned but unused variable - foo</code></pre>
</div>
</div>
<div class="paragraph">
<p>Currently this cop has advanced logic that detects unreferenced
reassignments and properly handles varied cases such as branch, loop,
rescue, ensure, etc.</p>
</div>
<div class="paragraph">
<p>This cop&#8217;s autocorrection avoids cases like <code>a ||= 1</code> because removing assignment from
operator assignment can cause <code>NameError</code> if this assignment has been used to declare
a local variable. For example, replacing <code>a ||= 1</code> with <code>a || 1</code> may cause
"undefined local variable or method `a' for main:Object (NameError)".</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Given the assignment <code>foo = 1, bar = 2</code>, removing unused variables
can lead to a syntax error, so this case is not autocorrected.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-lintuselessassignment"><a class="anchor" href="#examples-lintuselessassignment"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def some_method
  some_var = 1
  do_something
end

# good
def some_method
  some_var = 1
  do_something(some_var)
end</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="references-lintuselessassignment"><a class="anchor" href="#references-lintuselessassignment"></a>References</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://rubystyle.guide#underscore-unused-vars" class="bare">https://rubystyle.guide#underscore-unused-vars</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintuselessconstantscoping"><a class="anchor" href="#lintuselessconstantscoping"></a>Lint/UselessConstantScoping</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.72</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for useless constant scoping. Private constants must be defined using
<code>private_constant</code> or <code>class &lt;&lt; self</code>. Even if <code>private</code> access modifier is used,
it is public scope despite its appearance.</p>
</div>
<div class="paragraph">
<p>It does not support autocorrection due to behavior change and multiple ways to fix it.
Or a public constant may be intended.</p>
</div>
<div class="sect2">
<h3 id="examples-lintuselessconstantscoping"><a class="anchor" href="#examples-lintuselessconstantscoping"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
class Foo
  private
  PRIVATE_CONST = 42
end

# good
class Foo
  PRIVATE_CONST = 42
  private_constant :PRIVATE_CONST
end

# good
class Foo
  class &lt;&lt; self
    private
    PRIVATE_CONST = 42
  end
end

# good
class Foo
  PUBLIC_CONST = 42 # If private scope is not intended.
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintuselessdefined"><a class="anchor" href="#lintuselessdefined"></a>Lint/UselessDefined</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.69</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for calls to <code>defined?</code> with strings or symbols as the argument.
Such calls will always return <code>'expression'</code>, you probably meant to
check for the existence of a constant, method, or variable instead.</p>
</div>
<div class="paragraph">
<p><code>defined?</code> is part of the Ruby syntax and doesn&#8217;t behave like normal methods.
You can safely pass in what you are checking for directly, without encountering
a <code>NameError</code>.</p>
</div>
<div class="paragraph">
<p>When interpolation is used, oftentimes it is not possible to write the
code with <code>defined?</code>. In these cases, switch to one of the more specific methods:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>class_variable_defined?</code></p>
</li>
<li>
<p><code>const_defined?</code></p>
</li>
<li>
<p><code>method_defined?</code></p>
</li>
<li>
<p><code>instance_variable_defined?</code></p>
</li>
<li>
<p><code>binding.local_variable_defined?</code></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="examples-lintuselessdefined"><a class="anchor" href="#examples-lintuselessdefined"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
defined?('FooBar')
defined?(:FooBar)
defined?(:foo_bar)
defined?('foo_bar')

# good
defined?(FooBar)
defined?(foo_bar)

# bad - interpolation
bar = 'Bar'
defined?("Foo::#{bar}::Baz")

# good
bar = 'Bar'
defined?(Foo) &amp;&amp; Foo.const_defined?(bar) &amp;&amp; Foo.const_get(bar).const_defined?(:Baz)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintuselesselsewithoutrescue"><a class="anchor" href="#lintuselesselsewithoutrescue"></a>Lint/UselessElseWithoutRescue</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Requires Ruby version &#8656; 2.5
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.31</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for useless <code>else</code> in <code>begin..end</code> without <code>rescue</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This syntax is no longer valid on Ruby 2.6 or higher.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-lintuselesselsewithoutrescue"><a class="anchor" href="#examples-lintuselesselsewithoutrescue"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
begin
  do_something
else
  do_something_else # This will never be run.
end

# good
begin
  do_something
rescue
  handle_errors
else
  do_something_else
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintuselessmethoddefinition"><a class="anchor" href="#lintuselessmethoddefinition"></a>Lint/UselessMethodDefinition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command-line only (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.90</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.61</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for useless method definitions, specifically: empty constructors
and methods just delegating to <code>super</code>.</p>
</div>
<div class="sect2">
<h3 id="safety-lintuselessmethoddefinition"><a class="anchor" href="#safety-lintuselessmethoddefinition"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe as it can register false positives for cases when an empty
constructor just overrides the parent constructor, which is bad anyway.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintuselessmethoddefinition"><a class="anchor" href="#examples-lintuselessmethoddefinition"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def initialize
  super
end

def method
  super
end

# good - with default arguments
def initialize(x = Object.new)
  super
end

# good
def initialize
  super
  initialize_internals
end

def method(*args)
  super(:extra_arg, *args)
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintuselessnumericoperation"><a class="anchor" href="#lintuselessnumericoperation"></a>Lint/UselessNumericOperation</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.66</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Certain numeric operations have no impact, being:
Adding or subtracting 0, multiplying or dividing by 1 or raising to the power of 1.
These are probably leftover from debugging, or are mistakes.</p>
</div>
<div class="sect2">
<h3 id="examples-lintuselessnumericoperation"><a class="anchor" href="#examples-lintuselessnumericoperation"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
x + 0
x - 0
x * 1
x / 1
x ** 1

# good
x

# bad
x += 0
x -= 0
x *= 1
x /= 1
x **= 1

# good
x = x</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintuselessrescue"><a class="anchor" href="#lintuselessrescue"></a>Lint/UselessRescue</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.43</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for useless `rescue`s, which only reraise rescued exceptions.</p>
</div>
<div class="sect2">
<h3 id="examples-lintuselessrescue"><a class="anchor" href="#examples-lintuselessrescue"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def foo
  do_something
rescue
  raise
end

# bad
def foo
  do_something
rescue =&gt; e
  raise # or 'raise e', or 'raise $!', or 'raise $ERROR_INFO'
end

# good
def foo
  do_something
rescue
  do_cleanup
  raise
end

# bad (latest rescue)
def foo
  do_something
rescue ArgumentError
  # noop
rescue
  raise
end

# good (not the latest rescue)
def foo
  do_something
rescue ArgumentError
  raise
rescue
  # noop
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintuselessruby2keywords"><a class="anchor" href="#lintuselessruby2keywords"></a>Lint/UselessRuby2Keywords</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pending</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.23</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Looks for <code>ruby2_keywords</code> calls for methods that do not need it.</p>
</div>
<div class="paragraph">
<p><code>ruby2_keywords</code> should only be called on methods that accept an argument splat
(<code>*args</code>) but do not explicit keyword arguments (<code>k:</code> or <code>k: true</code>) or
a keyword splat (<code>**kwargs</code>).</p>
</div>
<div class="sect2">
<h3 id="examples-lintuselessruby2keywords"><a class="anchor" href="#examples-lintuselessruby2keywords"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># good (splat argument without keyword arguments)
ruby2_keywords def foo(*args); end

# bad (no arguments)
ruby2_keywords def foo; end

# good
def foo; end

# bad (positional argument)
ruby2_keywords def foo(arg); end

# good
def foo(arg); end

# bad (double splatted argument)
ruby2_keywords def foo(**args); end

# good
def foo(**args); end

# bad (keyword arguments)
ruby2_keywords def foo(i:, j:); end

# good
def foo(i:, j:); end

# bad (splat argument with keyword arguments)
ruby2_keywords def foo(*args, i:, j:); end

# good
def foo(*args, i:, j:); end

# bad (splat argument with double splat)
ruby2_keywords def foo(*args, **kwargs); end

# good
def foo(*args, **kwargs); end

# bad (ruby2_keywords given a symbol)
def foo; end
ruby2_keywords :foo

# good
def foo; end

# bad (ruby2_keywords with dynamic method)
define_method(:foo) { |arg| }
ruby2_keywords :foo

# good
define_method(:foo) { |arg| }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintuselesssettercall"><a class="anchor" href="#lintuselesssettercall"></a>Lint/UselessSetterCall</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Always (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.2</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for setter call to local variable as the final
expression of a function definition.</p>
</div>
<div class="sect2">
<h3 id="safety-lintuselesssettercall"><a class="anchor" href="#safety-lintuselesssettercall"></a>Safety</h3>
<div class="paragraph">
<p>There are edge cases in which the local variable references a
value that is also accessible outside the local scope. This is not
detected by the cop, and it can yield a false positive.</p>
</div>
<div class="paragraph">
<p>As well, autocorrection is unsafe because the method&#8217;s
return value will be changed.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintuselesssettercall"><a class="anchor" href="#examples-lintuselesssettercall"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def something
  x = Something.new
  x.attr = 5
end

# good
def something
  x = Something.new
  x.attr = 5
  x
end</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintuselesstimes"><a class="anchor" href="#lintuselesstimes"></a>Lint/UselessTimes</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command-line only (Unsafe)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.91</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.61</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for uses of <code>Integer#times</code> that will never yield
(when the integer <code>&#8656; 0</code>) or that will only ever yield once
(<code>1.times</code>).</p>
</div>
<div class="sect2">
<h3 id="safety-lintuselesstimes"><a class="anchor" href="#safety-lintuselesstimes"></a>Safety</h3>
<div class="paragraph">
<p>This cop is unsafe as <code>times</code> returns its receiver, which is
<strong>usually</strong> OK, but might change behavior.</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintuselesstimes"><a class="anchor" href="#examples-lintuselesstimes"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
-5.times { do_something }
0.times { do_something }
1.times { do_something  }
1.times { |i| do_something(i) }

# good
do_something
do_something(1)</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lintvoid"><a class="anchor" href="#lintvoid"></a>Lint/Void</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Enabled by default</th>
<th class="tableblock halign-left valign-top">Safe</th>
<th class="tableblock halign-left valign-top">Supports autocorrection</th>
<th class="tableblock halign-left valign-top">Version Added</th>
<th class="tableblock halign-left valign-top">Version Changed</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command-line only</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.61</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Checks for operators, variables, literals, lambda, proc and nonmutating
methods used in void context.</p>
</div>
<div class="paragraph">
<p><code>each</code> blocks are allowed to prevent false positives.
For example, the expression inside the <code>each</code> block below.
It&#8217;s not void, especially when the receiver is an <code>Enumerator</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby">enumerator = [1, 2, 3].filter
enumerator.each { |item| item &gt;= 2 } #=&gt; [2, 3]</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="examples-lintvoid"><a class="anchor" href="#examples-lintvoid"></a>Examples</h3>
<div class="sect3">
<h4 id="checkformethodswithnosideeffects_-false-_default_-lintvoid"><a class="anchor" href="#checkformethodswithnosideeffects_-false-_default_-lintvoid"></a>CheckForMethodsWithNoSideEffects: false (default)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def some_method
  some_num * 10
  do_something
end

def some_method(some_var)
  some_var
  do_something
end</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="checkformethodswithnosideeffects_-true-lintvoid"><a class="anchor" href="#checkformethodswithnosideeffects_-true-lintvoid"></a>CheckForMethodsWithNoSideEffects: true</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-ruby hljs" data-lang="ruby"># bad
def some_method(some_array)
  some_array.sort
  do_something(some_array)
end

# good
def some_method
  do_something
  some_num * 10
end

def some_method(some_var)
  do_something
  some_var
end

def some_method(some_array)
  some_array.sort!
  do_something(some_array)
end</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configurable-attributes-lintvoid"><a class="anchor" href="#configurable-attributes-lintvoid"></a>Configurable attributes</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Default value</th>
<th class="tableblock halign-left valign-top">Configurable values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CheckForMethodsWithNoSideEffects</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="cops_layout.html">Layout</a></span>
  <span class="next"><a href="cops_metrics.html">Metrics</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>Copyright (C) 2012-2024 <a href="https://batsov.com">Bozhidar Batsov</a> and RuboCop contributors.</p>
  <p>Except where otherwise noted, docs.rubocop.org is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution-ShareAlike 4.0 International</a> (CC BY-SA 4.0).</p>
</footer>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@docsearch/js@3.3.3"></script>
<script type="text/javascript">
 docsearch({
   container: '#docsearch',
   appId: '2GTF3GZ5BX',
   apiKey: 'b6bbe6539f46224f4f39cd14a1b7ae78',
   indexName: 'rubocop',
   debug: false // Set debug to true if you want to inspect the dropdown
 });
</script>
<script id="site-script" src="../_/js/site.js" data-ui-root-path="../_"></script>
<script async src="../_/js/vendor/highlight.js"></script>
  </body>
</html>
